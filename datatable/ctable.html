<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Experiments with Data</title>

    <link rel="stylesheet" href="https://cdn.datatables.net/1.12.1/css/jquery.dataTables.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css"
        integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"
        integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

    <script src="https://cdn.datatables.net/1.12.1/js/jquery.dataTables.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.3/dist/umd/popper.min.js"
        integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js"
        integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
        crossorigin="anonymous"></script>

    <link rel="stylesheet" href="css/app.css">
</head>

<body>
    <h4>Experiments with Data
        <hr>
    </h4>
    <table id="myTable" class="display">
        <thead>
            <tr>
                <th>Name</th>
                <th>Position</th>
                <th>Office</th>
                <th>Extn.</th>
                <th>Start date</th>
                <th>Salary</th>
            </tr>
        </thead>
        <tfoot>
            <tr>
                <th>Name</th>
                <th>Position</th>
                <th>Office</th>
                <th>Extn.</th>
                <th>Start date</th>
                <th>Salary</th>
            </tr>
        </tfoot>
    </table>



    <script>

        const highlights = [
            { city: "Tokyo", color: '#99ccff', msg: 'LIVING THE FUTURE!',
                link:'<a href="https://twitter.com/I_LOVE_NY">I Love NY!</a>'},
            { city: "New York", color: '#ff99cc', msg: 'I Love NY!',
                link: '<a href="https://twitter.com/I_LOVE_NY">I Love NY!</a>' },
            { city: "London", color: '#ccff99', msg: 'There is nowhere else like London!',
             link: '<a href="https://twitter.com/I_LOVE_NY">I Love NY!</a>'
         }

        ];

        const getStyle = (bg) => {
            return `background-color:${bg};
                   border-radius:50%;
                   padding:4px;
                   cursor:pointer; `;
        }

        const callMe = (ele) => {
            const content = ele.dataset.city;
            $('[data-toggle="popover"]').popover({ html: true });
        };

        const options = {
            ajax: './data/data.txt',
            "rowCallback": function (row, data) {

                for (const item of highlights) {
                    if (data[2] === item.city) {
                        // console.log('GOT')
                        $('td:eq(2)', row).html(
                            `<span class='popoverBtn'
                       onmouseover="callMe(this)" 
                        data-city="${item.msg}"  data-toggle="popover" data-content="<br>${item.msg}<br><br>" 
                           title="Slogan"
                           style='${getStyle(item.color)}'> &nbsp; &nbsp; &nbsp;</span>
                           ${item.city} 
                       ` );
                    }
                }

            }
        };

        $(document).ready(function () {
            $('#myTable').DataTable(options);
        });
    </script>


<hr/>
<h4>How to use JQuery Datatable in Lightning Web Components (LWC) - Part-1</h4>

<iframe width="800" height="400" src="https://www.youtube.com/embed/lp5PG_r6nO4" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<h4>How to use JQuery Datatable in Lightning Web Components (LWC) - Part-2</h4>

<iframe width="800" height="400" src="https://www.youtube.com/embed/XcNY_5ap8Bc" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>


</body>

</html>
