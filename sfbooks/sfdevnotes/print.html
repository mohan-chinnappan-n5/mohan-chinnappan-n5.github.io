<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Salesforce Development Notes</title>
        <meta name="robots" content="noindex" />


        <!-- Custom HTML head -->

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="custom.css">

        <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="intro.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="dg/dg.html"><strong aria-hidden="true">2.</strong> Data Governance</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="dg/changeManagement.html"><strong aria-hidden="true">2.1.</strong> Change Management</a></li></ol></li><li class="chapter-item expanded "><a href="dm/datamodel.html"><strong aria-hidden="true">3.</strong> Data Model</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="dm/fsc-dm.html"><strong aria-hidden="true">3.1.</strong> Financial Services Cloud</a></li><li class="chapter-item expanded "><a href="dm/salescloud.html"><strong aria-hidden="true">3.2.</strong> Sales Cloud</a></li></ol></li><li class="chapter-item expanded "><a href="tools/aboutTools.html"><strong aria-hidden="true">4.</strong> Tools</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="tools/tools-org.html"><strong aria-hidden="true">4.1.</strong> Org Tools</a></li><li class="chapter-item expanded "><a href="tools/tools-data-bulkapi2.html"><strong aria-hidden="true">4.2.</strong> Data Loading BulkAPI2</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="tools/userloading.html"><strong aria-hidden="true">4.2.1.</strong> User Loading</a></li><li class="chapter-item expanded "><a href="tools/product2loading.html"><strong aria-hidden="true">4.2.2.</strong> Product2 Loading and Update</a></li><li class="chapter-item expanded "><a href="tools/flowinterview.html"><strong aria-hidden="true">4.2.3.</strong> FlowInterview Query and Deletion</a></li></ol></li><li class="chapter-item expanded "><a href="tools/tools-scpl.html"><strong aria-hidden="true">4.3.</strong> Loading State and Country Picklist</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="tools/tools-scpl-update.html"><strong aria-hidden="true">4.3.1.</strong> Updating State and Country Picklist </a></li></ol></li><li class="chapter-item expanded "><a href="tools/project-management/gantt.html"><strong aria-hidden="true">4.4.</strong> Project Management</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="project-management/pert.html"><strong aria-hidden="true">4.4.1.</strong> PERT</a></li></ol></li><li class="chapter-item expanded "><a href="tools/em.html"><strong aria-hidden="true">4.5.</strong> Event Monitoring</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="monitoring/proactive-monitoring.html"><strong aria-hidden="true">4.5.1.</strong> Proactive Monitoring</a></li><li class="chapter-item expanded "><a href="monitoring/realtime-event-monitoring.html"><strong aria-hidden="true">4.5.2.</strong> Real-Time Event Monitoring</a></li><li class="chapter-item expanded "><a href="tools/scripts.html"><strong aria-hidden="true">4.5.3.</strong> Auditing Scripts</a></li><li class="chapter-item expanded "><a href="tools/compare.html"><strong aria-hidden="true">4.5.4.</strong> Comparison</a></li></ol></li><li class="chapter-item expanded "><a href="tools/instance.html"><strong aria-hidden="true">4.6.</strong> Instance Related</a></li><li class="chapter-item expanded "><a href="tools/oms.html"><strong aria-hidden="true">4.7.</strong> Org Metadata Snapshot</a></li></ol></li><li class="chapter-item expanded "><a href="tools/scripts.html"><strong aria-hidden="true">5.</strong> Auditing Scripts</a></li><li class="chapter-item expanded "><a href="custom-metadata-types.html"><strong aria-hidden="true">6.</strong> Custom Metadata Types</a></li><li class="chapter-item expanded "><a href="cq/cq.html"><strong aria-hidden="true">7.</strong> Code Quality</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="cq/pmd.html"><strong aria-hidden="true">7.1.</strong> Code Scan PMD</a></li><li class="chapter-item expanded "><a href="cq/comments.html"><strong aria-hidden="true">7.2.</strong> Comments Checking</a></li><li class="chapter-item expanded "><a href="cq/test-coverage.html"><strong aria-hidden="true">7.3.</strong> Apex Code Test Coverage</a></li><li class="chapter-item expanded "><a href="cq/lwc-linting.html"><strong aria-hidden="true">7.4.</strong> LWC Linting</a></li><li class="chapter-item expanded "><a href="cq/eslint-custom-rules.html"><strong aria-hidden="true">7.5.</strong> eslint custom rules</a></li></ol></li><li class="chapter-item expanded "><a href="deployments/deployments.html"><strong aria-hidden="true">8.</strong> Deployments</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="deployments/delta.html"><strong aria-hidden="true">8.1.</strong> Delta Deployments</a></li><li class="chapter-item expanded "><a href="deployments/gha.html"><strong aria-hidden="true">8.2.</strong> Github Actions</a></li><li class="chapter-item expanded "><a href="deployments/validate.html"><strong aria-hidden="true">8.3.</strong> Validating changes</a></li><li class="chapter-item expanded "><a href="deployments/admin-changes.html"><strong aria-hidden="true">8.4.</strong> Taking care of Admin changes</a></li><li class="chapter-item expanded "><a href="deployments/devOpsCenter.html"><strong aria-hidden="true">8.5.</strong> DevOps Center</a></li><li class="chapter-item expanded "><a href="deployments/jenkins.html"><strong aria-hidden="true">8.6.</strong> Jenkins</a></li><li class="chapter-item expanded "><a href="deployments/git.html"><strong aria-hidden="true">8.7.</strong> git</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="deployments/git-internals.html"><strong aria-hidden="true">8.7.1.</strong> git internals</a></li><li class="chapter-item expanded "><a href="deployments/git-hooks.html"><strong aria-hidden="true">8.7.2.</strong> git hooks</a></li><li class="chapter-item expanded "><a href="deployments/git-ops.html"><strong aria-hidden="true">8.7.3.</strong> git operations</a></li><li class="chapter-item expanded "><a href="deployments/pr-template.html"><strong aria-hidden="true">8.7.4.</strong> pull request template</a></li><li class="chapter-item expanded "><a href="deployments/git-diff.html"><strong aria-hidden="true">8.7.5.</strong> git diff</a></li><li class="chapter-item expanded "><a href="deployments/git-merge.html"><strong aria-hidden="true">8.7.6.</strong> git merge</a></li><li class="chapter-item expanded "><a href="deployments/git-log.html"><strong aria-hidden="true">8.7.7.</strong> git log</a></li><li class="chapter-item expanded "><a href="deployments/git-stash.html"><strong aria-hidden="true">8.7.8.</strong> git stash</a></li><li class="chapter-item expanded "><a href="deployments/git-config.html"><strong aria-hidden="true">8.7.9.</strong> git config</a></li><li class="chapter-item expanded "><a href="deployments/git-revert.html"><strong aria-hidden="true">8.7.10.</strong> git revert</a></li><li class="chapter-item expanded "><a href="deployments/git-delete-branch.html"><strong aria-hidden="true">8.7.11.</strong> git deleting branch</a></li></ol></li><li class="chapter-item expanded "><a href="deployments/app-exchange.html"><strong aria-hidden="true">8.8.</strong> Apps from App Exchange </a></li><li class="chapter-item expanded "><a href="deployments/sourceTracking.html"><strong aria-hidden="true">8.9.</strong> Source Tracking</a></li><li class="chapter-item expanded "><a href="deployments/dangling.html"><strong aria-hidden="true">8.10.</strong> Dangling Fields Finder</a></li><li class="chapter-item expanded "><a href="deployments/sbx.html"><strong aria-hidden="true">8.11.</strong> Sandbox Management</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="deployments/sandbox-preview-guide.html"><strong aria-hidden="true">8.11.1.</strong> Sandbox Preview Guide</a></li></ol></li><li class="chapter-item expanded "><a href="deployments/MetadataComponentDependency.html"><strong aria-hidden="true">8.12.</strong> MetadataComponentDependency</a></li><li class="chapter-item expanded "><a href="deployments/yaml.html"><strong aria-hidden="true">8.13.</strong> YAML</a></li><li class="chapter-item expanded "><a href="deployments/packages.html"><strong aria-hidden="true">8.14.</strong> Installed Packages</a></li></ol></li><li class="chapter-item expanded "><a href="crma/tools.html"><strong aria-hidden="true">9.</strong> CRMA tools</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="crma/load-export.html"><strong aria-hidden="true">9.1.</strong> Dataset Load and Export</a></li><li class="chapter-item expanded "><a href="crma/analysis.html"><strong aria-hidden="true">9.2.</strong> Analysis</a></li><li class="chapter-item expanded "><a href="crma/binding.html"><strong aria-hidden="true">9.3.</strong> Binding</a></li><li class="chapter-item expanded "><a href="crma/deployment.html"><strong aria-hidden="true">9.4.</strong> Deployment</a></li></ol></li><li class="chapter-item expanded "><a href="perf/perf.html"><strong aria-hidden="true">10.</strong> Performance</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="perf/lex-perf.html"><strong aria-hidden="true">10.1.</strong> Lex Performance</a></li><li class="chapter-item expanded "><a href="perf/perf-testing.html"><strong aria-hidden="true">10.2.</strong> Performance testing</a></li><li class="chapter-item expanded "><a href="perf/perf-pw.html"><strong aria-hidden="true">10.3.</strong> Testing with Playwright</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="e2e/playwright.html"><strong aria-hidden="true">10.3.1.</strong> More with Playwright</a></li></ol></li><li class="chapter-item expanded "><a href="perf/edge.html"><strong aria-hidden="true">10.4.</strong> Salesforce Edge Network</a></li><li class="chapter-item expanded "><a href="perf/lex-query.html"><strong aria-hidden="true">10.5.</strong> Lightning Experience Queries</a></li><li class="chapter-item expanded "><a href="perf/rum.html"><strong aria-hidden="true">10.6.</strong> Real User Monitoring (RUM)</a></li></ol></li><li class="chapter-item expanded "><a href="dwg/dwg-tools.html"><strong aria-hidden="true">11.</strong> Diagram tools</a></li><li class="chapter-item expanded "><a href="xml/xml-tools.html"><strong aria-hidden="true">12.</strong> XML tools</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="xml/xlst-transformer.html"><strong aria-hidden="true">12.1.</strong> Transformer</a></li><li class="chapter-item expanded "><a href="xml/xml-delta.html"><strong aria-hidden="true">12.2.</strong> XML Delta Util</a></li></ol></li><li class="chapter-item expanded "><a href="dp/dp.html"><strong aria-hidden="true">13.</strong> Data Processing tools</a></li><li class="chapter-item expanded "><a href="i18n/i18n.html"><strong aria-hidden="true">14.</strong> Translation Tools</a></li><li class="chapter-item expanded "><a href="media/recording.html"><strong aria-hidden="true">15.</strong> Media - Recording tools</a></li><li class="chapter-item expanded "><a href="media/image.html"><strong aria-hidden="true">16.</strong> Image Processing</a></li><li class="chapter-item expanded "><a href="codegen/codegen.html"><strong aria-hidden="true">17.</strong> Code Generators</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="codegen/lwc.html"><strong aria-hidden="true">17.1.</strong> LWC Code Generators</a></li><li class="chapter-item expanded "><a href="ml/nlp.html"><strong aria-hidden="true">17.2.</strong> Apex Code Generators</a></li></ol></li><li class="chapter-item expanded "><a href="ml/ml.html"><strong aria-hidden="true">18.</strong> Machine Learning</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ml/sdcg.html"><strong aria-hidden="true">18.1.</strong> Semantic Doc Compare and Group</a></li><li class="chapter-item expanded "><a href="ml/datacatalog.html"><strong aria-hidden="true">18.2.</strong> Data Catalog for ML Work</a></li><li class="chapter-item expanded "><a href="ml/chatgpt.html"><strong aria-hidden="true">18.3.</strong> openAI - ChatGPT</a></li><li class="chapter-item expanded "><a href="ml/gpt3codex.html"><strong aria-hidden="true">18.4.</strong> openAI - GPT3 Codex</a></li><li class="chapter-item expanded "><a href="ml/einsteinbot.html"><strong aria-hidden="true">18.5.</strong> Einstein Bot</a></li><li class="chapter-item expanded "><a href="ml/dialogflow.html"><strong aria-hidden="true">18.6.</strong> Dialogflow - Knowledge Base</a></li><li class="chapter-item expanded "><a href="ml/nlp.html"><strong aria-hidden="true">18.7.</strong> NLP</a></li><li class="chapter-item expanded "><a href="ml/transformers.html"><strong aria-hidden="true">18.8.</strong> Transformers</a></li><li class="chapter-item expanded "><a href="ml/llm.html"><strong aria-hidden="true">18.9.</strong> Large Language Models</a></li></ol></li><li class="chapter-item expanded "><a href="docmgmt/docmgmt.html"><strong aria-hidden="true">19.</strong> Document Management tools</a></li><li class="chapter-item expanded "><a href="design/design-notes.html"><strong aria-hidden="true">20.</strong> Design Principles</a></li><li class="chapter-item expanded "><a href="chromeext/ext.html"><strong aria-hidden="true">21.</strong> Chrome Extensions</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="chromeext/onnu.html"><strong aria-hidden="true">21.1.</strong> ONNU</a></li></ol></li><li class="chapter-item expanded "><a href="vscode/ext.html"><strong aria-hidden="true">22.</strong> VS Code Extensions</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="vscode/sfland.html"><strong aria-hidden="true">22.1.</strong> SF Land</a></li><li class="chapter-item expanded "><a href="vscode/pmd.html"><strong aria-hidden="true">22.2.</strong> VSCode Apex PMD</a></li><li class="chapter-item expanded "><a href="vscode/vsc-tips.html"><strong aria-hidden="true">22.3.</strong> VSCode tips</a></li></ol></li><li class="chapter-item expanded "><a href="dviz/dviz.html"><strong aria-hidden="true">23.</strong> Data Viz</a></li><li class="chapter-item expanded "><a href="releases.html"><strong aria-hidden="true">24.</strong> Releases</a></li><li class="chapter-item expanded "><a href="rest/rest_tester.html"><strong aria-hidden="true">25.</strong> REST Tester</a></li><li class="chapter-item expanded "><a href="security/security.html"><strong aria-hidden="true">26.</strong> Security</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="security/sd.html"><strong aria-hidden="true">26.1.</strong> Sharing Debugger</a></li><li class="chapter-item expanded "><a href="security/rh.html"><strong aria-hidden="true">26.2.</strong> Role Hierarchy</a></li><li class="chapter-item expanded "><a href="security/shield.html"><strong aria-hidden="true">26.3.</strong> Shield</a></li><li class="chapter-item expanded "><a href="security/profile-ps.html"><strong aria-hidden="true">26.4.</strong> Profile, PermissionSet</a></li><li class="chapter-item expanded "><a href="security/setupAuditTrail.html"><strong aria-hidden="true">26.5.</strong> SetupAuditTrail</a></li><li class="chapter-item expanded "><a href="security/datamask.html"><strong aria-hidden="true">26.6.</strong> Data Mask</a></li><li class="chapter-item expanded "><a href="security/saml.html"><strong aria-hidden="true">26.7.</strong> SAML</a></li><li class="chapter-item expanded "><a href="security/openIDConnectConcepts.html"><strong aria-hidden="true">26.8.</strong> OpenID Connect</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="security/openIDConnect.html"><strong aria-hidden="true">26.8.1.</strong> OIDC Google</a></li><li class="chapter-item expanded "><a href="security/openIDConnectProvider.html"><strong aria-hidden="true">26.8.2.</strong> OIDC Provider</a></li><li class="chapter-item expanded "><a href="security/jwt.html"><strong aria-hidden="true">26.8.3.</strong> JWT</a></li></ol></li><li class="chapter-item expanded "><a href="security/openssl.html"><strong aria-hidden="true">26.9.</strong> OpenSSL</a></li><li class="chapter-item expanded "><a href="security/pen-test.html"><strong aria-hidden="true">26.10.</strong> Penetration Testing</a></li></ol></li><li class="chapter-item expanded "><a href="mobile/mobile.html"><strong aria-hidden="true">27.</strong> Mobile</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="mobile/ios-sim.html"><strong aria-hidden="true">27.1.</strong> Simulator</a></li></ol></li><li class="chapter-item expanded "><a href="rd/rd.html"><strong aria-hidden="true">28.</strong> Reports and Dashboards</a></li><li class="chapter-item expanded "><a href="customLabels/cl.html"><strong aria-hidden="true">29.</strong> Custom Labels</a></li><li class="chapter-item expanded "><a href="accessibility/508.html"><strong aria-hidden="true">30.</strong> 508 - Accessibility</a></li><li class="chapter-item expanded "><a href="process-automation/processAutomation.html"><strong aria-hidden="true">31.</strong> Process Automation</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="process-automation/flow.html"><strong aria-hidden="true">31.1.</strong> Flow</a></li></ol></li><li class="chapter-item expanded "><a href="great/folks.html"><strong aria-hidden="true">32.</strong> Great Folks</a></li><li class="chapter-item expanded "><a href="editor/editor-tips.html"><strong aria-hidden="true">33.</strong> Editor tips</a></li><li class="chapter-item expanded "><a href="bash/tips.html"><strong aria-hidden="true">34.</strong> Bash tips</a></li><li class="chapter-item expanded "><a href="language-design/ld.html"><strong aria-hidden="true">35.</strong> Language Design</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="language-design/apex.html"><strong aria-hidden="true">35.1.</strong> Apex</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="language-design/apex-grammar.html"><strong aria-hidden="true">35.1.1.</strong> Grammar</a></li></ol></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Salesforce Development Notes</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="introduction"><a class="header" href="#introduction">Introduction</a></h1>
<img src='https://mohan-chinnappan-n.github.io/gandhi-mahatma-large.jpg' width='40' style="border-radius:35px;float: left;"/>
<pre><code>Be the change that you wish to see in the world. 
- Mohandas Gandhi
</code></pre>
<p><img src="img/bookcover-1.jpg" alt="cover" /></p>
<h2 id="goals-of-this-book"><a class="header" href="#goals-of-this-book">Goals of this book</a></h2>
<table><thead><tr><th>Cover about</th></tr></thead><tbody>
<tr><td>Best practices  and tools for the trade</td></tr>
<tr><td>Methods for maintaining code quality</td></tr>
<tr><td>Options in DevOps</td></tr>
<tr><td>Details on Change management and governance</td></tr>
<tr><td>Provide Org management tools</td></tr>
<tr><td>Version Control</td></tr>
<tr><td>Chrome Extension</td></tr>
<tr><td>VS Code Extension</td></tr>
</tbody></table>
<hr />
<h2 id="request-to-the-readers"><a class="header" href="#request-to-the-readers">Request to the readers</a></h2>
<h3 id="please-plant-fruit-trees-like-king-ashoka-did"><a class="header" href="#please-plant-fruit-trees-like-king-ashoka-did">Please plant fruit trees like <a href="https://www.awatrees.com/2018/05/24/ashoka-arboriculture-in-india/">King Ashoka</a> did:</a></h3>
<pre><code>“Along roads I have had wells dug and trees planted for the benefit of humans and animals”.
“Along roads I have had banyan trees planted so that they can give shade to animals and men, and I have had mango groves planted.”
</code></pre>
<hr />
<p><small>Images used are from the Chromecast source.</small></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="data-governance"><a class="header" href="#data-governance">Data Governance</a></h1>
<iframe id="inlineFrameExample"
    title="Inline Frame Example"
    width="900"
    height="600"
    src="https://mohan-chinnappan-n.github.io/sfdc/dg.html#/home">
</iframe>
<h2 id="cost-of-doing-nothing"><a class="header" href="#cost-of-doing-nothing">Cost of doing nothing</a></h2>
<ul>
<li><img src="https://github.com/mohan-chinnappan-n/Data-Governance/raw/master/img/dc-16.png" alt="cost of doing nothing" /></li>
</ul>
<h2 id="references"><a class="header" href="#references">References</a></h2>
<ul>
<li><a href="https://mohan-chinnappan-n.github.io/sfdc/dg.html#/home">Salesforce Data Governance Slides</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="change-management"><a class="header" href="#change-management">Change Management</a></h1>
<p><img src="dg/../img/cover/chromecast-falls-1.jpg" alt="Falls" /></p>
<ul>
<li>Optimizing the <strong>change management</strong>  is the key to the <strong>success</strong> of any Salesforce implementation</li>
<li>Changes are a regular affair when you are bringing in new features/enhancements into your implementation </li>
</ul>
<pre class="mermaid">   graph TD;
        A[Finding the Need for the Change]--&gt;B[Define Change Scope];
        B--&gt;C[Assign Priority to the Change you are bringing in.\n How it enhances/affects current implementation];
        C--&gt;D[Submit the change to the Change Approval Board - CAB];
        D--&gt;E[Change got approved by CAB];
        E--&gt;F[Perform the change];
        F--&gt;G[Regression test the change];
        G--&gt;H[Change Manager Approves the implemented change.\n Records that change was successful,\n timely, accurately estimated, within budget, and other details ]
     
</pre>
<h2 id="using-atlassian-change-management"><a class="header" href="#using-atlassian-change-management">Using Atlassian Change Management</a></h2>
<iframe width="800" height="400" src="https://www.youtube.com/embed/ZLq6QKxt0KA" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<p><img src="dg/img/cm-1.png" alt="Confluence CM" /></p>
<ul>
<li>
<p>A project member requests a change. They provide the details like the affected systems, possible risks, and expected implementation.</p>
</li>
<li>
<p>The change manager or peers determine if the change will be successful. They may ask for more information in this step.</p>
</li>
<li>
<p>After review, the team plans how to put the change in place. They record details about:</p>
<ul>
<li>the expected outcomes </li>
<li>resources needed</li>
<li>timeline</li>
<li>testing requirements</li>
<li>undo : ways to roll back the change</li>
</ul>
</li>
<li>
<p>Depending on the type of change and risk, a <strong>change approval board (CAB)</strong> may need to review the plan.</p>
</li>
<li>
<p>The team works to implement the change, documenting their procedures and results.</p>
</li>
<li>
<p>The <strong>change manager</strong> reviews and closes the implemented change. </p>
<ul>
<li>They note whether it was successful, timely, accurately estimated, within budget, and other details.</li>
</ul>
</li>
</ul>
<p><img src="dg/img/cm-2.png" alt="cm-2" /></p>
<h2 id="roles"><a class="header" href="#roles">Roles</a></h2>
<h3 id="change-manager-cm"><a class="header" href="#change-manager-cm">Change Manager (CM)</a></h3>
<ul>
<li>A Change Manager (CM) is a trusted advisor that addresses the people side of change. </li>
<li>A CM’s primary goal is to help define a clear vision for change and assist in designing a plan that will drive faster adoption, increase utilization of and proficiency with the changes that impact an organization or business.</li>
</ul>
<h3 id="project-manager"><a class="header" href="#project-manager">Project Manager</a></h3>
<ul>
<li>Primary point of contact</li>
<li>Manages Project Plan, Organization, delivery within budget and schedule</li>
<li>Escalation point for the  project team and stakeholders</li>
<li>Monitor project alignment and goals</li>
</ul>
<h3 id="product-owner"><a class="header" href="#product-owner">Product Owner</a></h3>
<ul>
<li>Primary point of contact for Development team</li>
<li>Defines product roadmap and vision</li>
<li>Manages product backlog</li>
<li>Oversees and evaluates development stages and progress</li>
</ul>
<h2 id="references-1"><a class="header" href="#references-1">References</a></h2>
<ul>
<li><a href="https://confluence.atlassian.com/servicedeskcloud/managing-changes-with-your-it-service-desk-817562147.html">Change management</a></li>
</ul>
<h2 id="videos"><a class="header" href="#videos">Videos</a></h2>
<iframe width="800" height="460" src="https://www.youtube.com/embed/94ttfphUR-8" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe><div style="break-before: page; page-break-before: always;"></div><h1 id="data-model"><a class="header" href="#data-model">Data Model</a></h1>
<h2 id="topics"><a class="header" href="#topics">Topics</a></h2>
<ul>
<li><a href="dm/datamodel.html#tools">Tools for extracting Org metadata</a></li>
<li><a href="dm/datamodel.html#sfl">SF-LAND Data Viz for viewing the metadata</a></li>
<li><a href="dm/datamodel.html#erd">Getting ERD for given sObjects</a></li>
</ul>
<hr />
<p><a name='tools'></a></p>
<h2 id="tools-for-getting-the-complete-metadata-of-your-org"><a class="header" href="#tools-for-getting-the-complete-metadata-of-your-org">Tools for getting the complete metadata of your org</a></h2>
<h3 id="let-us-pick-a-scratch-org-to-show-the-concepts"><a class="header" href="#let-us-pick-a-scratch-org-to-show-the-concepts">Let us pick a scratch org to show the concepts</a></h3>
<pre><code>ALIAS     USERNAME                      ORG ID             EXPIRATION DATE 
 ─ ───────── ───────────────────────────── ────────────────── ─────────────── 
   treeprjSO test-uzsmfdqkhtk7@example.com 00DDM000003raPM2AY 2023-01-28      

</code></pre>
<h3 id="let-us-get-the-all-the-objects-in-the-org-into-a-object-list-txt-file"><a class="header" href="#let-us-get-the-all-the-objects-in-the-org-into-a-object-list-txt-file">Let us get the all the objects in the org into a object list txt file</a></h3>
<pre><code>~/treeprj [main] &gt;sfdx mohanc:md:describeGlobal -u test-uzsmfdqkhtk7@example.com &gt; treeprjSO_Objects.txt

</code></pre>
<h3 id="you-can-get-the-list-of-objects-names-in-the-org-from-this-text-file-by"><a class="header" href="#you-can-get-the-list-of-objects-names-in-the-org-from-this-text-file-by">You can get the list of objects names in the org from this text file by:</a></h3>
<pre><code>cat treeprjSO_Objects.txt | sed 's/,/\n/g' | bat 
───────┬───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
       │ STDIN
───────┼───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
   1   │ AIApplication
   2   │ AIApplicationConfig
   3   │ AIInsightAction
   4   │ AIInsightFeedback
   5   │ AIInsightReason
   6   │ AIInsightValue
   7   │ AIPredictionEvent
   8   │ AIRecordInsight
   9   │ AcceptedEventRelation
  10   │ Account
  11   │ AccountChangeEvent
  12   │ AccountCleanInfo
  13   │ AccountContactRole
  14   │ AccountContactRoleChangeEvent
  15   │ AccountFeed
  16   │ AccountHistory
  17   │ AccountPartner
  18   │ AccountShare
  19   │ ActionLinkGroupTemplate
  20   │ ActionLinkTemplate
  21   │ ActiveFeatureLicenseMetric
  22   │ ActivePermSetLicenseMetric
  23   │ ActiveProfileMetric
  24   │ ActivityHistory
  25   │ AdditionalNumber
  26   │ Address
  27   │ AggregateResult
  28   │ AlternativePaymentMethod
  29   │ AlternativePaymentMethodShare
  30   │ Announcement
:

</code></pre>
<h3 id="get-the-org-metadata-using-this-object-list-text-file-into-treeprjso_metadatacsv"><a class="header" href="#get-the-org-metadata-using-this-object-list-text-file-into-treeprjso_metadatacsv">Get the org metadata using this object list text file into treeprjSO_metadata.csv</a></h3>
<ul>
<li>This operation may take few minutes based your org metadata </li>
</ul>
<pre><code>sfdx mohanc:md:describe -u test-uzsmfdqkhtk7@example.com -i treeprjSO_Objects.txt &gt; treeprjSO_metadata.csv

</code></pre>
<pre><code>bat treeprjSO_metadata.csv 
───────┬───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
       │ File: treeprjSO_metadata.csv
───────┼───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
   1   │ &quot;sobjectName&quot;,&quot;sobjectLabel&quot;,&quot;name&quot;,&quot;label&quot;,&quot;type&quot;,&quot;length&quot;,&quot;nillable&quot;,&quot;referenceTo&quot;,&quot;relationshipName&quot;,&quot;unique&quot;,&quot;updateable&quot;,&quot;inlineHelpText&quot;
       │ ,&quot;picklistValues&quot;,&quot;externalId&quot;
   2   │ &quot;AIApplication&quot;,&quot;AI Application&quot;,&quot;Id&quot;,&quot;AI Application ID&quot;,&quot;id&quot;,18,false,&quot;[]&quot;,,false,false,,&quot;[]&quot;,false
   3   │ &quot;AIApplication&quot;,&quot;AI Application&quot;,&quot;IsDeleted&quot;,&quot;Deleted&quot;,&quot;boolean&quot;,0,false,&quot;[]&quot;,,false,false,,&quot;[]&quot;,false
   4   │ &quot;AIApplication&quot;,&quot;AI Application&quot;,&quot;DeveloperName&quot;,&quot;Name&quot;,&quot;string&quot;,80,false,&quot;[]&quot;,,false,false,,&quot;[]&quot;,false
   5   │ &quot;AIApplication&quot;,&quot;AI Application&quot;,&quot;Language&quot;,&quot;Master Language&quot;,&quot;picklist&quot;,40,false,&quot;[]&quot;,,false,false,,&quot;[&quot;&quot;English&quot;&quot;,&quot;&quot;German&quot;&quot;,&quot;&quot;Spanish&quot;&quot;,&quot;&quot;Fr
       │ ench&quot;&quot;,&quot;&quot;Italian&quot;&quot;,&quot;&quot;Japanese&quot;&quot;,&quot;&quot;Swedish&quot;&quot;,&quot;&quot;Korean&quot;&quot;,&quot;&quot;Chinese (Traditional)&quot;&quot;,&quot;&quot;Chinese (Simplified)&quot;&quot;,&quot;&quot;Portuguese (Brazil)&quot;&quot;,&quot;&quot;Dutch&quot;&quot;,&quot;&quot;
       │ Danish&quot;&quot;,&quot;&quot;Thai&quot;&quot;,&quot;&quot;Finnish&quot;&quot;,&quot;&quot;Russian&quot;&quot;,&quot;&quot;Spanish (Mexico)&quot;&quot;,&quot;&quot;Norwegian&quot;&quot;]&quot;,false
   6   │ &quot;AIApplication&quot;,&quot;AI Application&quot;,&quot;MasterLabel&quot;,&quot;Label&quot;,&quot;string&quot;,80,false,&quot;[]&quot;,,false,false,,&quot;[]&quot;,false
   7   │ &quot;AIApplication&quot;,&quot;AI Application&quot;,&quot;NamespacePrefix&quot;,&quot;Namespace Prefix&quot;,&quot;string&quot;,15,true,&quot;[]&quot;,,false,false,,&quot;[]&quot;,false
   8   │ &quot;AIApplication&quot;,&quot;AI Application&quot;,&quot;CreatedDate&quot;,&quot;Created Date&quot;,&quot;datetime&quot;,0,false,&quot;[]&quot;,,false,false,,&quot;[]&quot;,false
   9   │ &quot;AIApplication&quot;,&quot;AI Application&quot;,&quot;CreatedById&quot;,&quot;Created By ID&quot;,&quot;reference&quot;,18,false,&quot;[&quot;&quot;User&quot;&quot;]&quot;,&quot;CreatedBy&quot;,false,false,,&quot;[]&quot;,false
  10   │ &quot;AIApplication&quot;,&quot;AI Application&quot;,&quot;LastModifiedDate&quot;,&quot;Last Modified Date&quot;,&quot;datetime&quot;,0,false,&quot;[]&quot;,,false,false,,&quot;[]&quot;,false
  11   │ &quot;AIApplication&quot;,&quot;AI Application&quot;,&quot;LastModifiedById&quot;,&quot;Last Modified By ID&quot;,&quot;reference&quot;,18,false,&quot;[&quot;&quot;User&quot;&quot;]&quot;,&quot;LastModifiedBy&quot;,false,false,,&quot;[]&quot;
       │ ,false
  12   │ &quot;AIApplication&quot;,&quot;AI Application&quot;,&quot;SystemModstamp&quot;,&quot;System Modstamp&quot;,&quot;datetime&quot;,0,false,&quot;[]&quot;,,false,false,,&quot;[]&quot;,false
  13   │ &quot;AIApplication&quot;,&quot;AI Application&quot;,&quot;Status&quot;,&quot;Status&quot;,&quot;picklist&quot;,255,false,&quot;[]&quot;,,false,false,,&quot;[&quot;&quot;3&quot;&quot;,&quot;&quot;2&quot;&quot;,&quot;&quot;1&quot;&quot;,&quot;&quot;0&quot;&quot;]&quot;,false
  14   │ &quot;AIApplication&quot;,&quot;AI Application&quot;,&quot;Type&quot;,&quot;App Type&quot;,&quot;picklist&quot;,255,false,&quot;[]&quot;,,false,false,,&quot;[&quot;&quot;5&quot;&quot;,&quot;&quot;14&quot;&quot;]&quot;,false
  15   │ &quot;sobjectName&quot;,&quot;sobjectLabel&quot;,&quot;name&quot;,&quot;label&quot;,&quot;type&quot;,&quot;length&quot;,&quot;nillable&quot;,&quot;referenceTo&quot;,&quot;relationshipName&quot;,&quot;unique&quot;,&quot;updateable&quot;,&quot;inlineHelpText&quot;
       │ ,&quot;picklistValues&quot;,&quot;externalId&quot;
  16   │ &quot;AIApplicationConfig&quot;,&quot;AI Application config&quot;,&quot;Id&quot;,&quot;AI Application config Id&quot;,&quot;id&quot;,18,false,&quot;[]&quot;,,false,false,,&quot;[]&quot;,false
  17   │ &quot;AIApplicationConfig&quot;,&quot;AI Application config&quot;,&quot;IsDeleted&quot;,&quot;Deleted&quot;,&quot;boolean&quot;,0,false,&quot;[]&quot;,,false,false,,&quot;[]&quot;,false
  18   │ &quot;AIApplicationConfig&quot;,&quot;AI Application config&quot;,&quot;DeveloperName&quot;,&quot;Name&quot;,&quot;string&quot;,80,false,&quot;[]&quot;,,false,false,,&quot;[]&quot;,false
  19   │ &quot;AIApplicationConfig&quot;,&quot;AI Application config&quot;,&quot;Language&quot;,&quot;Master Language&quot;,&quot;picklist&quot;,40,false,&quot;[]&quot;,,false,false,,&quot;[&quot;&quot;English&quot;&quot;,&quot;&quot;German&quot;&quot;,&quot;&quot;S
       │ panish&quot;&quot;,&quot;&quot;French&quot;&quot;,&quot;&quot;Italian&quot;&quot;,&quot;&quot;Japanese&quot;&quot;,&quot;&quot;Swedish&quot;&quot;,&quot;&quot;Korean&quot;&quot;,&quot;&quot;Chinese (Traditional)&quot;&quot;,&quot;&quot;Chinese (Simplified)&quot;&quot;,&quot;&quot;Portuguese (Brazil)&quot;&quot;
       │ ,&quot;&quot;Dutch&quot;&quot;,&quot;&quot;Danish&quot;&quot;,&quot;&quot;Thai&quot;&quot;,&quot;&quot;Finnish&quot;&quot;,&quot;&quot;Russian&quot;&quot;,&quot;&quot;Spanish (Mexico)&quot;&quot;,&quot;&quot;Norwegian&quot;&quot;]&quot;,false
  20   │ &quot;AIApplicationConfig&quot;,&quot;AI Application config&quot;,&quot;MasterLabel&quot;,&quot;Label&quot;,&quot;string&quot;,80,false,&quot;[]&quot;,,false,false,,&quot;[]&quot;,false
  21   │ &quot;AIApplicationConfig&quot;,&quot;AI Application config&quot;,&quot;NamespacePrefix&quot;,&quot;Namespace Prefix&quot;,&quot;string&quot;,15,true,&quot;[]&quot;,,false,false,,&quot;[]&quot;,false
  22   │ &quot;AIApplicationConfig&quot;,&quot;AI Application config&quot;,&quot;CreatedDate&quot;,&quot;Created Date&quot;,&quot;datetime&quot;,0,false,&quot;[]&quot;,,false,false,,&quot;[]&quot;,false
  23   │ &quot;AIApplicationConfig&quot;,&quot;AI Application config&quot;,&quot;CreatedById&quot;,&quot;Created By ID&quot;,&quot;reference&quot;,18,false,&quot;[&quot;&quot;User&quot;&quot;]&quot;,&quot;CreatedBy&quot;,false,false,,&quot;[]&quot;,
</code></pre>
<p><a name='sfl'></a></p>
<h3 id="using-sf-land-data-viz-to-view-the-model-file"><a class="header" href="#using-sf-land-data-viz-to-view-the-model-file">Using SF-LAND Data Viz to view the model file</a></h3>
<iframe id="inlineFrameExample"
    title="Inline Frame Example"
    width="1100"
    height="800"
    src="https://mohan-chinnappan-n5.github.io/dfv/dfv.html?d=data/treeprjSO_metadata.csv&x=4">
</iframe>
<p><a name='erd'></a></p>
<h2 id="erd"><a class="header" href="#erd">ERD</a></h2>
<ul>
<li>Let us get ERD for Contact and Account Objects</li>
<li>Note: This also emits the metadata for these 2 object in csv - contact-account.csv</li>
</ul>
<pre><code>sfdx mohanc:md:describe -s Contact,Account -e contact-account.dot -u test-uzsmfdqkhtk7@example.com &gt; contact-account.csv
</code></pre>
<h2 id="get-the-svg-for-this-erd"><a class="header" href="#get-the-svg-for-this-erd">Get the SVG for this ERD</a></h2>
<pre><code>sfdx mohanc:viz:graphviz:dot2svg -i contact-account.dot 
SVG file is written to contact-account.dot.svg

open contact-account.dot.svg 

</code></pre>
<ul>
<li>Click on the image to view the full version</li>
</ul>
<p><a href="dm/img/contact-account.dot.svg"><img src="dm/img/contact-account.dot.svg" alt="ERD" /></a></p>
<pre><code>




</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="financial-services-cloud-fsc-interactive-data-model"><a class="header" href="#financial-services-cloud-fsc-interactive-data-model">Financial Services Cloud (FSC) Interactive Data Model</a></h1>
<iframe id="inlineFrameExample"
    title="Inline Frame Example"
    width="1100"
    height="800"
    src="https://mohan-chinnappan-n.github.io/sfdc/fs-cloud/model.html">
</iframe>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sales-cloud-interactive-data-model"><a class="header" href="#sales-cloud-interactive-data-model">Sales Cloud Interactive Data Model</a></h1>
<iframe id="SFDCDataModel"
    title="SFDC Data Model"
    width="1100"
    height="800"
    src="https://mohan-chinnappan-n.github.io/sfdc/fs-cloud/model-sfdc.html">
</iframe>
<iframe id="ProuductandPricebook"
    title="ProuductandPricebook"
    width="1100"
    height="800"
    src="img/sales-cloud-product-price-book-data-model.pdf">
</iframe>
<div style="break-before: page; page-break-before: always;"></div><h1 id="tools-for-trade"><a class="header" href="#tools-for-trade">Tools for trade</a></h1>
<ul>
<li>We will discuss tools used for maintaining the Salesforce org</li>
</ul>
<p><img src="tools/../img/cover/chromecast-sea-4.jpg" alt="Sea 4" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="tools-for-the-salesforce-org"><a class="header" href="#tools-for-the-salesforce-org">Tools for the Salesforce Org</a></h1>
<p><img src="tools/../img/cover//chromecast-sea-5.jpg" alt="Sea 5" /></p>
<h2 id="topics-1"><a class="header" href="#topics-1">Topics</a></h2>
<ul>
<li><a href="tools/tools-org.html#orgviz">Visualizing the org</a></li>
<li><a href="tools/tools-org.html#orgCompareQuery">Comparing query results from 2 orgs</a></li>
<li><a href="tools/tools-org.html#rc2">Compare 2 Salesforce Orgs for a metadata type</a> </li>
<li><a href="tools/tools-org.html#list">List Metadata item of the given Metadata type and compare it with local</a></li>
<li><a href="tools/tools-org.html#modelExport">Export SObject Metadata from an Org</a></li>
<li><a href="tools/tools-org.html#modelERD">ERD for the given list of Salesforce Objects</a></li>
<li><a href="tools/tools-org.html#compareSObjects">Compare SObjects in 2 orgs</a></li>
</ul>
<hr />
<p><a name='orgviz'></a></p>
<h2 id="visualizing-the-org"><a class="header" href="#visualizing-the-org">Visualizing the org</a></h2>
<pre><code>sfdx mohanc:org:viz -u test-uzsmfdqkhtk7@example.com --help
</code></pre>
<pre><code>Visualize the Org

USAGE
  $ sfdx mohanc org viz [-u &lt;string&gt;] [--apiversion &lt;string&gt;] [--json] [--loglevel
    trace|debug|info|warn|error|fatal|TRACE|DEBUG|INFO|WARN|ERROR|FATAL]

FLAGS
  -u, --targetusername=&lt;value&gt;                                                      username or alias for the target org; overrides default target org
  --apiversion=&lt;value&gt;                                                              override the api version used for api requests made by this command
  --json                                                                            format output as json
  --loglevel=(trace|debug|info|warn|error|fatal|TRACE|DEBUG|INFO|WARN|ERROR|FATAL)  [default: warn] logging level for this command invocation

DESCRIPTION
  Visualize the Org

EXAMPLES
             Visualize the org
             sfdx mohanc:org:viz
      


</code></pre>
<h3 id="demo-of-orgviz"><a class="header" href="#demo-of-orgviz">Demo of org:viz</a></h3>
<pre><code>sfdx mohanc:org:viz -u test-uzsmfdqkhtk7@example.com
</code></pre>
<pre><code>=== Working on getOrgData ===
=== Working on getOrgLimits ===
=== Working on getCount:ApexClass ===
=== Working on getCount:ApexPage ===
=== Working on getCount:ConnectedApplication ===
=== Working on getCount:CustomPermission ===
=== Working on getCount:ExternalDataSource ===
=== Working on getCount:FieldPermissions ===
=== Working on getCount:FieldSecurityClassification ===
=== Working on getCount:Group ===
=== Working on getCount:GroupMember ===
=== Working on getCount:NamedCredential ===
=== Working on getCount:ObjectPermissions ===
=== Working on getCount:PackageLicense ===
=== Working on getCount:PermissionSet ===
=== Working on getCount:PermissionSetAssignment ===
=== Working on getCount:PermissionSetGroup ===
=== Working on getCount:PermissionSetLicense ===
=== Working on getCount:Profile ===
=== Working on getCount:QueueSobject ===
=== Working on getCount:SetupAssistantStep ===
=== Working on getCount:SetupEntityAccess ===
=== Working on getCount:User ===
=== Working on getCount:UserLicense ===
=== Working on getCount:UserPackageLicense ===
=== Working on getCount:UserRole ===
=== Working on getCount:Account ===
=== Working on getCount:AccountContactRole ===
=== Working on getCount:Asset ===
=== Working on getCount:Campaign ===
=== Working on getCount:CampaignMember ===
=== Working on getCount:Case ===
=== Working on getCount:CaseStatus ===
=== Working on getCount:Contact ===
=== Working on getCount:Contract ===
=== Working on getCount:ContractContactRole ===
=== Working on getCount:Lead ===
=== Working on getCount:Opportunity ===
=== Working on getCount:OpportunityCompetitor ===
=== Working on getCount:OpportunityContactRole ===
=== Working on getCount:OpportunityStage ===
=== Working on getCount:Order ===
=== Working on getCount:Partner ===
=== Working on getCount:PartnerRole ===
=== Working on getCount:Account ===
=== Working on getCount:Case ===
=== Working on getCount:CaseComment ===
=== Working on getCount:CaseHistory ===
=== Working on getCount:CaseSolution ===
=== Working on getCount:Contact ===
=== Working on getCount:Solution ===
=== Working on getPackageInfo ===
=== Working on EntityDefinitionSummary:Account ===
=== Working on EntityDefinitionSummary:Contact ===
=== Working on EntityDefinitionSummary:AccountContactRole ===
=== Working on EntityDefinitionSummary:Opportunity ===
=== Working on EntityDefinitionSummary:OpportunityContactRole ===
=== Working on EntityDefinitionSummary:OpportunityCompetitor ===
=== Working on EntityDefinitionSummary:Lead ===
=== Working on EntityDefinitionSummary:Case ===
=== Working on EntityDefinitionSummary:Campaign ===
=== Working on EntityDefinitionSummary:CampaignMember ===
=== Working on EntityDefinitionSummary:Asset ===
=== Working on EntityDefinitionSummary:Contract ===
=== Working on EntityDefinitionSummary:ContractContactRole ===
=== Working on EntityDefinitionSummary:Order ===
=== Working on getApexCodeCoverage ===
=== Working on getBusinessProcess ===
=== Working on getCertificate ===
=== Working on CspTrustedSite ===
=== Working on getOauthToken ===
=== Working on getSetupAuditTrail ===
=== Working on getInactiveUsers ===
=== Working on getUnusedProfiles ===
=== Working on getUsedProfiles ===
=== Working on getUsedPermissionSets ===
=== Working on getUnusedPermissionSets ===
=== Working on getUsedProfiles ===
=== Working on getUsedRoles ===
=== Working on getSysAdminUsers ===
=== Working on getProfileInfo:System Administrator ===
Error: {
    &quot;name&quot;: &quot;INVALID_FIELD&quot;,
    &quot;errorCode&quot;: &quot;INVALID_FIELD&quot;
}
=== Working on getProfileInfo:Customer Community Login User ===
Error: {
    &quot;name&quot;: &quot;INVALID_FIELD&quot;,
    &quot;errorCode&quot;: &quot;INVALID_FIELD&quot;
}
=== Working on getPermissionSetInfo:Sales_Ops ===
Error: {
    &quot;name&quot;: &quot;INVALID_FIELD&quot;,
    &quot;errorCode&quot;: &quot;INVALID_FIELD&quot;
}
=== Working on getProfileForUserLicense:Guest ===
Error: {
    &quot;name&quot;: &quot;INVALID_FIELD&quot;,
    &quot;errorCode&quot;: &quot;INVALID_FIELD&quot;
}
=== Working on getUserLicenseInfo ===
=== Working on getNetworkMemberInfo ===
Error: {
    &quot;name&quot;: &quot;INVALID_TYPE&quot;,
    &quot;errorCode&quot;: &quot;INVALID_TYPE&quot;
}
=== Working on getHasEinsteinDataDiscovery ===
=== Working on getHasEDD ===
=== Working on getHasEinsteinDataDiscovery ===
=== Working on getCountTooling:flow ===
=== Working on getFlows ===
=== Working on getFlowMetadata ===
=== Writing Org JSON in file Org.json ...
=== Writing visualization in file Org.svg ...
Visualization done. &quot;open  Org.svg&quot; in Chrome Browser to view the Visualization

</code></pre>
<h4 id="org-svg"><a class="header" href="#org-svg">Org SVG</a></h4>
<ul>
<li>Click on the diagram to view full view
<a href="tools/img/Org.svg"><img src="tools/img/Org.svg" alt="Org SVV" /></a></li>
</ul>
<p><a href="tools/img/Org.json">Org JSON</a></p>
<hr />
<p><a name='orgCompareQuery'></a></p>
<h2 id="comparing-query-results-from-2-orgs"><a class="header" href="#comparing-query-results-from-2-orgs">Comparing query results from 2 orgs</a></h2>
<pre><code>sfdx mohanc:org:compare --help
</code></pre>
<pre><code>Compare 2 orgs for the given metadata type query

USAGE
  $ sfdx mohanc org compare -o &lt;string&gt; [-m &lt;string&gt;] [-q &lt;string&gt;] [--json] [--loglevel
    trace|debug|info|warn|error|fatal|TRACE|DEBUG|INFO|WARN|ERROR|FATAL]

FLAGS
  -m, --mtype=&lt;value&gt;                                                               metadata type, exmaple: profile
  -o, --orgusernames=&lt;value&gt;                                                        (required) Comma separated orgUserName, example:
                                                                                    user1@email.com,user2@email.com
  -q, --inputfilename=&lt;value&gt;                                                       soql file or url for soql
  --json                                                                            format output as json
  --loglevel=(trace|debug|info|warn|error|fatal|TRACE|DEBUG|INFO|WARN|ERROR|FATAL)  [default: warn] logging level for this command invocation

DESCRIPTION
  Compare 2 orgs for the given metadata type query

EXAMPLES
             Compare 2 orgs for the given metadata type  query
             sfdx mohanc:org:compare -o orgUserName1,orgUserName2 -m metadataType
             when -m is used, query here: https://github.com/mohan-chinnappan-n/soql will be used
             to refer ObjectPermissions 
               (https://raw.githubusercontent.com/mohan-chinnappan-n/soql/main/ObjectPermissions.soql) 
             use:  sfdx mohanc:org:compare -o orgUserName1,orgUserName2 -m  ObjectPermissions
             sfdx mohanc:org:compare -o orgUserName1,orgUserName2 -i inputquery.soql
             Note: inputquery.soql can be a local file or url
           
             Example
             sfdx mohanc:org:compare -o mohan.chinnappan.n.sel@gmail.com,mohan.chinnappan.n.sel2@gmail.com -m profile
             sfdx mohanc:org:compare -o mohan.chinnappan.n.sel@gmail.com,mohan.chinnappan.n.sel2@gmail.com -q inputquery.soql

</code></pre>
<h3 id="demo-of-org-query-compare-tool"><a class="header" href="#demo-of-org-query-compare-tool">Demo of Org query compare tool</a></h3>
<iframe width="800" height="500" src="https://www.youtube.com/embed/3eLkVv9djCg" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<h2 id="compare-2-salesforce-orgs-for-a-metadata-type"><a class="header" href="#compare-2-salesforce-orgs-for-a-metadata-type">Compare 2 Salesforce Orgs for a metadata type</a></h2>
<p><a name='rc2'></a></p>
<pre><code>sfdx mohanc:mdapi:helper:rc2 -m Profile -o mohan.chinnappan.n.sel@gmail.com,mohan.chinnappan.n.sel2@gmail.com -n &quot;Admin&quot; --help
</code></pre>
<pre><code>Retrieve Metadata from 2 orgs and compares them

USAGE
  $ sfdx mohanc mdapi helper rc2 -o &lt;string&gt; -m &lt;string&gt; -n &lt;string&gt; [-u &lt;string&gt;] [--apiversion &lt;string&gt;] [--json] [--loglevel
    trace|debug|info|warn|error|fatal|TRACE|DEBUG|INFO|WARN|ERROR|FATAL]

FLAGS
  -m, --mtype=&lt;value&gt;                                                               (required) Metadata type, example: Profile
  -n, --name=&lt;value&gt;                                                                (required) Name of the metadata type
  -o, --orgusernames=&lt;value&gt;                                                        (required) 2 Org usernames comma separated
  -u, --targetusername=&lt;value&gt;                                                      username or alias for the target org; overrides default target org
  --apiversion=&lt;value&gt;                                                              override the api version used for api requests made by this command
  --json                                                                            format output as json
  --loglevel=(trace|debug|info|warn|error|fatal|TRACE|DEBUG|INFO|WARN|ERROR|FATAL)  [default: warn] logging level for this command invocation

DESCRIPTION
  Retrieve Metadata from 2 orgs and compares them

EXAMPLES
      retrieve a metadata type from 2 orgs and compare them
      sfdx mohanc:mdapi:helper:rc  -m &lt;metadata type&gt; -o orgUserName1,orgUserName2  -n &lt;name&gt; 
      Example: 
             sfdx mohanc:mdapi:helper:rc2 -m PermissionSet -o orgUserName1,orgUserName2  -n PermissionSetName
</code></pre>
<h3 id="demo-of-compare-2-salesforce-orgs-for-a-metadata-type"><a class="header" href="#demo-of-compare-2-salesforce-orgs-for-a-metadata-type">Demo of Compare 2 Salesforce Orgs for a metadata type</a></h3>
<iframe width="800" height="500" src="https://www.youtube.com/embed/NdRZe_bfp54" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<h2 id="list-metadata-item-of-the-given-metadata-type-and-compare-it-with-local"><a class="header" href="#list-metadata-item-of-the-given-metadata-type-and-compare-it-with-local">List Metadata item of the given Metadata type and compare it with local</a></h2>
<p><a name='list'></a></p>
<pre><code>sfdx mohanc:mdapi:helper:list -m Profile -u mohan.chinnappan.n.sel@gmail.com -p force-app/main/default/  --help
List Metadata item of the given Metadata type and compare it with local

USAGE
  $ sfdx mohanc mdapi helper list -m &lt;string&gt; -p &lt;string&gt; [-u &lt;string&gt;] [--apiversion &lt;string&gt;] [--json] [--loglevel
    trace|debug|info|warn|error|fatal|TRACE|DEBUG|INFO|WARN|ERROR|FATAL]

FLAGS
  -m, --mtype=&lt;value&gt;                                                               (required) Metadata type, example: Profile
  -p, --prjfolder=&lt;value&gt;                                                           (required) DX Project folder path (example:
                                                                                    ~/treeprj/force-app/main/default/
  -u, --targetusername=&lt;value&gt;                                                      username or alias for the target org; overrides default target org
  --apiversion=&lt;value&gt;                                                              override the api version used for api requests made by this command
  --json                                                                            format output as json
  --loglevel=(trace|debug|info|warn|error|fatal|TRACE|DEBUG|INFO|WARN|ERROR|FATAL)  [default: warn] logging level for this command invocation

DESCRIPTION
  List Metadata item of the given Metadata type and compare it with local

EXAMPLES
      List Metadata item of the given Metadata type and compare it with local 
             sfdx mohanc:mdapi:helper:list  -m &lt;metadata type&gt; -p &lt;dxProjectFolder&gt;
           
             Example: 
             sfdx mohanc:mdapi:helper:list  -m Profile -p ~/treeprj/force-app/main/default/
      


</code></pre>
<pre><code>sfdx mohanc:mdapi:helper:list -m Profile -u mohan.chinnappan.n.sel@gmail.com -p force-app/main/default/
</code></pre>
<pre><code>force-app/main/default/profiles/SolutionManager.profile-meta.xml true
force-app/main/default/profiles/Analytics Cloud Security User.profile-meta.xml true
force-app/main/default/profiles/Partner App Subscription User.profile-meta.xml true
force-app/main/default/profiles/Guest License User.profile-meta.xml true
force-app/main/default/profiles/HighVolumePortal.profile-meta.xml true
force-app/main/default/profiles/Analytics Cloud Integration User.profile-meta.xml true
force-app/main/default/profiles/Identity User.profile-meta.xml true
force-app/main/default/profiles/Customer Community User.profile-meta.xml true
force-app/main/default/profiles/Authenticated Website.profile-meta.xml true
force-app/main/default/profiles/Customer Portal Manager Standard.profile-meta.xml true
force-app/main/default/profiles/External Identity User.profile-meta.xml true
force-app/main/default/profiles/Customer Community Plus Login User.profile-meta.xml true
force-app/main/default/profiles/Chatter External User.profile-meta.xml true
force-app/main/default/profiles/Customer Portal Manager Custom.profile-meta.xml true
force-app/main/default/profiles/Chatter Moderator User.profile-meta.xml true
force-app/main/default/profiles/Cross Org Data Proxy User.profile-meta.xml true
force-app/main/default/profiles/Custom%3A Marketing Profile.profile-meta.xml false
force-app/main/default/profiles/StandardAul.profile-meta.xml true
force-app/main/default/profiles/Custom%3A Support Profile.profile-meta.xml false
force-app/main/default/profiles/Force%2Ecom - App Subscription User.profile-meta.xml false
force-app/main/default/profiles/mohanc Profile.profile-meta.xml true
force-app/main/default/profiles/Read Only.profile-meta.xml true
force-app/main/default/profiles/Force%2Ecom - Free User.profile-meta.xml false
force-app/main/default/profiles/PlatformPortal.profile-meta.xml true
force-app/main/default/profiles/Chatter Free User.profile-meta.xml true
force-app/main/default/profiles/Gold Partner User.profile-meta.xml true
force-app/main/default/profiles/Partner Community User.profile-meta.xml true
force-app/main/default/profiles/Customer Community Login User.profile-meta.xml true
force-app/main/default/profiles/Minimum Access - Salesforce.profile-meta.xml true
force-app/main/default/profiles/Work%2Ecom Only User.profile-meta.xml false
force-app/main/default/profiles/Customer Community Plus User.profile-meta.xml true
force-app/main/default/profiles/Custom%3A Sales Profile.profile-meta.xml false
force-app/main/default/profiles/Admin.profile-meta.xml true
force-app/main/default/profiles/ContractManager.profile-meta.xml true
force-app/main/default/profiles/Silver Partner User.profile-meta.xml true
force-app/main/default/profiles/External Apps Login User.profile-meta.xml true
force-app/main/default/profiles/Partner Community Login User.profile-meta.xml true
force-app/main/default/profiles/Standard.profile-meta.xml true
force-app/main/default/profiles/MarketingProfile.profile-meta.xml true
force-app/main/default/profiles/High Volume Customer Portal User.profile-meta.xml true
</code></pre>
<h3 id="demo-of-list-metadata-item-of-the-given-metadata-type-and-compare-it-with-local"><a class="header" href="#demo-of-list-metadata-item-of-the-given-metadata-type-and-compare-it-with-local">Demo of List Metadata item of the given Metadata type and compare it with local</a></h3>
<iframe width="800" height="500" src="https://www.youtube.com/embed/T26apDEFt60" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<p><a name='modelExport'></a></p>
<h2 id="export-sobject-metadata-from-an-org"><a class="header" href="#export-sobject-metadata-from-an-org">Export SObject Metadata from an Org</a></h2>
<pre><code>sfdx mohanc:md:describeGlobal  -u mohan.chinnappan.n.sel2@gmail.com   &gt; objects.txt
</code></pre>
<pre><code>sfdx mohanc:md:describe -u mohan.chinnappan.n.sel2@gmail.com  -i objects.txt &gt; org-md.csv

</code></pre>
<iframe width="800" height="500" src="https://www.youtube.com/embed/uD9DACxTzYo" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<h3 id="making-packagexml-for-all-the-objects-in-the-org"><a class="header" href="#making-packagexml-for-all-the-objects-in-the-org">Making package.xml for all the objects in the org</a></h3>
<ul>
<li><a href="https://github.com/mohan-chinnappan-n/shell-scripts/blob/master/bash/make_package.xml.sh">make_package.xml.sh</a> </li>
</ul>
<hr />
<pre><code class="language-bash"># make_package.xml.sh
# reads stdin of lines to create package.xml
# mchinnappan


API_VERSION=56.0
prefix=$(cat &lt;&lt;EOF 
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;

&lt;Package xmlns=&quot;http://soap.sforce.com/2006/04/metadata&quot;&gt;

&lt;version&gt;${API_VERSION}&lt;/version&gt;

&lt;types&gt;
 
&lt;name&gt;CustomObject&lt;/name&gt;
EOF
)

echo ${prefix}

while read line; do
  echo &quot; &lt;members&gt;${line}&lt;/members&gt;&quot; 
done

suffix=$(cat &lt;&lt; EOF
&lt;/types&gt;

&lt;/Package&gt;
EOF
)
echo ${suffix}

</code></pre>
<pre><code class="language-bash"># if you do not have bat in *nix box, use cat
# get all custom objects
sfdx mohanc:md:describeGlobal -u mohan.chinnappan.n_ea2@gmail.com | tr ',' '\n' | grep -i  &quot;__c$&quot; | bash ~/shell-scripts/bash/make_package.xml.sh  &gt; _package.xml; xmllint --format _package.xml &gt; package.xml; bat package.xml


</code></pre>
<pre><code>───────┬──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
       │ File: package.xml
───────┼──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
   1   │ &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
   2   │ &lt;Package xmlns=&quot;http://soap.sforce.com/2006/04/metadata&quot;&gt;
   3   │   &lt;version&gt;56.0&lt;/version&gt;
   4   │   &lt;types&gt;
   5   │     &lt;name&gt;CustomObject&lt;/name&gt;
   6   │     &lt;members&gt;AcquiredAccount__c&lt;/members&gt;
   7   │     &lt;members&gt;Broker__c&lt;/members&gt;
   8   │     &lt;members&gt;GanttLink__c&lt;/members&gt;
   9   │     &lt;members&gt;GanttTask__c&lt;/members&gt;
  10   │     &lt;members&gt;MyFilter__c&lt;/members&gt;
  11   │     &lt;members&gt;OpportunityHistory__c&lt;/members&gt;
  12   │     &lt;members&gt;Property__c&lt;/members&gt;
  13   │     &lt;members&gt;Stock_Position__c&lt;/members&gt;
  14   │     &lt;members&gt;Teacher__c&lt;/members&gt;
  15   │     &lt;members&gt;TruncateTest__c&lt;/members&gt;

...



</code></pre>
<h3 id="get-the-metadata-for-these-assets-in-the-packagexml"><a class="header" href="#get-the-metadata-for-these-assets-in-the-packagexml">Get the metadata for these assets in the package.xml</a></h3>
<pre><code class="language-bash">sfdx force:mdapi:retrieve -k ./package.xml -u mohan.chinnappan.n_ea2@gmail.com -r .   
</code></pre>
<pre><code>Retrieving v56.0 metadata from mohan.chinnappan.n_ea2@gmail.com using the v57.0 SOAP API
Retrieve ID: 09S3h000007GKGdEAO
Retrieving metadata from mohan.chinnappan.n_ea2@gmail.com... done
Wrote retrieve zip to /private/tmp/meta-export/mdexport/unpackaged.zip

</code></pre>
<pre><code>
jar tvf unpackaged.zip 
 16429 Tue Apr 04 17:52:02 EDT 2023 unpackaged/objects/sf_devops__Object_Activity__c.object
 16058 Tue Apr 04 17:52:02 EDT 2023 unpackaged/objects/sf_devops__Pipeline_Stage__c.object
  7087 Tue Apr 04 17:52:02 EDT 2023 unpackaged/objects/sf_devops__Pipeline__c.object
  5616 Tue Apr 04 17:52:02 EDT 2023 unpackaged/objects/MyFilter__c.object
  8383 Tue Apr 04 17:52:02 EDT 2023 unpackaged/objects/sf_devops__Project__c.object
 11274 Tue Apr 04 17:52:02 EDT 2023 unpackaged/objects/sf_devops__Remote_Change__c.object
 11079 Tue Apr 04 17:52:02 EDT 2023 unpackaged/objects/sf_devops__Repository__c.object
  7874 Tue Apr 04 17:52:02 EDT 2023 unpackaged/objects/sf_devops__Source_Member_Reference__c.object
 11355 Tue Apr 04 17:52:02 EDT 2023 unpackaged/objects/sf_devops__Vcs_Event__c.object
  5159 Tue Apr 04 17:52:02 EDT 2023 unpackaged/objects/Teacher__c.object
  5888 Tue Apr 04 17:52:02 EDT 2023 unpackaged/objects/Stock_Position__c.object
  7700 Tue Apr 04 17:52:02 EDT 2023 unpackaged/objects/Broker__c.object
 17198 Tue Apr 04 17:52:02 EDT 2023 unpackaged/objects/Property__c.object
  9307 Tue Apr 04 17:52:02 EDT 2023 unpackaged/objects/sf_devops__Async_Operation_Result__c.object
  8572 Tue Apr 04 17:52:02 EDT 2023 unpackaged/objects/sf_devops__Back_Sync__c.object
 10427 Tue Apr 04 17:52:02 EDT 2023 unpackaged/objects/sf_devops__Change_Bundle_Install__c.object
  7122 Tue Apr 04 17:52:02 EDT 2023 unpackaged/objects/sf_devops__Change_Bundle__c.object
 13690 Tue Apr 04 17:52:02 EDT 2023 unpackaged/objects/sf_devops__Change_Submission__c.object
 13408 Tue Apr 04 17:52:02 EDT 2023 unpackaged/objects/sf_devops__Environment__c.object
  7164 Tue Apr 04 17:52:02 EDT 2023 unpackaged/objects/sf_devops__Hidden_Remote_Change__c.object
 12752 Tue Apr 04 17:52:02 EDT 2023 unpackaged/objects/sf_devops__Work_Item_Promote__c.object
  7874 Tue Apr 04 17:52:02 EDT 2023 unpackaged/objects/AcquiredAccount__c.object
 26381 Tue Apr 04 17:52:02 EDT 2023 unpackaged/objects/sf_devops__Work_Item__c.object
 10679 Tue Apr 04 17:52:02 EDT 2023 unpackaged/objects/OpportunityHistory__c.object
  6115 Tue Apr 04 17:52:02 EDT 2023 unpackaged/objects/GanttLink__c.object
  6390 Tue Apr 04 17:52:02 EDT 2023 unpackaged/objects/GanttTask__c.object
  7916 Tue Apr 04 17:52:02 EDT 2023 unpackaged/objects/sf_devops__Deploy_Component__c.object
  7924 Tue Apr 04 17:52:02 EDT 2023 unpackaged/objects/sf_devops__Branch__c.object
  2576 Tue Apr 04 17:52:02 EDT 2023 unpackaged/objects/WrikeAccountSettings__c.object
  1487 Tue Apr 04 17:52:02 EDT 2023 unpackaged/objects/Wrike_API__c.object
  1488 Tue Apr 04 17:52:02 EDT 2023 unpackaged/objects/Wrike_Bindings__c.object
  9129 Tue Apr 04 17:52:02 EDT 2023 unpackaged/objects/sf_devops__Submit_Component__c.object
  7598 Tue Apr 04 17:52:02 EDT 2023 unpackaged/objects/sf_devops__Merge_Result__c.object
 10249 Tue Apr 04 17:52:02 EDT 2023 unpackaged/objects/sf_devops__Deployment_Result__c.object
  5484 Tue Apr 04 17:52:02 EDT 2023 unpackaged/objects/TruncateTest__c.object
  1976 Tue Apr 04 17:52:02 EDT 2023 unpackaged/package.xml

</code></pre>
<p><a name='modelERD'></a></p>
<h2 id="erd-for-the-given-list-of-salesforce-objects-using-cli"><a class="header" href="#erd-for-the-given-list-of-salesforce-objects-using-cli">ERD for the given list of Salesforce Objects using CLI</a></h2>
<pre><code>sfdx mohanc:md:describe  -u mohan.chinnappan.n.sel2@gmail.com   -s Contact,Account -e contact-account.dot &gt; contact-account.csv
</code></pre>
<pre><code>cat contact-account.dot | pbcopy                                                                                               
</code></pre>
<pre><code>open &quot;https://mohan-chinnappan-n.github.io/viz/viz.html?c=1&quot;                                                                   
</code></pre>
<iframe width="800" height="500" src="https://www.youtube.com/embed/eInrrV-J_hc" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<p><a name='compareSObjects'></a></p>
<h2 id="compare-sobjects-in-2-orgs"><a class="header" href="#compare-sobjects-in-2-orgs">Compare SObjects in 2 orgs</a></h2>
<h3 id="view-the-sobjects-in-the-org"><a class="header" href="#view-the-sobjects-in-the-org">View the SObjects in the org</a></h3>
<pre><code>
sfdx mohanc:md:describeGlobal -u mohan.chinnappan.n.sel@gmail.com | tr ',' '\n' | pbcopy; open &quot;https://mohan-chinnappan-n5.github.io/viz/datatable/dt.html?c=csv&quot;

</code></pre>
<h3 id="using-diff-app"><a class="header" href="#using-diff-app">Using Diff app</a></h3>
<ul>
<li>
<p><a href="https://github.com/mohan-chinnappan-n/shell-scripts/blob/master/org-tools/org-sobjects-compare.sh">Get the script: org-sobjects-compare.sh </a></p>
</li>
<li>
<p>Run the org-sobjects-compare</p>
</li>
<li>
<p>Usage</p>
</li>
</ul>
<pre><code>
./org-sobjects-compare.sh 
Org SObjects Compare tool - compares SObjects in the given two orgs
Usage: org-sobjects-compare.sh &lt;username1&gt; &lt;username2&gt;

</code></pre>
<ul>
<li>Run </li>
</ul>
<pre><code>
org-sobjects-compare.sh mohan.chinnappan.n.sel@gmail.com   mohan.chinnappan.n.sel2@gmail.com
Org SObjects Compare tool - compares SObjects in the given two orgs
=== Getting sobjects for the org with username: mohan.chinnappan.n.sel@gmail.com... ===
Paste the clipboard content into the left side of the diff app. Then press enter to continue to the next org...
=== Getting sobjects for the org with username: mohan.chinnappan.n.sel2@gmail.com... ===
=== Now you can paste the content in the clipboard into the right side of the diff app and press Compare button... ===

</code></pre>
<ul>
<li>Demo
<img src="tools/img/org-sobjects-compare.webm.gif" alt="Demo of sobjects compare" /></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="data-loading-bulkapi2"><a class="header" href="#data-loading-bulkapi2">Data Loading BulkAPI2</a></h1>
<h2 id="how-use-the-dx-plugin-for-bulkapi-2-data-load-"><a class="header" href="#how-use-the-dx-plugin-for-bulkapi-2-data-load-">How use the DX plugin for BulkAPI 2 data load ?</a></h2>
<h2 id="topics-2"><a class="header" href="#topics-2">Topics</a></h2>
<ul>
<li><a href="tools/tools-data-bulkapi2.html#load">Usage of blukapi load</a></li>
<li><a href="tools/tools-data-bulkapi2.html#pe">Loading Platform Events object records</a></li>
</ul>
<p><a name='load'></a></p>
<h3 id="how-use-mohancdatabulkapiload"><a class="header" href="#how-use-mohancdatabulkapiload">How use mohanc:data:bulkapi:load?</a></h3>
<pre><code>$ sfdx mohanc:data:bulkapi:load -h

Data Load using BulkAPI 2  

USAGE
  $ sfdx mohanc:data:bulkapi:load

OPTIONS
  -e, --lineending=lineending                     Line Ending (LF or CRLF), default:  LF
  -f, --inputfile=inputfile                       CSV file to load, default: input.csv
  -o, --sobject=sobject                           sObject to load into,  default: Case
  -u, --targetusername=targetusername             username or alias for the target org; overrides default target org
  --apiversion=apiversion                         override the api version used for api requests made by this command
  --json                                          format output as json
  --loglevel=(trace|debug|info|warn|error|fatal)  logging level for this command invocation

EXAMPLE

          
              sfdx mohanc:bulkapi:load  -u &lt;username&gt;  -f input.csv -e LF -o Case
      


</code></pre>
<h3 id="example"><a class="header" href="#example">Example</a></h3>
<pre><code>$ sfdx mohanc:data:bulkapi:load -u mohan.chinnappan.n_ea2@gmail.com -f /tmp/input.csv -e LF -o Case
</code></pre>
<h3 id="input-file"><a class="header" href="#input-file">Input file</a></h3>
<pre><code>$ cat /tmp/input.csv 
Subject,Priority
Engine cylinder has knocking,High
Wiper Blade needs replacement,Low
</code></pre>
<h3 id="output"><a class="header" href="#output">Output</a></h3>
<pre><code>=== CREATE JOB === 
{
  id: '7503h000003pgNYAAY',
  operation: 'insert',
  object: 'Case',
  createdById: '0053h000002xQ5sAAE',
  createdDate: '2020-08-04T04:32:41.000+0000',
  systemModstamp: '2020-08-04T04:32:41.000+0000',
  state: 'Open',
  concurrencyMode: 'Parallel',
  contentType: 'CSV',
  apiVersion: 49,
  contentUrl: 'services/data/v49.0/jobs/ingest/7503h000003pgNYAAY/batches',
  lineEnding: 'LF',
  columnDelimiter: 'COMMA'
}
jobId: 7503h000003pgNYAAY
=== JOB STATUS === 
=== JOB STATUS for job: 7503h000003pgNYAAY ===
{
  id: '7503h000003pgNYAAY',
  operation: 'insert',
  object: 'Case',
  createdById: '0053h000002xQ5sAAE',
  createdDate: '2020-08-04T04:32:41.000+0000',
  systemModstamp: '2020-08-04T04:32:41.000+0000',
  state: 'Open',
  concurrencyMode: 'Parallel',
  contentType: 'CSV',
  apiVersion: 49,
  jobType: 'V2Ingest',
  contentUrl: 'services/data/v49.0/jobs/ingest/7503h000003pgNYAAY/batches',
  lineEnding: 'LF',
  columnDelimiter: 'COMMA',
  retries: 0,
  totalProcessingTime: 0,
  apiActiveProcessingTime: 0,
  apexProcessingTime: 0
}
=== PUT DATA === 
result: status: 201, statusText: Created
=== JOB STATUS === 
=== JOB STATUS for job: 7503h000003pgNYAAY ===
{
  id: '7503h000003pgNYAAY',
  operation: 'insert',
  object: 'Case',
  createdById: '0053h000002xQ5sAAE',
  createdDate: '2020-08-04T04:32:41.000+0000',
  systemModstamp: '2020-08-04T04:32:41.000+0000',
  state: 'Open',
  concurrencyMode: 'Parallel',
  contentType: 'CSV',
  apiVersion: 49,
  jobType: 'V2Ingest',
  contentUrl: 'services/data/v49.0/jobs/ingest/7503h000003pgNYAAY/batches',
  lineEnding: 'LF',
  columnDelimiter: 'COMMA',
  numberRecordsProcessed: 0,
  numberRecordsFailed: 0,
  retries: 0,
  totalProcessingTime: 0,
  apiActiveProcessingTime: 0,
  apexProcessingTime: 0
}
=== PATCH STATE === 
{
  id: '7503h000003pgNYAAY',
  operation: 'insert',
  object: 'Case',
  createdById: '0053h000002xQ5sAAE',
  createdDate: '2020-08-04T04:32:41.000+0000',
  systemModstamp: '2020-08-04T04:32:41.000+0000',
  state: 'UploadComplete',
  concurrencyMode: 'Parallel',
  contentType: 'CSV',
  apiVersion: 49
}
=== JOB STATUS === 
=== JOB STATUS for job: 7503h000003pgNYAAY ===
jobStatus {
  id: '7503h000003pgNYAAY',
  operation: 'insert',
  object: 'Case',
  createdById: '0053h000002xQ5sAAE',
  createdDate: '2020-08-04T04:32:41.000+0000',
  systemModstamp: '2020-08-04T04:32:43.000+0000',
  state: 'InProgress',
  concurrencyMode: 'Parallel',
  contentType: 'CSV',
  apiVersion: 49,
  jobType: 'V2Ingest',
  lineEnding: 'LF',
  columnDelimiter: 'COMMA',
  numberRecordsProcessed: 0,
  numberRecordsFailed: 0,
  retries: 0,
  totalProcessingTime: 0,
  apiActiveProcessingTime: 0,
  apexProcessingTime: 0
}
WAITING...
{
  id: '7503h000003pgNYAAY',
  operation: 'insert',
  object: 'Case',
  createdById: '0053h000002xQ5sAAE',
  createdDate: '2020-08-04T04:32:41.000+0000',
  systemModstamp: '2020-08-04T04:32:43.000+0000',
  state: 'JobComplete',
  concurrencyMode: 'Parallel',
  contentType: 'CSV',
  apiVersion: 49,
  jobType: 'V2Ingest',
  lineEnding: 'LF',
  columnDelimiter: 'COMMA',
  numberRecordsProcessed: 2,
  numberRecordsFailed: 0,
  retries: 0,
  totalProcessingTime: 152,
  apiActiveProcessingTime: 57,
  apexProcessingTime: 0
}
=== JOB Failure STATUS === 
=== JOB Failure STATUS for job: 7503h000003pgNYAAY ===
&quot;sf__Id&quot;,&quot;sf__Error&quot;,Priority,Subject

=== JOB getUnprocessedRecords STATUS === 
=== JOB getUnprocessedRecords STATUS for job: 7503h000003pgNYAAY ===
Subject,Priority

</code></pre>
<p><a name='pe'></a></p>
<h3 id="loading-platform-events-via-bulk-api-20"><a class="header" href="#loading-platform-events-via-bulk-api-20">Loading Platform Events via Bulk API 2.0</a></h3>
<h4 id="resources"><a class="header" href="#resources">Resources</a></h4>
<ul>
<li>
<p><a href="https://github.com/mohan-chinnappan-n/cli-dx/blob/master/rest.md#post">via REST API</a></p>
</li>
<li>
<p><a href="https://developer.salesforce.com/docs/atlas.en-us.platform_events.meta/platform_events/platform_events_define_ui.htm">Platform Events Fields</a></p>
</li>
<li>
<p><a href="https://mohan-chinnappan-n2.github.io/2020/sf-aws/sf-aws-pe.html#0">Platform Events and AWS Lambda</a></p>
</li>
<li>
<p><a href="https://mohan-chinnappan-n.github.io/sfdc/pevents.html#/home">Platform Events Slides</a></p>
</li>
<li>
<p><a href="https://github.com/mohan-chinnappan-n/cli-dx/blob/master/limits.md">Using CLI to find the platform events limits</a></p>
</li>
<li>
<p><a href="https://developer.salesforce.com/docs/atlas.en-us.platform_events.meta/platform_events/platform_event_limits.htm">Platform Events limits</a></p>
</li>
</ul>
<pre><code>$ cat ~/tmp/pe_msg.csv

message__c
Power Off

</code></pre>
<pre><code>$ sfdx mohanc:data:bulkapi:load -u mohan.chinnappan.n_ea2@gmail.com -f ~/tmp/pe_msg.csv -e LF -o Notification__e
=== CREATE JOB === 
{
  id: '7503h000009XNPkAAO',
  operation: 'insert',
  object: 'Notification__e',
  createdById: '0053h000002xQ5sAAE',
  createdDate: '2021-04-05T22:40:39.000+0000',
  systemModstamp: '2021-04-05T22:40:39.000+0000',
  state: 'Open',
  concurrencyMode: 'Parallel',
  contentType: 'CSV',
  apiVersion: 51,
  contentUrl: 'services/data/v51.0/jobs/ingest/7503h000009XNPkAAO/batches',
  lineEnding: 'LF',
  columnDelimiter: 'COMMA'
}
jobId: 7503h000009XNPkAAO
=== JOB STATUS === 
=== JOB STATUS for job: 7503h000009XNPkAAO ===
{
  id: '7503h000009XNPkAAO',
  operation: 'insert',
  object: 'Notification__e',
  createdById: '0053h000002xQ5sAAE',
  createdDate: '2021-04-05T22:40:39.000+0000',
  systemModstamp: '2021-04-05T22:40:39.000+0000',
  state: 'Open',
  concurrencyMode: 'Parallel',
  contentType: 'CSV',
  apiVersion: 51,
  jobType: 'V2Ingest',
  contentUrl: 'services/data/v51.0/jobs/ingest/7503h000009XNPkAAO/batches',
  lineEnding: 'LF',
  columnDelimiter: 'COMMA',
  retries: 0,
  totalProcessingTime: 0,
  apiActiveProcessingTime: 0,
  apexProcessingTime: 0
}
=== PUT DATA === 
result: status: 201, statusText: Created
=== JOB STATUS === 
=== JOB STATUS for job: 7503h000009XNPkAAO ===
{
  id: '7503h000009XNPkAAO',
  operation: 'insert',
  object: 'Notification__e',
  createdById: '0053h000002xQ5sAAE',
  createdDate: '2021-04-05T22:40:39.000+0000',
  systemModstamp: '2021-04-05T22:40:39.000+0000',
  state: 'Open',
  concurrencyMode: 'Parallel',
  contentType: 'CSV',
  apiVersion: 51,
  jobType: 'V2Ingest',
  contentUrl: 'services/data/v51.0/jobs/ingest/7503h000009XNPkAAO/batches',
  lineEnding: 'LF',
  columnDelimiter: 'COMMA',
  numberRecordsProcessed: 0,
  numberRecordsFailed: 0,
  retries: 0,
  totalProcessingTime: 0,
  apiActiveProcessingTime: 0,
  apexProcessingTime: 0
}
=== PATCH STATE === 
{
  id: '7503h000009XNPkAAO',
  operation: 'insert',
  object: 'Notification__e',
  createdById: '0053h000002xQ5sAAE',
  createdDate: '2021-04-05T22:40:39.000+0000',
  systemModstamp: '2021-04-05T22:40:39.000+0000',
  state: 'UploadComplete',
  concurrencyMode: 'Parallel',
  contentType: 'CSV',
  apiVersion: 51
}
=== JOB STATUS === 
=== JOB STATUS for job: 7503h000009XNPkAAO ===
jobStatus {
  id: '7503h000009XNPkAAO',
  operation: 'insert',
  object: 'Notification__e',
  createdById: '0053h000002xQ5sAAE',
  createdDate: '2021-04-05T22:40:39.000+0000',
  systemModstamp: '2021-04-05T22:40:41.000+0000',
  state: 'InProgress',
  concurrencyMode: 'Parallel',
  contentType: 'CSV',
  apiVersion: 51,
  jobType: 'V2Ingest',
  lineEnding: 'LF',
  columnDelimiter: 'COMMA',
  numberRecordsProcessed: 1,
  numberRecordsFailed: 0,
  retries: 0,
  totalProcessingTime: 61,
  apiActiveProcessingTime: 12,
  apexProcessingTime: 0
}
WAITING...
{
  id: '7503h000009XNPkAAO',
  operation: 'insert',
  object: 'Notification__e',
  createdById: '0053h000002xQ5sAAE',
  createdDate: '2021-04-05T22:40:39.000+0000',
  systemModstamp: '2021-04-05T22:40:42.000+0000',
  state: 'JobComplete',
  concurrencyMode: 'Parallel',
  contentType: 'CSV',
  apiVersion: 51,
  jobType: 'V2Ingest',
  lineEnding: 'LF',
  columnDelimiter: 'COMMA',
  numberRecordsProcessed: 1,
  numberRecordsFailed: 0,
  retries: 0,
  totalProcessingTime: 61,
  apiActiveProcessingTime: 12,
  apexProcessingTime: 0
}
=== JOB Failure STATUS === 
=== JOB Failure STATUS for job: 7503h000009XNPkAAO ===
&quot;sf__Id&quot;,&quot;sf__Error&quot;,message__c

=== JOB getUnprocessedRecords STATUS === 
=== JOB getUnprocessedRecords STATUS for job: 7503h000009XNPkAAO ===
message__c
</code></pre>
<h4 id="results"><a class="header" href="#results">Results</a></h4>
<p><img src="https://github.com/mohan-chinnappan-n/cli-dx/raw/master/img/pe-2.png" alt="pe_results" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="user-loading"><a class="header" href="#user-loading">User Loading</a></h1>
<h2 id="table-of-contents"><a class="header" href="#table-of-contents">Table of contents</a></h2>
<ul>
<li><a href="tools/userloading.html#bulk">Using CLI for BulkAPI 2.0</a></li>
<li><a href="tools/userloading.html#apex">Apex way</a></li>
<li><a href="tools/userloading.html#dl">Using Data Loader</a></li>
<li><a href="tools/userloading.html#ps">Mass assign permission sets to users</a></li>
</ul>
<p><a name='bulk'></a></p>
<h2 id="using-cli-for-bulkapi-20"><a class="header" href="#using-cli-for-bulkapi-20">Using CLI for BulkAPI 2.0</a></h2>
<h3 id="1-query-the-current-users-in-the-org"><a class="header" href="#1-query-the-current-users-in-the-org">1. Query the current users in the org</a></h3>
<pre><code class="language-bash">
sfdx mohanc:data:bulkapi:query  -u mohan.chinnappan.n.sel@gmail.com -q ~/.soql/users.soql;  pbcopy &lt; ~/.soql/users.soql.csv ; open &quot;https://mohan-chinnappan-n5.github.io/viz/datatable/dt.html?c=csv&quot;


</code></pre>
<pre><code class="language-sql">-- query used
SELECT  Username, LastName, FirstName, Email, Alias,
    LOCALESIDKEY,LANGUAGELOCALEKEY,EMAILENCODINGKEY,TIMEZONESIDKEY,PROFILEID,USERROLEID
FROM User 
</code></pre>
<pre><code>https://d4x000007rxogeaq-dev-ed.my.salesforce.com/services/data/v57.0/jobs/query
{
  id: '7504x00000XkfyMAAR',
  operation: 'query',
  object: 'User',
  createdById: '0054x000006Riv4AAC',
  createdDate: '2023-03-21T10:43:31.000+0000',
  systemModstamp: '2023-03-21T10:43:31.000+0000',
  state: 'UploadComplete',
  concurrencyMode: 'Parallel',
  contentType: 'CSV',
  apiVersion: 57,
  lineEnding: 'LF',
  columnDelimiter: 'COMMA'
}
=== JOB STATUS === 
=== JOB STATUS for job: 7504x00000XkfyMAAR ===
{
  id: '7504x00000XkfyMAAR',
  operation: 'query',
  object: 'User',
  createdById: '0054x000006Riv4AAC',
  createdDate: '2023-03-21T10:43:31.000+0000',
  systemModstamp: '2023-03-21T10:43:31.000+0000',
  state: 'InProgress',
  concurrencyMode: 'Parallel',
  contentType: 'CSV',
  apiVersion: 57,
  jobType: 'V2Query',
  lineEnding: 'LF',
  columnDelimiter: 'COMMA',
  numberRecordsProcessed: 0,
  retries: 0,
  totalProcessingTime: 0
}
WAITING...
{
  id: '7504x00000XkfyMAAR',
  operation: 'query',
  object: 'User',
  createdById: '0054x000006Riv4AAC',
  createdDate: '2023-03-21T10:43:31.000+0000',
  systemModstamp: '2023-03-21T10:43:32.000+0000',
  state: 'JobComplete',
  concurrencyMode: 'Parallel',
  contentType: 'CSV',
  apiVersion: 57,
  jobType: 'V2Query',
  lineEnding: 'LF',
  columnDelimiter: 'COMMA',
  numberRecordsProcessed: 12,
  retries: 0,
  totalProcessingTime: 157
}
==== Job State: JobComplete ====
=== Total time taken to process the job : 157 milliseconds ===
=== Total records processed : 12  ===
https://d4x000007rxogeaq-dev-ed.my.salesforce.com/services/data/v57.0/jobs/query/7504x00000XkfyMAAR/results
==== Output CSV file written into : /Users/mchinnappan/.soql/users.soql.csv ===
==== View the output file : /Users/mchinnappan/.soql/users.soql.csv using:
 cat /Users/mchinnappan/.soql/users.soql.csv ===
=== JOB Failure STATUS === 
=== JOB Failure STATUS for job: 7504x00000XkfyMAAR === &quot;sf__Id&quot;,&quot;sf__Error&quot;,&quot;Username&quot;,&quot;LastName&quot;,&quot;FirstName&quot;,&quot;Email&quot;,&quot;Alias&quot;,&quot;LocaleSidKey&quot;,&quot;LanguageLocaleKey&quot;,&quot;EmailEncodingKey&quot;,&quot;TimeZoneSidKey&quot;,&quot;ProfileId&quot;,&quot;UserRoleId&quot;
 ===
&quot;sf__Id&quot;,&quot;sf__Error&quot;,&quot;Username&quot;,&quot;LastName&quot;,&quot;FirstName&quot;,&quot;Email&quot;,&quot;Alias&quot;,&quot;LocaleSidKey&quot;,&quot;LanguageLocaleKey&quot;,&quot;EmailEncodingKey&quot;,&quot;TimeZoneSidKey&quot;,&quot;ProfileId&quot;,&quot;UserRoleId&quot;

</code></pre>
<h3 id="2-view-the-user-using-this-app-which-is-automatically-opened-by-the-above-command-1"><a class="header" href="#2-view-the-user-using-this-app-which-is-automatically-opened-by-the-above-command-1">2. View the user using this app which is automatically opened by the above command #1</a></h3>
<p><img src="tools/img/user-load-query.png" alt="user data" /></p>
<h3 id="3-edit-the-query-results-in-your-favorite-app-i-am-using-vim-to-do-this-you-can-use-apps-like-excel-to-add-your-users-to-load"><a class="header" href="#3-edit-the-query-results-in-your-favorite-app-i-am-using-vim-to-do-this-you-can-use-apps-like-excel-to-add-your-users-to-load">3. Edit the query results in your favorite app (I am using vim to do this, you can use apps like Excel) to add your user(s) to load</a></h3>
<p><img src="tools/img/editing-user-query-results.gif" alt="user data file edit" /></p>
<ul>
<li>I have my data input file looks like: </li>
</ul>
<pre><code class="language-csv">&quot;Username&quot;,&quot;LastName&quot;,&quot;FirstName&quot;,&quot;Email&quot;,&quot;Alias&quot;,&quot;LocaleSidKey&quot;,&quot;LanguageLocaleKey&quot;,&quot;EmailEncodingKey&quot;,&quot;TimeZoneSidKey&quot;,&quot;ProfileId&quot;,&quot;UserRoleId&quot;
&quot;telsa.nik@unix.org.sel&quot;,&quot;Tesla&quot;,&quot;Nik&quot;,&quot;tesla@unix.org&quot;,&quot;teslan&quot;,&quot;en_US&quot;,&quot;en_US&quot;,&quot;UTF-8&quot;,&quot;America/Los_Angeles&quot;,&quot;00e4x000002b8InAAI&quot;,&quot;&quot;

</code></pre>
<h3 id="4-let-us-load-the-data-for-the-new-users"><a class="header" href="#4-let-us-load-the-data-for-the-new-users">4. Let us load the data for the new user(s)</a></h3>
<pre><code>sfdx mohanc:data:bulkapi:load -u mohan.chinnappan.n.sel@gmail.com -f /Users/mchinnappan/.soql/users.soql.csv -e LF -o User 

</code></pre>
<h3 id="5-query-the-user-object-to-check-our-loading"><a class="header" href="#5-query-the-user-object-to-check-our-loading">5. Query the user Object to check our loading</a></h3>
<p><img src="tools/img/user-load-query-2.png" alt="user data after" /></p>
<ul>
<li>Check the bulk data load jobs status for these jobs we created
<img src="tools/img/bulk-data-load-status.png" alt="Bulk data load jobs" /></li>
</ul>
<p><a name='apex'></a></p>
<h2 id="apex-way"><a class="header" href="#apex-way">Apex Way</a></h2>
<pre><code class="language-java">
List&lt;User&gt; users = new List&lt;User&gt;();
users.add( new User (
      Username = 'abc@gnu.org.sel',
      Email = 'abc@gnu.org.invalid',
      FirstName = 'John',
      LastName = 'Doe',
      Alias = 'jdoe',
      TimeZoneSidKey = 'America/New_York',
      LocaleSidKey = 'en_US',
      EmailEncodingKey = 'ISO-8859-1',
      ProfileId = [SELECT Id FROM Profile WHERE Name ='Standard Platform User'  LIMIT 1].Id, 
      LanguageLocaleKey = 'en_US'
    ));
// users.add( new User(...)

Insert users; 




</code></pre>
<ul>
<li>running it</li>
</ul>
<pre><code class="language-bash">sfdx mohanc:tooling:execute -u mohan.chinnappan.n.sel@gmail.com -a ~/.apex/addUsers.cls
</code></pre>
<pre><code>apexCode: //String profile = 'Standard Platform User';
//Id profileId = [SELECT Id FROM Profile WHERE Name =: profile  LIMIT 1].Id;

List&lt;User&gt; users = new List&lt;User&gt;();
users.add( new User (
      Username = 'abc@gnu.org.sel',
      Email = 'abc@gnu.org.invalid',
      FirstName = 'John',
      LastName = 'Doe',
      Alias = 'jdoe',
      TimeZoneSidKey = 'America/New_York',
      LocaleSidKey = 'en_US',
      EmailEncodingKey = 'ISO-8859-1',
      ProfileId = [SELECT Id FROM Profile WHERE Name ='Standard Platform User'  LIMIT 1].Id, 
      LanguageLocaleKey = 'en_US'
    ));
// users.add( new User(...)

Insert users; 

compiled?: true
executed?: true
{
  line: -1,
  column: -1,
  compiled: true,
  success: true,
  compileProblem: null,
  exceptionStackTrace: null,
  exceptionMessage: null
}


</code></pre>
<p><img src="tools/img/addUser-apex-2.png" alt="Added user" /></p>
<h3 id="is-there-a-script-which-can-create-this-apex-code-"><a class="header" href="#is-there-a-script-which-can-create-this-apex-code-">Is there a script which can create this apex code ?</a></h3>
<ul>
<li>Yes!</li>
</ul>
<pre><code>cat users.csv

</code></pre>
<pre><code class="language-csv">&quot;Username&quot;,&quot;LastName&quot;,&quot;FirstName&quot;,&quot;Email&quot;,&quot;Alias&quot;,&quot;LocaleSidKey&quot;,&quot;LanguageLocaleKey&quot;,&quot;EmailEncodingKey&quot;,&quot;TimeZoneSidKey&quot;,&quot;ProfileName&quot;
&quot;gfe@gnu.org.sel&quot;,&quot;Garderner&quot;,&quot;Joe&quot;,&quot;jg@gnu.org.invalid&quot;,&quot;jg&quot;,&quot;en_US&quot;,&quot;en_US&quot;,&quot;ISO-8859-1&quot;,&quot;America/New_York&quot;,&quot;Standard Platform User&quot;
&quot;xyz@gnu.org.sel&quot;,&quot;Smith&quot;,&quot;Joe&quot;,&quot;xyz@gnu.org.invalid&quot;,&quot;jsmith&quot;,&quot;en_US&quot;,&quot;en_US&quot;,&quot;ISO-8859-1&quot;,&quot;America/New_York&quot;,&quot;Standard Platform User&quot;
</code></pre>
<ul>
<li>
<p>Download the script <a href="https://github.com/mohan-chinnappan-n/xml-xslt/blob/main/py/userApexgen.py">userApexgen.py</a></p>
</li>
<li>
<p>Run the script</p>
</li>
</ul>
<pre><code>python3 userApexgen.py users.csv &gt; useradd.cls


</code></pre>
<pre><code>cat useradd.cls
</code></pre>
<pre><code class="language-java">List&lt;User&gt; users = new List&lt;User&gt;(); 
      users.add( new User (
      Username = 'gfe@gnu.org.sel', 
      Email = 'jg@gnu.org.invalid',
      FirstName = 'Joe',
      LastName = 'Garderner',
      Alias = 'jg',
      TimeZoneSidKey = 'America/New_York',
      LocaleSidKey = 'en_US',
      EmailEncodingKey = 'ISO-8859-1',
      ProfileId = [SELECT Id FROM Profile WHERE Name ='Standard Platform User'  LIMIT 1].Id, 
      LanguageLocaleKey = 'en_US'
    ));




      users.add( new User (
      Username = 'xyz@gnu.org.sel', 
      Email = 'xyz@gnu.org.invalid',
      FirstName = 'Joe',
      LastName = 'Smith',
      Alias = 'jsmith',
      TimeZoneSidKey = 'America/New_York',
      LocaleSidKey = 'en_US',
      EmailEncodingKey = 'ISO-8859-1',
      ProfileId = [SELECT Id FROM Profile WHERE Name ='Standard Platform User'  LIMIT 1].Id, 
      LanguageLocaleKey = 'en_US'
    ));



Insert users;
</code></pre>
<ul>
<li>Run the apex code to add the users</li>
</ul>
<pre><code>sfdx mohanc:tooling:execute -u mohan.chinnappan.n.sel@gmail.com -a useradd.cls

</code></pre>
<h2 id=""><a class="header" href="#"><img src="tools/img/addUser-apex-3.png" alt="added users" /></a></h2>
<p><a name='ps'></a></p>
<h2 id="mass-assign-permission-sets-to-users"><a class="header" href="#mass-assign-permission-sets-to-users">Mass assign permission sets to users</a></h2>
<ul>
<li>Querying User, PermissionSet and PermissionSetAssignment </li>
</ul>
<pre><code class="language-sql">
SELECT Id
,Username 
FROM User
</code></pre>
<pre><code class="language-sql">
SELECT
Id
,Name
,NamespacePrefix
,Description
,HasActivationRequired
,IsCustom
  
,IsOwnedByProfile
,Label
,LicenseId
,PermissionSetGroupId
,ProfileId	
,Type
 

FROM PermissionSet
</code></pre>
<pre><code class="language-sql">SELECT
Id
,AssigneeId
,IsActive
 
,ExpirationDate
,PermissionSetId
,PermissionSetGroupId

FROM PermissionSetAssignment

</code></pre>
<ul>
<li>Users</li>
</ul>
<pre><code class="language-csv">Id,Username
0054x000007avznAAA,sel.dmr@unix.org.sel
0054x000007avdcAAA,sel.ken@unix.org.sel



</code></pre>
<ul>
<li>Permissionsets to assign</li>
</ul>
<pre><code class="language-csv">Id,Name
0PS4x000002QxRNGA0,B2BBuyer
</code></pre>
<ul>
<li>Assignments</li>
</ul>
<pre><code class="language-csv">
AssigneeId,PermissionSetId
0054x000007avznAAA,0PS4x000002QxRNGA0
0054x000007avdcAAA,0PS4x000002QxRNGA0

</code></pre>
<p><a name='dl'></a></p>
<h2 id="data-loader-way"><a class="header" href="#data-loader-way">Data loader way</a></h2>
<iframe width="920" height="480" src="https://www.youtube.com/embed/RtczfD4Zot0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<ul>
<li><a href="https://help.salesforce.com/s/articleView?id=000384595&amp;type=1">Use Data Loader to mass assign permission sets</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="product2-loading-and-updating"><a class="header" href="#product2-loading-and-updating">Product2 Loading and Updating</a></h1>
<h2 id="topics-3"><a class="header" href="#topics-3">Topics</a></h2>
<ul>
<li><a href="tools/product2loading.html#loading">Loading</a></li>
<li><a href="tools/product2loading.html#updating">Updating</a></li>
<li><a href="tools/product2loading.html#deleting">Deleting</a></li>
</ul>
<p><a name='loading'></a></p>
<h2 id="loading"><a class="header" href="#loading">Loading</a></h2>
<pre><code>
sfdx mohanc:data:bulkapi:query  -u mohan.chinnappan.n.sel@gmail.com -q ~/.soql/product2.soql;  pbcopy &lt; ~/.soql/product2.soql.csv ; open &quot;https://mohan-chinnappan-n5.github.io/viz/datatable/dt.html?c=csv&quot; 

</code></pre>
<pre><code class="language-sql">
SELECT Name, ProductCode, Description, IsActive, Family, QuantityUnitOfMeasure,StockKeepingUnit

FROM Product2

</code></pre>
<pre><code>
https://d4x000007rxogeaq-dev-ed.my.salesforce.com/services/data/v57.0/jobs/query
{
  id: '7504x00000Xkf9FAAR',
  operation: 'query',
  object: 'Product2',
  createdById: '0054x000006Riv4AAC',
  createdDate: '2023-03-21T12:36:50.000+0000',
  systemModstamp: '2023-03-21T12:36:50.000+0000',
  state: 'UploadComplete',
  concurrencyMode: 'Parallel',
  contentType: 'CSV',
  apiVersion: 57,
  lineEnding: 'LF',
  columnDelimiter: 'COMMA'
}
=== JOB STATUS === 
=== JOB STATUS for job: 7504x00000Xkf9FAAR ===
{
  id: '7504x00000Xkf9FAAR',
  operation: 'query',
  object: 'Product2',
  createdById: '0054x000006Riv4AAC',
  createdDate: '2023-03-21T12:36:50.000+0000',
  systemModstamp: '2023-03-21T12:36:50.000+0000',
  state: 'InProgress',
  concurrencyMode: 'Parallel',
  contentType: 'CSV',
  apiVersion: 57,
  jobType: 'V2Query',
  lineEnding: 'LF',
  columnDelimiter: 'COMMA',
  numberRecordsProcessed: 0,
  retries: 0,
  totalProcessingTime: 0
}
WAITING...
{
  id: '7504x00000Xkf9FAAR',
  operation: 'query',
  object: 'Product2',
  createdById: '0054x000006Riv4AAC',
  createdDate: '2023-03-21T12:36:50.000+0000',
  systemModstamp: '2023-03-21T12:36:51.000+0000',
  state: 'JobComplete',
  concurrencyMode: 'Parallel',
  contentType: 'CSV',
  apiVersion: 57,
  jobType: 'V2Query',
  lineEnding: 'LF',
  columnDelimiter: 'COMMA',
  numberRecordsProcessed: 17,
  retries: 0,
  totalProcessingTime: 208
}
==== Job State: JobComplete ====
=== Total time taken to process the job : 208 milliseconds ===
=== Total records processed : 17  ===
https://d4x000007rxogeaq-dev-ed.my.salesforce.com/services/data/v57.0/jobs/query/7504x00000Xkf9FAAR/results
==== Output CSV file written into : /Users/mchinnappan/.soql/product2.soql.csv ===
==== View the output file : /Users/mchinnappan/.soql/product2.soql.csv using:
 cat /Users/mchinnappan/.soql/product2.soql.csv ===
=== JOB Failure STATUS === 
=== JOB Failure STATUS for job: 7504x00000Xkf9FAAR === &quot;sf__Id&quot;,&quot;sf__Error&quot;,&quot;Id&quot;,&quot;ProductCode&quot;,&quot;Description&quot;,&quot;IsActive&quot;,&quot;Family&quot;,&quot;QuantityUnitOfMeasure&quot;,&quot;StockKeepingUnit&quot;
 ===
&quot;sf__Id&quot;,&quot;sf__Error&quot;,&quot;Id&quot;,&quot;ProductCode&quot;,&quot;Description&quot;,&quot;IsActive&quot;,&quot;Family&quot;,&quot;QuantityUnitOfMeasure&quot;,&quot;StockKeepingUnit&quot;
</code></pre>
<ul>
<li><img src="tools/img/product2-2.png" alt="product2 view" /></li>
</ul>
<h3 id="input-file-1"><a class="header" href="#input-file-1">Input file</a></h3>
<pre><code>cat /Users/mchinnappan/.soql/product2.soql2.csv      
</code></pre>
<pre><code class="language-csv">&quot;Name&quot;,&quot;ProductCode&quot;,&quot;Description&quot;,&quot;IsActive&quot;,&quot;Family&quot;,&quot;QuantityUnitOfMeasure&quot;,&quot;StockKeepingUnit&quot;
&quot;Autopilot&quot;,&quot;MC123456&quot;,&quot;&quot;,&quot;true&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;
</code></pre>
<h3 id="load"><a class="header" href="#load">Load</a></h3>
<pre><code>sfdx mohanc:data:bulkapi:load -u mohan.chinnappan.n.sel@gmail.com -f /Users/mchinnappan/.soql/product2.soql2.csv -e LF -o Product2 

</code></pre>
<h3 id="query-the-results"><a class="header" href="#query-the-results">Query the results</a></h3>
<pre><code>
sfdx mohanc:data:bulkapi:query  -u mohan.chinnappan.n.sel@gmail.com -q ~/.soql/product2.soql;  pbcopy &lt; ~/.soql/product2.soql.csv ; open &quot;https://mohan-chinnappan-n5.github.io/viz/datatable/dt.html?c=csv&quot; 

</code></pre>
<ul>
<li><img src="tools/img/product2-3.png" alt="product2 view" /></li>
</ul>
<p><a name='updating'></a></p>
<h2 id="update-example"><a class="header" href="#update-example">Update example</a></h2>
<pre><code>cat ~/.soql/product2-id.soql.csv
</code></pre>
<pre><code class="language-csv">&quot;Id&quot;,&quot;Description&quot;
&quot;01t4x000004kZPaAAM&quot;,&quot;Autopilot Description&quot;
</code></pre>
<ul>
<li>Update</li>
</ul>
<pre><code>sfdx mohanc:data:bulkapi:update -u mohan.chinnappan.n.sel@gmail.com -f /Users/mchinnappan/.soql/product2-id.soql.csv -e LF -o Product2  
</code></pre>
<ul>
<li>Query</li>
</ul>
<pre><code>sfdx mohanc:data:bulkapi:query  -u mohan.chinnappan.n.sel@gmail.com -q ~/.soql/product2-id.soql;  pbcopy &lt; ~/.soql/product2-id.soql.csv ; open &quot;https://mohan-chinnappan-n5.github.io/viz/datatable/dt.html?c=csv&quot;

</code></pre>
<ul>
<li><img src="tools/img/product2-update-1.png" alt="product2 update view" /></li>
</ul>
<h3 id="bulk-data-load-status"><a class="header" href="#bulk-data-load-status">Bulk data load status</a></h3>
<ul>
<li><img src="tools/img/bulk-data-load-status-update.png" alt="bulk data load status" /></li>
</ul>
<p><a name='deleting'></a></p>
<h2 id="delete"><a class="header" href="#delete">Delete</a></h2>
<pre><code>
sfdx mohanc:data:bulkapi:delete -u mohan.chinnappan.n.sel@gmail.com -f /Users/mchinnappan/.soql/product2-id.del.csv -e LF -o Product2

</code></pre>
<pre><code>/Users/mchinnappan/.soql/product2-id.del.csv Product2 LF
=== CREATE JOB === 
{
  id: '7504x00000Xl3OlAAJ',
  operation: 'delete',
  object: 'Product2',
  createdById: '0054x000006Riv4AAC',
  createdDate: '2023-03-23T08:11:55.000+0000',
  systemModstamp: '2023-03-23T08:11:55.000+0000',
  state: 'Open',
  concurrencyMode: 'Parallel',
  contentType: 'CSV',
  apiVersion: 57,
  contentUrl: 'services/data/v57.0/jobs/ingest/7504x00000Xl3OlAAJ/batches',
  lineEnding: 'LF',
  columnDelimiter: 'COMMA'
}
jobId: 7504x00000Xl3OlAAJ
=== JOB STATUS === 
=== JOB STATUS for job: 7504x00000Xl3OlAAJ ===
{
  id: '7504x00000Xl3OlAAJ',
  operation: 'delete',
  object: 'Product2',
  createdById: '0054x000006Riv4AAC',
  createdDate: '2023-03-23T08:11:55.000+0000',
  systemModstamp: '2023-03-23T08:11:55.000+0000',
  state: 'Open',
  concurrencyMode: 'Parallel',
  contentType: 'CSV',
  apiVersion: 57,
  jobType: 'V2Ingest',
  contentUrl: 'services/data/v57.0/jobs/ingest/7504x00000Xl3OlAAJ/batches',
  lineEnding: 'LF',
  columnDelimiter: 'COMMA',
  retries: 0,
  totalProcessingTime: 0,
  apiActiveProcessingTime: 0,
  apexProcessingTime: 0
}
=== PUT DATA ===  SIZE: == 26 MB ==
result: status: 201, statusText: Created
=== JOB STATUS === 
=== JOB STATUS for job: 7504x00000Xl3OlAAJ ===
{
  id: '7504x00000Xl3OlAAJ',
  operation: 'delete',
  object: 'Product2',
  createdById: '0054x000006Riv4AAC',
  createdDate: '2023-03-23T08:11:55.000+0000',
  systemModstamp: '2023-03-23T08:11:55.000+0000',
  state: 'Open',
  concurrencyMode: 'Parallel',
  contentType: 'CSV',
  apiVersion: 57,
  jobType: 'V2Ingest',
  contentUrl: 'services/data/v57.0/jobs/ingest/7504x00000Xl3OlAAJ/batches',
  lineEnding: 'LF',
  columnDelimiter: 'COMMA',
  numberRecordsProcessed: 0,
  numberRecordsFailed: 0,
  retries: 0,
  totalProcessingTime: 0,
  apiActiveProcessingTime: 0,
  apexProcessingTime: 0
}
=== PATCH STATE === 
{
  id: '7504x00000Xl3OlAAJ',
  operation: 'delete',
  object: 'Product2',
  createdById: '0054x000006Riv4AAC',
  createdDate: '2023-03-23T08:11:55.000+0000',
  systemModstamp: '2023-03-23T08:11:55.000+0000',
  state: 'UploadComplete',
  concurrencyMode: 'Parallel',
  contentType: 'CSV',
  apiVersion: 57
}
=== JOB STATUS === 
=== JOB STATUS for job: 7504x00000Xl3OlAAJ ===
jobStatus {
  id: '7504x00000Xl3OlAAJ',
  operation: 'delete',
  object: 'Product2',
  createdById: '0054x000006Riv4AAC',
  createdDate: '2023-03-23T08:11:55.000+0000',
  systemModstamp: '2023-03-23T08:11:57.000+0000',
  state: 'InProgress',
  concurrencyMode: 'Parallel',
  contentType: 'CSV',
  apiVersion: 57,
  jobType: 'V2Ingest',
  lineEnding: 'LF',
  columnDelimiter: 'COMMA',
  numberRecordsProcessed: 0,
  numberRecordsFailed: 0,
  retries: 0,
  totalProcessingTime: 0,
  apiActiveProcessingTime: 0,
  apexProcessingTime: 0
}
WAITING...
{
  id: '7504x00000Xl3OlAAJ',
  operation: 'delete',
  object: 'Product2',
  createdById: '0054x000006Riv4AAC',
  createdDate: '2023-03-23T08:11:55.000+0000',
  systemModstamp: '2023-03-23T08:11:58.000+0000',
  state: 'JobComplete',
  concurrencyMode: 'Parallel',
  contentType: 'CSV',
  apiVersion: 57,
  jobType: 'V2Ingest',
  lineEnding: 'LF',
  columnDelimiter: 'COMMA',
  numberRecordsProcessed: 1,
  numberRecordsFailed: 0,
  retries: 0,
  totalProcessingTime: 363,
  apiActiveProcessingTime: 289,
  apexProcessingTime: 0
}
=== JOB Failure STATUS === 
=== JOB Failure STATUS for job: 7504x00000Xl3OlAAJ ===
&quot;sf__Id&quot;,&quot;sf__Error&quot;,&quot;Id&quot;

=== JOB getUnprocessedRecords STATUS === 
=== JOB getUnprocessedRecords STATUS for job: 7504x00000Xl3OlAAJ ===
&quot;Id&quot;

</code></pre>
<h3 id="query-after-delete"><a class="header" href="#query-after-delete">Query After delete</a></h3>
<pre><code>
sfdx mohanc:data:bulkapi:query  -u mohan.chinnappan.n.sel@gmail.com -q ~/.soql/product2-id.soql;  pbcopy &lt; ~/.soql/product2-id.soql.csv ; open &quot;https://mohan-chinnappan-n5.github.io/viz/datatable/dt.html?c=csv&quot;

</code></pre>
<pre><code class="language-sql">
SELECT Id,Name,ProductCode, Description, IsActive, Family, QuantityUnitOfMeasure,StockKeepingUnit
FROM Product2

</code></pre>
<pre><code>
https://d4x000007rxogeaq-dev-ed.my.salesforce.com/services/data/v57.0/jobs/query
{
  id: '7504x00000Xl3O8AAJ',
  operation: 'query',
  object: 'Product2',
  createdById: '0054x000006Riv4AAC',
  createdDate: '2023-03-23T08:13:04.000+0000',
  systemModstamp: '2023-03-23T08:13:04.000+0000',
  state: 'UploadComplete',
  concurrencyMode: 'Parallel',
  contentType: 'CSV',
  apiVersion: 57,
  lineEnding: 'LF',
  columnDelimiter: 'COMMA'
}
=== JOB STATUS === 
=== JOB STATUS for job: 7504x00000Xl3O8AAJ ===
{
  id: '7504x00000Xl3O8AAJ',
  operation: 'query',
  object: 'Product2',
  createdById: '0054x000006Riv4AAC',
  createdDate: '2023-03-23T08:13:04.000+0000',
  systemModstamp: '2023-03-23T08:13:04.000+0000',
  state: 'InProgress',
  concurrencyMode: 'Parallel',
  contentType: 'CSV',
  apiVersion: 57,
  jobType: 'V2Query',
  lineEnding: 'LF',
  columnDelimiter: 'COMMA',
  numberRecordsProcessed: 0,
  retries: 0,
  totalProcessingTime: 0
}
WAITING...
{
  id: '7504x00000Xl3O8AAJ',
  operation: 'query',
  object: 'Product2',
  createdById: '0054x000006Riv4AAC',
  createdDate: '2023-03-23T08:13:04.000+0000',
  systemModstamp: '2023-03-23T08:13:05.000+0000',
  state: 'JobComplete',
  concurrencyMode: 'Parallel',
  contentType: 'CSV',
  apiVersion: 57,
  jobType: 'V2Query',
  lineEnding: 'LF',
  columnDelimiter: 'COMMA',
  numberRecordsProcessed: 17,
  retries: 0,
  totalProcessingTime: 220
}
==== Job State: JobComplete ====
=== Total time taken to process the job : 220 milliseconds ===
=== Total records processed : 17  ===
https://d4x000007rxogeaq-dev-ed.my.salesforce.com/services/data/v57.0/jobs/query/7504x00000Xl3O8AAJ/results
==== Output CSV file written into : /Users/mchinnappan/.soql/product2-id.soql.csv ===
==== View the output file : /Users/mchinnappan/.soql/product2-id.soql.csv using:
 cat /Users/mchinnappan/.soql/product2-id.soql.csv ===
=== JOB Failure STATUS === 
=== JOB Failure STATUS for job: 7504x00000Xl3O8AAJ === &quot;sf__Id&quot;,&quot;sf__Error&quot;,&quot;Id&quot;,&quot;Name&quot;,&quot;ProductCode&quot;,&quot;Description&quot;,&quot;IsActive&quot;,&quot;Family&quot;,&quot;QuantityUnitOfMeasure&quot;,&quot;StockKeepingUnit&quot;
 ===
&quot;sf__Id&quot;,&quot;sf__Error&quot;,&quot;Id&quot;,&quot;Name&quot;,&quot;ProductCode&quot;,&quot;Description&quot;,&quot;IsActive&quot;,&quot;Family&quot;,&quot;QuantityUnitOfMeasure&quot;,&quot;StockKeepingUnit&quot;

</code></pre>
<p><img src="tools/img/query-status-del-1.png" alt="Query after delete" /></p>
<p><img src="tools/img/bulkdata-loads-jobs-delete.png" alt="Bulk data status after delete and query" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="flowinterview-query-and-deletion-using-cli-bulkapi20"><a class="header" href="#flowinterview-query-and-deletion-using-cli-bulkapi20">FlowInterview Query and Deletion using CLI (BulkAPI2.0)</a></h1>
<h2 id="query"><a class="header" href="#query">Query</a></h2>
<ul>
<li>Note:
<ul>
<li>Username used in the examples is <code>mohan.chinnappan.n.sel@gmail.com </code> </li>
<li>You need to replace it with your username after authenticationg with</li>
</ul>
<pre><code># For PROD and DE
sfdx force:auth:web:login -r https://login.salesforce.com

# For  Sandboxes
sfdx force:auth:web:login -r https://test.salesforce.com


</code></pre>
</li>
</ul>
<h3 id="query-for-the-flowinterview-records-with-error-interviewstatus"><a class="header" href="#query-for-the-flowinterview-records-with-error-interviewstatus">Query for the FlowInterview records with <strong>Error</strong> InterviewStatus</a></h3>
<pre><code class="language-sql">
SELECT Id, CurrentElement, FlowVersionViewId,Guid,InterviewLabel,
      InterviewStatus,Name,OwnerId,PauseLabel,
      WasPausedFromScreen
      FROM FlowInterview
      WHERE InterviewStatus ='Error'

</code></pre>
<ul>
<li>
<p>Store above SOQL in a file say <code>flowInterview.soql</code></p>
</li>
<li>
<p>Execute the query</p>
</li>
</ul>
<pre><code>sfdx mohanc:data:bulkapi:query  -u mohan.chinnappan.n.sel@gmail.com -q flowInterview.soql

</code></pre>
<ul>
<li>This will create a csv output in <code>flowInterview.soql.csv</code>. Check the records for deletion.</li>
<li>If you have decided to delete the these records, you can run the following query </li>
</ul>
<pre><code class="language-sql">
SELECT Id
      FROM FlowInterview
      WHERE InterviewStatus ='Error'

</code></pre>
<ul>
<li>
<p>Store above SOQL in a file say <code>flowInterviewIds.soql</code></p>
</li>
<li>
<p>Execute the query</p>
</li>
</ul>
<pre><code>sfdx mohanc:data:bulkapi:query  -u mohan.chinnappan.n.sel@gmail.com -q flowInterviewIds.soql

</code></pre>
<h2 id="deletion"><a class="header" href="#deletion">Deletion</a></h2>
<pre><code>sfdx mohanc:data:bulkapi:delete -u mohan.chinnappan.n.sel@gmail.com -f flowInterviewIds.soql.csv -e LF -o FlowInterview


</code></pre>
<ul>
<li>This will delete all the FlowInterview records with Ids in  <code>flowInterviewIds.soql.csv </code></li>
</ul>
<h2 id="references-2"><a class="header" href="#references-2">References</a></h2>
<ul>
<li><a href="https://help.salesforce.com/s/articleView?id=000388016&amp;type=1">Mass delete 'Paused and Waiting Interviews' records</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="loading-state-and-country-picklist"><a class="header" href="#loading-state-and-country-picklist">Loading State and Country Picklist</a></h1>
<ul>
<li>
<p>Requirement for this tool to help the customers since <a href="https://help.salesforce.com/s/articleView?id=sf.admin_state_country_picklists_api.htm&amp;type=5">You can’t use the Metadata API to <strong>create</strong> or delete new states, countries, or territories</a></p>
</li>
<li>
<p>This app helps to fill-in this gap, of creating new states and  countries, or territories</p>
</li>
<li>
<p>This app uses  Chrome's new Recorder feature</p>
</li>
</ul>
<hr />
<h2 id="topics-4"><a class="header" href="#topics-4">Topics</a></h2>
<ul>
<li><a href="tools/tools-scpl.html#demo">Demo of the app</a></li>
<li><a href="tools/tools-scpl.html#input">Input data</a></li>
<li><a href="tools/tools-scpl.html#viz">Visualizing</a></li>
<li><a href="tools/tools-scpl.html#ref">References</a></li>
</ul>
<hr />
<p><a name='demo'></a></p>
<h2 id="demo"><a class="header" href="#demo">Demo</a></h2>
<p><img src="https://mohan-chinnappan-n5.github.io/cspl/demo/cspl-2.webm.gif" alt="SCPL Demo" /></p>
<h3 id="where-i-can-find-this-app"><a class="header" href="#where-i-can-find-this-app">Where I can find this app?</a></h3>
<ul>
<li><a href="https://mohan-chinnappan-n5.github.io/cspl/cspl.html?a=0&amp;t=30000">App URL</a></li>
</ul>
<p><a name='input'></a></p>
<h3 id="using-sf-land-data-viz-to-get-all-countries-data"><a class="header" href="#using-sf-land-data-viz-to-get-all-countries-data">Using SF-LAND Data Viz to get All Countries data</a></h3>
<ul>
<li>
<p>I prepared this data by web scraping the Wikipedia,  feel free to use it.</p>
<iframe id="inlineFrameExample"
  title="Inline Frame Example"
  width="1100"
  height="800"
  src="https://mohan-chinnappan-n5.github.io/dfv/dfv.html?d=scpl_wc.psv&cw=2000&ct=bar&wc=4">
</li>
</ul>
</iframe>
<p><a name='viz'></a></p>
<h2 id="visualizing-state-and-country---addresssettings"><a class="header" href="#visualizing-state-and-country---addresssettings">Visualizing State and Country - AddressSettings</a></h2>
<ul>
<li>package.xml to retrieve the data</li>
</ul>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;Package xmlns=&quot;http://soap.sforce.com/2006/04/metadata&quot;&gt;
    &lt;types&gt;
        &lt;members&gt;Address&lt;/members&gt;
        &lt;name&gt;Settings&lt;/name&gt;
    &lt;/types&gt;
    &lt;version&gt;56.0&lt;/version&gt;
&lt;/Package&gt;

</code></pre>
<p><img src="tools/img/addressSettings-1.webm.gif" alt="Retrieve Address Settings" /></p>
<ul>
<li>Transform to get the visualization</li>
</ul>
<pre><code>xmlutil transform --xsl=addresssettings  --xml=Address.settings  --out=/tmp/address.html

</code></pre>
<p><img src="tools/img/addressSettings-1.png" alt="Address Settings" /></p>
<p><a name='ref'></a></p>
<h2 id="references-3"><a class="header" href="#references-3">References</a></h2>
<ul>
<li><a href="https://help.salesforce.com/s/articleView?id=sf.admin_state_country_picklists_configure.htm&amp;type=5">Configure State and Country/Territory Picklists</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="updating-state-and-country-picklist"><a class="header" href="#updating-state-and-country-picklist">Updating State and Country Picklist</a></h1>
<ul>
<li>
<p><em>You can use the Metadata API to edit existing states, countries, and territories in state and country/territory picklists. You can’t use the Metadata API to create or delete new states, countries, or territories.</em> <a href="https://help.salesforce.com/s/articleView?id=sf.admin_state_country_picklists_api.htm&amp;type=5">Refer</a></p>
</li>
<li>
<p>Once you have <a href="tools/./tools-scpl.html">loaded  State and Country Picklist</a> you can update them, like selectively activating a country as per your use case.</p>
</li>
<li>
<p>Options described here explains how to activate a particular country or countries. </p>
</li>
</ul>
<h2 id="topics-5"><a class="header" href="#topics-5">Topics</a></h2>
<ul>
<li><a href="tools/tools-scpl-update.html#opt1">Option-1 Activating using Recorder application</a> </li>
<li><a href="tools/tools-scpl-update.html#opt2">Option-2 Using ONNU Chrome Extension</a></li>
<li><a href="tools/tools-scpl-update.html#opt3">Option-3 Using CLI mdapi</a></li>
<li><a href="tools/tools-scpl-update.html#opt4">Option-4 retrieve into SFDX project using source:retrieve</a></li>
</ul>
<p><a name='opt1'></a></p>
<h2 id="option-1-activating-using-recorder-application"><a class="header" href="#option-1-activating-using-recorder-application">Option-1 Activating using Recorder application</a></h2>
<h3 id="before"><a class="header" href="#before">Before</a></h3>
<p><img src="tools/img/scpl-modify-1.png" alt="before" /></p>
<h3 id="replying-the-recording"><a class="header" href="#replying-the-recording">Replying the recording</a></h3>
<p><img src="tools/img/scpl-recording-1.webm.gif" alt="Activating recording" /></p>
<h2 id="after"><a class="header" href="#after">After</a></h2>
<p><img src="tools/img/scpl-after-1.png" alt="After" /></p>
<p><a name='opt2'></a></p>
<h2 id="option-2-using-onnu-chrome-extension"><a class="header" href="#option-2-using-onnu-chrome-extension">Option-2 Using ONNU Chrome Extension</a></h2>
<p><img src="tools/img/scpl-onnu-1.webm.gif" alt="SCPL Update ONNU" /></p>
<p><a name='opt3'></a></p>
<h2 id="option-3-using-cli-mdapi"><a class="header" href="#option-3-using-cli-mdapi">Option-3 Using CLI mdapi</a></h2>
<h3 id="retrieve"><a class="header" href="#retrieve">Retrieve</a></h3>
<pre><code>sfdx force:mdapi:retrieve -k unpackaged/package.xml -u mohan.chinnappan.n.sel@gmail.com -r .

</code></pre>
<pre><code>Retrieving v56.0 metadata from mohan.chinnappan.n.sel@gmail.com using the v57.0 SOAP API
Retrieve ID: 09S4x00000F0DGMEA3
Retrieving metadata from mohan.chinnappan.n.sel@gmail.com... done
Wrote retrieve zip to /Users/mchinnappan/Downloads/updates/unpackaged.zip

</code></pre>
<pre><code>jar tvf unpackaged.zip 
569563 Mon Mar 27 23:41:02 EDT 2023 unpackaged/settings/Address.settings
   226 Mon Mar 27 23:41:02 EDT 2023 unpackaged/package.xml

</code></pre>
<ul>
<li><strong>Edit Address.settings as in the Option-2 (ONNU option) to update active tags</strong> to make updatedSCPL.zip  zip file</li>
</ul>
<h3 id="deploy-the-edited-addresssettings-file"><a class="header" href="#deploy-the-edited-addresssettings-file">Deploy the edited Address.settings file</a></h3>
<pre><code>sfdx force:mdapi:deploy -u mohan.chinnappan.n.sel@gmail.com  -f updatedSCPL.zip  -c --verbose --loglevel TRACE -w 1000      

</code></pre>
<pre><code>Deploying metadata to mohan.chinnappan.n.sel@gmail.com using the v57.0 SOAP API
Deploy ID: 0Af4x00000YsXnoCAF
DEPLOY PROGRESS | ████████████████████████████████████████ | 1/1 Components

=== Deployed Source

 Type            File                                 Name        Id 
 ─────────────── ──────────────────────────────────── ─────────── ── 
                 unpackaged/package.xml               package.xml    
 AddressSettings unpackaged/settings/Address.settings Address   
</code></pre>
<hr />
<p><a name='opt4'></a></p>
<h2 id="option-4-retrieve-into-sfdx-project-using-sourceretrieve"><a class="header" href="#option-4-retrieve-into-sfdx-project-using-sourceretrieve">Option-4 retrieve into SFDX project using source:retrieve</a></h2>
<pre><code>cat package.xml

</code></pre>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;Package xmlns=&quot;http://soap.sforce.com/2006/04/metadata&quot;&gt;
   &lt;types&gt;
       &lt;members&gt;Address&lt;/members&gt;
       &lt;name&gt;Settings&lt;/name&gt;
   &lt;/types&gt;
   &lt;version&gt;56.0&lt;/version&gt;
&lt;/Package&gt;
</code></pre>
<pre><code>sfdx force:source:retrieve   -u mohan.chinnappan.n.sel@gmail.com -x  package.xml 
</code></pre>
<pre><code>Retrieving v56.0 metadata from mohan.chinnappan.n.sel@gmail.com using the v57.0 SOAP API
Preparing retrieve request... done
=== Retrieved Source

 FULL NAME TYPE     PROJECT PATH                                              
 ───────── ──────── ───────────────────────────────────────────────────────── 
 Address   Settings force-app/main/default/settings/Address.settings-meta.xml 

</code></pre>
<ul>
<li>Now you can commit this into your version control and  make changes to the <code>Address.settings-meta.xml</code> in your editor</li>
</ul>
<pre><code>vi force-app/main/default/settings/Address.settings-meta.xml 

</code></pre>
<h3 id="deploy-the-updated-addresssettings-metaxml-into-the-org"><a class="header" href="#deploy-the-updated-addresssettings-metaxml-into-the-org">Deploy the updated Address.settings-meta.xml into the org</a></h3>
<pre><code>sfdx force:source:deploy   -u mohan.chinnappan.n.sel@gmail.com -x package.xml

</code></pre>
<pre><code>Deploying v56.0 metadata to mohan.chinnappan.n.sel@gmail.com using the v57.0 SOAP API
Deploy ID: 0Af4x00000YsZyUCAV
DEPLOY PROGRESS | ████████████████████████████████████████ | 1/1 Components

=== Deployed Source

 FULL NAME TYPE     PROJECT PATH                                              
 ───────── ──────── ───────────────────────────────────────────────────────── 
 Address   Settings force-app/main/default/settings/Address.settings-meta.xml 
Deploy Succeeded.
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="project-management"><a class="header" href="#project-management">Project Management</a></h1>
<h2 id="topics-6"><a class="header" href="#topics-6">Topics</a></h2>
<ul>
<li><a href="tools/project-management/gantt.html#gantt">Gantt Chart App</a></li>
<li><a href="tools/project-management/gantt.html#sdcg">Semantic Doc Compare and Group</a></li>
<li><a href="tools/project-management/gantt.html#pe">Project Estimates</a></li>
</ul>
<hr />
<p><a href="https://mohan-chinnappan-n5.github.io/charts/gantt/gantt.html">Gantt Chart App</a></p>
<iframe id="Gantt Chart"
    title="Gantt Chart"
    width="1200"
    height="800"
    src="https://mohan-chinnappan-n5.github.io/charts/gantt/gantt.html">
</iframe>
<hr />
<p><a name='sdcg'></a></p>
<h2 id="semantic-doc-compare-and-group"><a class="header" href="#semantic-doc-compare-and-group"><a href="tools/project-management/../../ml/sdcg.html">Semantic Doc Compare and Group</a></a></h2>
<hr />
<p><a name='pe'></a></p>
<h2 id="project-estimates"><a class="header" href="#project-estimates">Project Estimates</a></h2>
<table><thead><tr><th>Estimate</th><th>Comments</th></tr></thead><tbody>
<tr><td><strong>Planning estimates</strong></td><td>It is a rough order of estimate(ROM). ROM is an approximation strategy that helps project managers present important financial estimates to clients and consumers. Helps in determining the feasibility of a project and is important for the decision-making process</td></tr>
<tr><td><strong>Backlog estimates</strong></td><td>Provides data on the amount of work that isn't complete - works has started but not yet completed</td></tr>
<tr><td><strong>Timebox estimates</strong></td><td>Shows  how long it might take to complete a project - important part of Agile and Lean software development. Involves subdividing a project into <strong>smaller chunks of work</strong> and estimating each chunk separately.</td></tr>
<tr><td><strong>Order-of-magnitude estimates</strong></td><td>Helps to estimate the cost and effort to complete a project - help you determine how big something is without knowing the exact value.</td></tr>
<tr><td><strong>Feasibility estimates</strong></td><td>useful when determining if a project or task is doable and how much it may cost</td></tr>
<tr><td><strong>Detailed estimates</strong></td><td>Includes several line items or categories of work for a project. You can use it to estimate the time and resources necessary to complete a project</td></tr>
<tr><td><strong>Analogous estimates</strong></td><td>uses experience to predict the time and cost required for a project. For example, if you've completed similar projects in the past and know how long each one took, you can use this information to estimate future projects</td></tr>
<tr><td><strong>Top-down estimates</strong></td><td>starts with a high-level project scope, which you simplify into smaller pieces.</td></tr>
</tbody></table>
<h3 id="references-4"><a class="header" href="#references-4">References</a></h3>
<ul>
<li><a href="https://www.indeed.com/career-advice/career-development/types-of-estimates">19 Types of Estimates To Use for Different Projects</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="pert---program-evaluation-and-review-technique"><a class="header" href="#pert---program-evaluation-and-review-technique">PERT - Program Evaluation and Review Technique</a></h1>
<ul>
<li>
<p>Statistical tool used in project management, which was designed to analyze and represent the tasks involved in completing a given project.</p>
</li>
<li>
<p>First developed by the United States Navy in 1958, it is commonly used in conjunction with the critical path method (CPM) that was introduced in 1957.</p>
</li>
</ul>
<p><a href="https://mohan-chinnappan-n5.github.io/charts/pert/pert.html">PERT Chart App</a></p>
<iframe id="PERT Chart"
    title="PERT Chart"
    width="1200"
    height="800"
    src="https://mohan-chinnappan-n5.github.io/charts/pert/pert.html">
</iframe>
<hr />
<p><a href="https://mohan-chinnappan-n5.github.io/charts/gantt/gantt.html"> Gantt Chart App</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="event-monitoring"><a class="header" href="#event-monitoring">Event Monitoring</a></h1>
<p><img src="tools/../img/cover/chromecast-animals-1.jpg" alt="Torty" /></p>
<h2 id="viewing-and-visualizing-event-log-files-using-dx"><a class="header" href="#viewing-and-visualizing-event-log-files-using-dx">Viewing and Visualizing Event Log files using DX</a></h2>
<h2 id="topics-7"><a class="header" href="#topics-7">Topics</a></h2>
<ul>
<li><a href="tools/em.html#types">Listing Event Types</a></li>
<li><a href="tools/em.html#get">Get the log files</a></li>
<li><a href="tools/em.html#charts">Charts</a></li>
</ul>
<hr />
<p><a name="types"></a></p>
<h2 id="listing-the-event-types"><a class="header" href="#listing-the-event-types">Listing the Event Types</a></h2>
<ul>
<li>Requires 0.0.115 version of the plugin
<ul>
<li>sfdx-mohanc-plugins@0.0.115</li>
<li><a href="https://mohan-chinnappan-n.github.io/dx/plugins.html#/1">How to install the plugin</a></li>
</ul>
</li>
</ul>
<h3 id="usage"><a class="header" href="#usage">Usage</a></h3>
<pre><code>USAGE
  $ sfdx mohanc:monitoring:em:types

OPTIONS
  -u, --targetusername=targetusername              username or alias for the target org; overrides default target org
  -v, --targetdevhubusername=targetdevhubusername  username or alias for the dev hub org; overrides default dev hub org
  --apiversion=apiversion                          override the api version used for api requests made by this command
  --json                                           format output as json
  --loglevel=(trace|debug|info|warn|error|fatal)   logging level for this command invocation

EXAMPLE

       ** Show Event Types   **
       sfdx mohanc:monitoring:em:types -u &lt;userName&gt;

</code></pre>
<h3 id="demo-1"><a class="header" href="#demo-1">Demo</a></h3>
<pre><code>$ sfdx mohanc:monitoring:em:types  -u mohan.chinnappan.n_ea2@gmail.com 
API
ApexExecution
ApexTrigger
BulkApi
ContentTransfer
DocumentAttachmentDownloads
LightningInteraction
LightningPageView
LightningPerformance
Login
Logout
RestApi
URI
WaveChange
WaveInteraction
WavePerformance

</code></pre>
<p><a name="get"></a></p>
<h2 id="get-the-event-files-for-given-event-type"><a class="header" href="#get-the-event-files-for-given-event-type">Get the Event files for given Event Type</a></h2>
<h3 id="usage-1"><a class="header" href="#usage-1">Usage</a></h3>
<pre><code>$ sfdx mohanc:monitoring:em:get -h
Event Files for the given Event Type 

USAGE
  $ sfdx mohanc:monitoring:em:get

OPTIONS
  -e, --enddate=enddate                            End DateTime for the logs in the format YYYY-MM-DDThh:mm:ssZ,, example: 
                                                   2012-12-30:23:00:00Z

  -o, --eventfileout=eventfileout                  Output CSV file name to write the events into

  -s, --startdate=startdate                        Start DateTime for the logs in the format YYYY-MM-DDThh:mm:ssZ, example: 
                                                   2012-12-30T00:10:00Z

  -t, --eventtype=eventtype                        Event Type for which Event File is requested

  -u, --targetusername=targetusername              username or alias for the target org; overrides default target org

  -v, --targetdevhubusername=targetdevhubusername  username or alias for the dev hub org; overrides default dev hub org

  --apiversion=apiversion                          override the api version used for api requests made by this command

  --json                                           format output as json

  --loglevel=(trace|debug|info|warn|error|fatal)   logging level for this command invocation

EXAMPLE

       ** Event Files for the given Event Type  **
       sfdx mohanc:monitoring:em:get -u &lt;userName&gt; -t &lt;eventType&gt; -o &lt;outFileName&gt; -s &lt;startDateTime&gt; -e &lt;endDateTime&gt;

</code></pre>
<h3 id="demo-2"><a class="header" href="#demo-2">Demo</a></h3>
<pre><code>$ sfdx mohanc:monitoring:em:get -t API  -u mohan.chinnappan.n_ea2@gmail.com -o API2d.csv -s 2020-11-10T00:01:00Z -e 2020-11-13T00:02:00Z
=== Deleting old output file API2d.csv ...
=== Collecting logs for the EventType: API ...
=== Getting log file for LogDate: 2020-11-11T00:00:00.000+0000 of Size: 15113, Total: 15113 Bytes ...
=== Getting log file for LogDate: 2020-11-10T00:00:00.000+0000 of Size: 5590, Total: 20703 Bytes ...
=== Getting log file for LogDate: 2020-11-08T00:00:00.000+0000 of Size: 16036, Total: 36739 Bytes ...
=== Getting log file for LogDate: 2020-11-09T00:00:00.000+0000 of Size: 4159, Total: 40898 Bytes ...
Total Bytes written: 40898 

=== Opening API2d.csv ...
</code></pre>
<p><img src="https://raw.githubusercontent.com/mohan-chinnappan-n/cli-dx/master/monitoring/img/event-out-1.png" alt="Event file" />
<img src="https://res.cloudinary.com/hy4kyit2a/f_auto,fl_lossy,q_70/learn/modules/event_monitoring/event_monitoring_download/images/34f05d6f9de436049c6c33d6131829af_elf_solved_case.png" alt="fields map" /></p>
<p><a name="charts"></a></p>
<h3 id="charts"><a class="header" href="#charts">Charts</a></h3>
<pre><code>$ sfdx mohanc:data:viz:barChart  -d ./API2d.csv -e ./API.csv.encoding-2.json -m bar -o ./APIbarchart.html -p ./apiChart.json

=== Opening ./APIbarchart.html via Local Web Server on port :7020 ...

</code></pre>
<p><img src="https://raw.githubusercontent.com/mohan-chinnappan-n/cli-dx/master/monitoring/img/api-chart-2.png" alt="chart-2" />
<img src="https://raw.githubusercontent.com/mohan-chinnappan-n/cli-dx/master/monitoring/img/api-chart-1.png" alt="chart-1" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="proactive-monitoring"><a class="header" href="#proactive-monitoring">Proactive Monitoring</a></h1>
<ul>
<li>Part of Signature Success Plan </li>
</ul>
<h2 id="signature-success-plan"><a class="header" href="#signature-success-plan">Signature Success Plan</a></h2>
<table><thead><tr><th>Feature</th><th>Comments</th></tr></thead><tbody>
<tr><td>Technical Account Manager (TAM)</td><td>Designated TAM</td></tr>
<tr><td>Personalized Trends and Insights</td><td></td></tr>
<tr><td>Key Event Management</td><td></td></tr>
<tr><td>24/7 Proactive Monitoring</td><td>Predict and prevent disruptions before they occur. Includes customized monitoring plan including Smart Alerts to detect potential risks and root causes</td></tr>
</tbody></table>
<h2 id="continuous-247-monitoring"><a class="header" href="#continuous-247-monitoring">Continuous 24/7 monitoring</a></h2>
<p><img src="monitoring/img/monitoring-2.png" alt="monitoring" /></p>
<p>Salesforce team watches your production Org limits day and night, armed with proprietary diagnostic tools and the insights that come with overseeing a broad universe of Salesforce orgs. Continuous 24/7 monitoring of your key Salesforce solutions helps you predict and prevent issues.</p>
<h2 id="earlier-warning-of-critical-issues-featuring-smart-alert"><a class="header" href="#earlier-warning-of-critical-issues-featuring-smart-alert">Earlier warning of critical issues featuring Smart Alert</a></h2>
<p><img src="monitoring/img/smart-alerts-1.png" alt="smart alerts" /></p>
<p>Salesforce support teams can swing into action more quickly, solving issues faster and reducing the likelihood that issues become severe.</p>
<p><img src="monitoring/img/alert-1.png" alt="alert" /></p>
<h2 id="technical-guidance"><a class="header" href="#technical-guidance">Technical guidance</a></h2>
<p><img src="monitoring/img/alert-2.png" alt="alert" /></p>
<p>Salesforce team provides technical guidance from Salesforce monitoring experts, based upon best practices learned supporting more than 150,000 customers, can help the customer to restore functionality more quickly and help to reduce the likelihood of future errors and system problems.</p>
<h2 id="quarterly-trends-and-reports"><a class="header" href="#quarterly-trends-and-reports">Quarterly trends and reports</a></h2>
<p>Customer will receive Quarterly trends and reports.
And Annual health review from the Signature team.</p>
<p><img src="monitoring/img/trends-quarter.png" alt="Quarter trends" /></p>
<p><img src="monitoring/img/annual-report.png" alt="Annual Report" /></p>
<iframe width="640" height="400" src="https://www.youtube.com/embed/j_Ji40Det8Y" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<h2 id="samples"><a class="header" href="#samples">Samples</a></h2>
<ul>
<li>
<p>Salesforce team will also able to initiate <strong>emergency measures quickly</strong> (like increasing login limits), to keep your business running smoothly <strong>while issues are being addressed</strong>.</p>
</li>
<li>
<p>When the customer chooses the automations and triggered sends that customer wants to be monitored, and Salesforce team tracks them 24/7.</p>
</li>
<li>
<p>Salesforce team is always monitoring the CPU utilization, which is yet another indicator of when and where problems may arise. Salesforce team is empowered to go right to work reviewing custom code – allowing them to identify issues and recommend adjustments without delay.
This service doesn’t fix the code, but we’ll diagnose the problem and tell you what you should do next to keep this from happening.</p>
</li>
<li>
<p>Batch process issues can slow down the org if not best practices are followed. Salesforce team can quickly help the customer to align rogue batch processes (caused by custom code or third-party vendors) with the best practices.</p>
</li>
</ul>
<h2 id="references-5"><a class="header" href="#references-5">References</a></h2>
<ul>
<li><a href="https://www.salesforce.com/content/dam/web/en_us/www/documents/e-books/success-cloud/4-tips-salesforce-customizations.pdf">Proactive Monitoring Advantages</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="real-time-event-monitoring"><a class="header" href="#real-time-event-monitoring">Real-Time Event Monitoring</a></h1>
<ul>
<li>Monitor and detect standard events in Salesforce in near real-time</li>
<li>Event data can be stored for auditing or reporting purposes</li>
</ul>
<h2 id="insights"><a class="header" href="#insights">Insights</a></h2>
<table><thead><tr><th>Insight</th><th>Comments</th></tr></thead><tbody>
<tr><td>Who viewed <strong>what data and when</strong>?</td><td></td></tr>
<tr><td><strong>Where</strong> data was accessed?</td><td></td></tr>
<tr><td>When a user changes a record using the UI?</td><td></td></tr>
<tr><td>Who is logging in and from where?</td><td></td></tr>
<tr><td>Who in your org is performing actions related to Platform Encryption administration?</td><td></td></tr>
<tr><td>Which admins <strong>logged in as another user</strong> and the actions the admin took as that user?</td><td></td></tr>
<tr><td>How long it takes a Lightning page to load?</td><td></td></tr>
<tr><td>Threats detected in your org, such as anomalies in <strong>how users view or export reports</strong>, session hijacking attacks, or credential stuffing attacks</td><td></td></tr>
</tbody></table>
<h2 id="key-terms"><a class="header" href="#key-terms">Key terms</a></h2>
<table><thead><tr><th>Term</th><th>Definition</th></tr></thead><tbody>
<tr><td><strong>Event</strong></td><td>An event is anything that happens in Salesforce, including user clicks, record state changes, and measuring values. Events are immutable and timestamped.</td></tr>
<tr><td><strong>Event Channel</strong></td><td>A stream of events on which an event producer sends event messages and event consumers read those messages.</td></tr>
<tr><td><strong>Event Subscriber</strong></td><td>A subscriber to a channel that receives messages from the channel. For example, a security app is notified of new report downloads.</td></tr>
<tr><td><strong>Event Message</strong></td><td>A message used to transmit data about the event.</td></tr>
<tr><td><strong>Event Publisher</strong></td><td>The publisher of an event message over a channel, such as a security and auditing app.</td></tr>
</tbody></table>
<h2 id="setting-up---enable-access-to-real-time-event-monitoring"><a class="header" href="#setting-up---enable-access-to-real-time-event-monitoring">Setting up - Enable Access to Real-Time Event Monitoring</a></h2>
<h3 id="via-profile-or-permissionset"><a class="header" href="#via-profile-or-permissionset">Via Profile or PermissionSet</a></h3>
<ul>
<li><code>View Real-Time Event Monitoring Data</code></li>
<li><code>Customize Application</code></li>
</ul>
<h2 id="event-manager"><a class="header" href="#event-manager">Event Manager</a></h2>
<ul>
<li>From Setup, in the Quick Find box, enter Events, then select <strong>Event Manager</strong>.</li>
<li>Next to the event you want to enable or disable streaming for, click the dropdown menu.</li>
<li>Select whether you want to enable or disable streaming or storing on the event.</li>
</ul>
<p><img src="monitoring/img/event-manager-1.png" alt="Event Manager" /></p>
<h3 id="querying-realtimeeventsettings"><a class="header" href="#querying-realtimeeventsettings">Querying RealTimeEventSettings</a></h3>
<pre><code class="language-bash">cat ~/.soql/RealTimeEventSettings.soql      
</code></pre>
<pre><code class="language-sql">SELECT
Id
,DurableId
,Metadata
,FullName
FROM RealTimeEventSettings

</code></pre>
<pre><code class="language-bash">
sfdx mohanc:tooling:query -u mohan.chinnappan.n_ea2@gmail.com -q  ~/.soql/RealTimeEventSettings.soql -f json 

</code></pre>
<pre><code class="language-json">[
    {
        &quot;attributes&quot;: {
            &quot;type&quot;: &quot;RealTimeEventSettings&quot;,
            &quot;url&quot;: &quot;/services/data/v57.0/tooling/sobjects/RealTimeEventSettings/bWRjLzBIRS9SZWFsVGltZUV2ZW50U2V0dGluZ3M%3D&quot;
        },
        &quot;Id&quot;: &quot;000000000000000AAA&quot;,
        &quot;DurableId&quot;: &quot;bWRjLzBIRS9SZWFsVGltZUV2ZW50U2V0dGluZ3M=&quot;,
        &quot;Metadata&quot;: {
            &quot;realTimeEvents&quot;: [
                {
                    &quot;entityName&quot;: &quot;ApiEvent&quot;,
                    &quot;isEnabled&quot;: false
                },
                {
                    &quot;entityName&quot;: &quot;ApiEventStream&quot;,
                    &quot;isEnabled&quot;: false
                },
                {
                    &quot;entityName&quot;: &quot;ApiAnomalyEventStore&quot;,
                    &quot;isEnabled&quot;: false
                },
                {
                    &quot;entityName&quot;: &quot;ApiAnomalyEvent&quot;,
                    &quot;isEnabled&quot;: false
                },
                {
                    &quot;entityName&quot;: &quot;BulkApiResultEventStore&quot;,
                    &quot;isEnabled&quot;: false
                },
                {
                    &quot;entityName&quot;: &quot;BulkApiResultEvent&quot;,
                    &quot;isEnabled&quot;: false
                },
                {
                    &quot;entityName&quot;: &quot;ConcurLongRunApexErrEvent&quot;,
                    &quot;isEnabled&quot;: false
                },
                {
                    &quot;entityName&quot;: &quot;CredentialStuffingEventStore&quot;,
                    &quot;isEnabled&quot;: false
                },
                {
                    &quot;entityName&quot;: &quot;CredentialStuffingEvent&quot;,
                    &quot;isEnabled&quot;: false
                },
                {
                    &quot;entityName&quot;: &quot;FileEventStore&quot;,
                    &quot;isEnabled&quot;: false
                },
                {
                    &quot;entityName&quot;: &quot;FileEvent&quot;,
                    &quot;isEnabled&quot;: false
                },
                {
                    &quot;entityName&quot;: &quot;IdentityVerificationEvent&quot;,
                    &quot;isEnabled&quot;: false
                },
                {
                    &quot;entityName&quot;: &quot;IdentityProviderEventStore&quot;,
                    &quot;isEnabled&quot;: false
                },
                {
                    &quot;entityName&quot;: &quot;LightningUriEvent&quot;,
                    &quot;isEnabled&quot;: false
                },
                {
                    &quot;entityName&quot;: &quot;LightningUriEventStream&quot;,
                    &quot;isEnabled&quot;: false
                },
                {
                    &quot;entityName&quot;: &quot;ListViewEvent&quot;,
                    &quot;isEnabled&quot;: false
                },
                {
                    &quot;entityName&quot;: &quot;ListViewEventStream&quot;,
                    &quot;isEnabled&quot;: false
                },
                {
                    &quot;entityName&quot;: &quot;LoginEvent&quot;,
                    &quot;isEnabled&quot;: false
                },
                {
                    &quot;entityName&quot;: &quot;LoginEventStream&quot;,
                    &quot;isEnabled&quot;: false
                },
                {
                    &quot;entityName&quot;: &quot;LoginAsEvent&quot;,
                    &quot;isEnabled&quot;: false
                },
                {
                    &quot;entityName&quot;: &quot;LoginAsEventStream&quot;,
                    &quot;isEnabled&quot;: false
                },
                {
                    &quot;entityName&quot;: &quot;LogoutEvent&quot;,
                    &quot;isEnabled&quot;: false
                },
                {
                    &quot;entityName&quot;: &quot;LogoutEventStream&quot;,
                    &quot;isEnabled&quot;: false
                },
                {
                    &quot;entityName&quot;: &quot;PermissionSetEventStore&quot;,
                    &quot;isEnabled&quot;: false
                },
                {
                    &quot;entityName&quot;: &quot;PermissionSetEvent&quot;,
                    &quot;isEnabled&quot;: false
                },
                {
                    &quot;entityName&quot;: &quot;ReportEvent&quot;,
                    &quot;isEnabled&quot;: false
                },
                {
                    &quot;entityName&quot;: &quot;ReportEventStream&quot;,
                    &quot;isEnabled&quot;: false
                },
                {
                    &quot;entityName&quot;: &quot;ReportAnomalyEventStore&quot;,
                    &quot;isEnabled&quot;: false
                },
                {
                    &quot;entityName&quot;: &quot;ReportAnomalyEvent&quot;,
                    &quot;isEnabled&quot;: false
                },
                {
                    &quot;entityName&quot;: &quot;SessionHijackingEventStore&quot;,
                    &quot;isEnabled&quot;: false
                },
                {
                    &quot;entityName&quot;: &quot;SessionHijackingEvent&quot;,
                    &quot;isEnabled&quot;: false
                },
                {
                    &quot;entityName&quot;: &quot;UriEvent&quot;,
                    &quot;isEnabled&quot;: false
                },
                {
                    &quot;entityName&quot;: &quot;UriEventStream&quot;,
                    &quot;isEnabled&quot;: false
                }
            ],
            &quot;urls&quot;: null
        },
        &quot;FullName&quot;: &quot;RealTimeEvent&quot;
    }
]
</code></pre>
<h2 id="what-are-the-standard-events"><a class="header" href="#what-are-the-standard-events">What are the standard events?</a></h2>
<h3 id="requirements"><a class="header" href="#requirements">Requirements</a></h3>
<ul>
<li>Accessing following event objects requires either the <strong>Salesforce Shield or Salesforce Event Monitoring add-on subscription</strong> and the <strong>View Real-Time Event Monitoring Data user</strong> permission.</li>
</ul>
<table><thead><tr><th>Event</th><th>Description</th><th>Notes</th></tr></thead><tbody>
<tr><td><strong>ApiEvent</strong></td><td>Tracks these user-initiated read-only API calls: query(), queryMore(), and count(). Captures API requests through SOAP API and Bulk API for the Enterprise and Partner WSDLs. Tooling API calls and API calls originating from a Salesforce mobile app aren’t captured.</td><td></td></tr>
<tr><td><strong>ApiAnomalyEvent</strong></td><td>Track anomalies in how users make API calls.</td><td></td></tr>
<tr><td><strong>PermissionSetEventStore</strong></td><td>Tracks changes to permission sets and permission set groups. This event initiates when a permission is added to, or removed from a permission set.This event also initiates when a permission set containing a critical permission is assigned or unassigned.</td><td></td></tr>
<tr><td><strong>LoginAsEvent</strong></td><td>when an admin logs in as another user in your org. In Real-Time Event Monitoring, it captures events for org admins and Experience Cloud sites only.</td><td></td></tr>
<tr><td><strong>LoginEvent</strong></td><td>LoginEvent tracks the login activity of users who log in to Salesforce.</td><td></td></tr>
<tr><td><strong>LogoutEvent</strong></td><td>Tracks user UI logouts. A logout event records a successful user logout from your org’s UI.</td><td></td></tr>
<tr><td><strong>IdentityVerificationEvent</strong></td><td>Tracks user identity verification events in your org.</td><td></td></tr>
<tr><td><strong>IdentityProviderEventStore</strong></td><td>Tracks problems and successes with inbound SAML or OpenID Connect authentication requests from another app provider. It also records outbound SAML responses when Salesforce is acting as an identity provider.</td><td></td></tr>
<tr><td><strong>ListViewEvent</strong></td><td>Tracks when users access data with list views using Lightning Experience, Salesforce Classic, or the API. It doesn’t track list views of Setup entities.</td><td></td></tr>
<tr><td><strong>ReportEvent</strong></td><td>Tracks when reports are run in your org.</td><td></td></tr>
</tbody></table>
<h2 id="event-and-storage-details"><a class="header" href="#event-and-storage-details">Event and storage details</a></h2>
<ul>
<li>With Real-Time Event Monitoring, you can store and query event data in Salesforce objects. Many of the storage events are Salesforce <strong>big objects</strong>, which are ideal for storing large volumes of data for up to <strong>six months</strong>. 
A big object stores the data natively in Salesforce so you can access it for reporting and other uses. Some storage events, such as for Threat Detection, are standard Salesforce objects.</li>
</ul>
<table><thead><tr><th>Platform Event</th><th>Object for Event Storage</th><th>Can Be Used in a Transaction Security Policy?</th></tr></thead><tbody>
<tr><td>ApiAnomalyEvent</td><td>ApiAnomalyEventStore</td><td>Yes</td></tr>
<tr><td>ApiEventStream</td><td>ApiEvent</td><td>Yes</td></tr>
<tr><td>BulkApiResultEvent</td><td>BulkApiResultEventStore</td><td>Yes</td></tr>
<tr><td>ConcurLongRunApexErrEvent</td><td>Not Available</td><td></td></tr>
<tr><td>CredentialStuffingEvent</td><td>CredentialStuffingEventStore</td><td>Yes</td></tr>
<tr><td>FileEvent (Beta)</td><td>FileEventStore (Beta)</td><td></td></tr>
<tr><td>Not Available</td><td>IdentityVerificationEvent</td><td></td></tr>
<tr><td>Not Available</td><td>IdentityProviderEventStore</td><td></td></tr>
<tr><td>LightningUriEventStream</td><td>LightningUriEvent</td><td></td></tr>
<tr><td>ListViewEventStream</td><td>ListViewEvent</td><td>Yes</td></tr>
<tr><td>LoginAsEventStream</td><td>LoginAsEvent</td><td></td></tr>
<tr><td>LoginEventStream</td><td>LoginEvent</td><td>Yes</td></tr>
<tr><td>LogoutEventStream</td><td>LogoutEvent</td><td></td></tr>
<tr><td>MobileEmailEvent</td><td>Not Available</td><td></td></tr>
<tr><td>MobileEnforcedPolicyEvent</td><td>Not Available</td><td></td></tr>
<tr><td>MobileScreenshotEvent</td><td>Not Available</td><td></td></tr>
<tr><td>MobileTelephonyEvent</td><td>Not Available</td><td></td></tr>
<tr><td>PermissionSetEvent</td><td>PermissionSetEventStore</td><td>Yes</td></tr>
<tr><td>ReportAnomalyEvent</td><td>ReportAnomalyEventStore</td><td>Yes</td></tr>
<tr><td>ReportEventStream</td><td>ReportEvent</td><td>Yes</td></tr>
<tr><td>SessionHijackingEvent</td><td>SessionHijackingEventStore</td><td>Yes</td></tr>
<tr><td>UriEventStream</td><td>UriEvent</td><td></td></tr>
</tbody></table>
<h3 id="logouteventstream"><a class="header" href="#logouteventstream">LogoutEventStream</a></h3>
<ul>
<li>When LogoutEventStream is enabled, Salesforce publishes logout events when users log out from the UI. You can add an Apex trigger to subscribe to those events. You can then implement custom logic during logout. For example, you can revoke all refresh tokens for a user at logout.</li>
</ul>
<pre><code class="language-java">
trigger LogoutEventTrigger on LogoutEventStream (after insert) { 

  // the subscriber inserts a custom logout event record during logout.
  LogoutEventStream event = Trigger.new[0];
  LogoutEvent__c record = new LogoutEvent__c();
  record.EventIdentifier__c = event.EventIdentifier;
  record.UserId__c = event.UserId;
  record.Username__c = event.Username;
  record.EventDate__c = event.EventDate;
  record.RelatedEventIdentifier__c = event.RelatedEventIdentifier;
  record.SessionKey__c = event.SessionKey;
  record.LoginKey__c = event.LoginKey;
  insert(record);
}
</code></pre>
<ul>
<li>Simpler one</li>
</ul>
<pre><code class="language-java">
trigger LogoutEventTrigger on LogoutEventStream (after insert) { 

    LogoutEventStream event = Trigger.new[0];
    System.debug(event);
}
</code></pre>
<pre><code>sfdx force:source:deploy -u mohan.chinnappan.n_ea2@gmail.com -p force-app/main/default/triggers/LogoutEventTrigger.trigger
Deploying v55.0 metadata to mohan.chinnappan.n_ea2@gmail.com using the v57.0 SOAP API
Deploy ID: 0Af3h00000SEzjlCAD
DEPLOY PROGRESS | ████████████████████████████████████████ | 1/1 Components

=== Deployed Source

 FULL NAME          TYPE        PROJECT PATH                                                        
 ────────────────── ─────────── ─────────────────────────────────────────────────────────────────── 
 LogoutEventTrigger ApexTrigger force-app/main/default/triggers/LogoutEventTrigger.trigger          
 LogoutEventTrigger ApexTrigger force-app/main/default/triggers/LogoutEventTrigger.trigger-meta.xml 
Deploy Succeeded.

</code></pre>
<h4 id="listing-logs"><a class="header" href="#listing-logs">Listing logs</a></h4>
<pre><code>
sfdx force:apex:log:list  -u mohan.chinnappan.n_ea2@gmail.com --json |sfdx mohan:data:jq -q '.result' | pbcopy; open &quot;https://mohan-chinnappan-n5.github.io/viz/datatable/dt.html?c=json&quot;

</code></pre>
<h2 id="use-async-soql-with-real-time-event-monitoring"><a class="header" href="#use-async-soql-with-real-time-event-monitoring">Use Async SOQL with Real-Time Event Monitoring</a></h2>
<ul>
<li>User case</li>
</ul>
<p>Let’s say you’ve created a custom object called <strong>Patent__c</strong> that contains sensitive patent information. 
You want to know <strong>when users query this object using any API</strong>. 
Use the following Async SOQL query on the <strong>ApiEvent</strong> object to determine when Patent__c was last accessed, who accessed it, and what part of it was accessed. The WHERE clause uses the QueriedEntities field to narrow the results to just API queries of the Patent__c object.</p>
<p>Async SOQL schedules and runs queries asynchronously in the background, so it can run queries that normally time out with regular SOQL.</p>
<p>With Async SOQL, you can run multiple queries in the background while monitoring their completion status. Set up your queries and come back a few hours later to a dataset to work with. Async SOQL is the most efficient way to process the large amount of data in a storage event, especially for big objects. </p>
<ul>
<li>URI</li>
</ul>
<pre><code>https://yourInstance.salesforce.com/services/data/v56.0/async-queries/

</code></pre>
<ul>
<li>Payload (payload.json)</li>
</ul>
<pre><code class="language-json">{
  &quot;query&quot;: &quot;SELECT EventDate, EventIdentifier, QueriedEntities, SourceIp, Username, UserAgent FROM ApiEvent 
            WHERE QueriedEntities LIKE '%Patent__c%'&quot;,
  &quot;targetObject&quot;: &quot;ApiTarget__c&quot;,
  &quot;targetFieldMap&quot;: {
    &quot;EventDate&quot;: &quot;EventDate__c&quot;,
    &quot;EventIdentifier&quot;: &quot;EventIdentifier__c&quot;,
    &quot;QueriedEntities&quot;: &quot;QueriedEntities__c&quot;,
    &quot;SourceIp&quot;: &quot;IPAddress__c&quot;,
    &quot;Username&quot;: &quot;User__c&quot;,
    &quot;UserAgent&quot;: &quot;UserAgent__c&quot;
  }
}
</code></pre>
<pre><code> curl -H &quot;Authorization: Bearer &lt;accessToken&gt;&quot; -d @payload.json -X POST
</code></pre>
<h2 id="let-us-look-at-reportevent"><a class="header" href="#let-us-look-at-reportevent">Let us look at ReportEvent</a></h2>
<pre><code>
sfdx mohanc:md:describe -u mohan.chinnappan.n_ea2@gmail.com -s ReportEvent | pbcopy; open &quot;https://mohan-chinnappan-n5.github.io/viz/datatable/dt.html?c=csv&quot;

</code></pre>
<p><img src="monitoring/img/reportEvent-1.png" alt="Report Event" /></p>
<pre><code># Fields in ReportEvent Object
cut -f 3 -d &quot;,&quot; /tmp/reportevents.csv | sed 's/&quot;//g' | sed 's/^/,/g'
</code></pre>
<pre><code class="language-sql">SELECT
Id
,CreatedDate
,EventIdentifier
,UserId
,Username
,EventDate
,RelatedEventIdentifier
,LoginHistoryId
,RowsProcessed
,Operation
,QueriedEntities
,PolicyId
,PolicyOutcome
,EvaluationTime
,SessionKey
,LoginKey
,SessionLevel
,SourceIp
,DashboardId
,DashboardName
,EventSource
,ExecutionIdentifier
,ExportFileFormat
,IsScheduled
,NumberOfColumns
,ColumnHeaders
,GroupedColumnHeaders
,Description
,Format
,ReportId
,Records
,Name
,OwnerId
,Scope
,Sequence
,DisplayedFieldEntities

FROM reportEvent

</code></pre>
<pre><code>sfdx mohanc:data:query -u mohan.chinnappan.n_ea2@gmail.com -q ~/.soql/reportEvent.soql | pbcopy; open &quot;https://mohan-chinnappan-n5.github.io/viz/datatable/dt.html?c=csv&quot;

</code></pre>
<p><img src="monitoring/img/reportEvent-1.webm.gif" alt="Demo ReportEvent" /></p>
<h2 id="references-6"><a class="header" href="#references-6">References</a></h2>
<ul>
<li><a href="https://help.salesforce.com/s/articleView?id=sf.event_monitoring_monitor_events_with_event_manager.htm&amp;type=5">Manage Real-Time Event Monitoring Events</a></li>
<li><a href="https://developer.salesforce.com/docs/atlas.en-us.platform_events.meta/platform_events/platform_events_intro.htm">Platform Events Developer Guide</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="auditing-scripts"><a class="header" href="#auditing-scripts">Auditing Scripts</a></h1>
<img src="tools/img/auditor-1.png" width="400"/>
<h2 id="contents"><a class="header" href="#contents">Contents</a></h2>
<ul>
<li><a href="tools/scripts.html#unapproved">List unapproved users with given profile in the org</a></li>
<li><a href="tools/scripts.html#mad">List unapproved users having ModifyAllData</a></li>
<li><a href="tools/scripts.html#vad">List unapproved users having ViewAllData</a></li>
<li><a href="tools/scripts.html#withrole">List Users with given Profile who have Role</a></li>
<li><a href="tools/scripts.html#checkpermset">Check users with given PermissionSet </a></li>
<li><a href="tools/scripts.html#sat">Check SetupAuditTrail</a></li>
<li><a href="tools/scripts.html#opga">Operationalize Audit Scripts using github-actions</a></li>
</ul>
<hr />
<p><a name="unapproved"></a></p>
<h2 id="list-unapproved-users-with-given-profile-in-the-org"><a class="header" href="#list-unapproved-users-with-given-profile-in-the-org">List unapproved users with given profile in the org</a></h2>
<h3 id="sample-approved_adminstxt-content"><a class="header" href="#sample-approved_adminstxt-content">Sample approved_admins.txt content:</a></h3>
<pre><code>Ken Thompson
Dennis Ritchie
Niklaus Wirth
</code></pre>
<h3 id="activeuserssoql"><a class="header" href="#activeuserssoql">ActiveUsers.soql</a></h3>
<pre><code class="language-sql">
SELECT  Name FROM  User
WHERE isActive = true AND Profile.Name = '$PROFILE'

</code></pre>
<h3 id="disjoint-stdinpy"><a class="header" href="#disjoint-stdinpy">disjoint-stdin.py</a></h3>
<pre><code class="language-py">#!/usr/local/bin/python3
# print disjoint lines between stdin and input file 
# mchinnappan
#--------------------------------------------------
import sys
usage = &quot;&quot;&quot;
----------------------------------------------------------------
python3 disjoint-stdin.py   ref_file.txt
- Checks and prints any line  in the stdin  not in the ref_file
----------------------------------------------------------------
&quot;&quot;&quot;
if len(sys.argv) != 2  :
    print (f&quot;Usage: {usage}&quot;)
    exit(0)


file2 =  sys.argv[1]
file1_contents  = [line.strip() for line in sys.stdin.readlines()]
set1  = set(file1_contents)

with  open(file2, 'r') as f2:
    file2_contents = [line.strip() for line in f2.readlines()]
set2 = set (file2_contents)

for  item in set1:
    if item  not in set2:
        print(item.strip())


</code></pre>
<h3 id="script-to-find-out-the-users-not-in-the-approved-list"><a class="header" href="#script-to-find-out-the-users-not-in-the-approved-list">Script to find out the users not in the approved list</a></h3>
<pre><code class="language-bash">
export PROFILE=&quot;System Administrator&quot;;  
echo &quot;SELECT  Name FROM  User WHERE isActive = true AND Profile.Name = '$PROFILE'&quot; &gt; _check.soql
sfdx mohanc:data:query  -u ${{ secrets.SALESFORCE_DEVHUB_USERNAME }} -q _check.soql -f json | jq '.[].Name' | sort | sed 's/&quot;//g'| python3 py/disjoint-stdin.py data/approved-admins.txt 


</code></pre>
<ul>
<li>The output of this script will be :
<ul>
<li>list of users whose profile is <strong>system administrator</strong> but their names are <strong>not</strong> in the <code>approved.txt</code> file. </li>
</ul>
</li>
</ul>
<pre><code>mohan chinnappan
</code></pre>
<p><a name='opga'></a></p>
<h3 id="operationalize-audit-scripts-using-github-actions"><a class="header" href="#operationalize-audit-scripts-using-github-actions">Operationalize Audit Scripts using github-actions</a></h3>
<pre><code class="language-yaml"> name: Auditor
run-name: on-demand-auditor

on: [workflow_dispatch]
jobs:
  setup-dx-py-audit:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - run: npm install sfdx-cli -g      
      - run: echo &quot;${{ secrets.SALESFORCE_JWT_SECRET_KEY }}&quot; &gt; server.key
      - run: sfdx force:auth:jwt:grant --clientid=${{ secrets.SALESFORCE_CONSUMER_KEY }} --jwtkeyfile=server.key --username=${{ secrets.SALESFORCE_DEVHUB_USERNAME }} --setdefaultdevhubusername
      - name: Install mohanc sfdx plugin
        run: |
          echo 'y' | sfdx plugins:install sfdx-mohanc-plugins
          sfdx plugins

      - name: Source DeployCheck Deploy
        run: |
          cd mc2Project 
          sfdx force:source:deploy -u ${{ secrets.SALESFORCE_DEVHUB_USERNAME }} -p force-app -c --verbose 
          sfdx mohanc:tooling:query -q ../.soql/deploymentStatus.soql -u ${{ secrets.SALESFORCE_DEVHUB_USERNAME }} -f json &gt; ./deploymentStatus.json
          cat ./deploymentStatus.json
 

          
      - name: Setup Python
        uses: actions/setup-python@v3.1.3
        with:
          python-version: 3.10.10
          
          
          
      # List unapproved users with given profile in the org  - data/approved-admins.txt
      - name: run-sys-admin-check
        run : |
          export PROFILE=&quot;System Administrator&quot;;  
          echo &quot;SELECT  Name FROM  User WHERE isActive = true AND Profile.Name = '$PROFILE'&quot; &gt; _check.soql
          sfdx mohanc:data:query  -u ${{ secrets.SALESFORCE_DEVHUB_USERNAME }} -q _check.soql -f json | jq '.[].Name' | sort | sed 's/&quot;//g'| python3 py/disjoint-stdin.py data/approved-admins.txt 
     
     # List unapproved users having ModifyAllData - data/approved-admins.txt
      - name: run-ModifyAllData-check
        run : |
          export PERM=&quot;PermissionsModifyAllData&quot;;   
          echo &quot;SELECT AssigneeId FROM PermissionSetAssignment WHERE PermissionSet.$PERM=true&quot; &gt; _check2.soql          
          sfdx mohanc:data:query   -u ${{ secrets.SALESFORCE_DEVHUB_USERNAME }} -q _check2.soql -f json | jq '.[].AssigneeId' | sed 's/&quot;//g' |  python3 py/list2in.py |sed &quot;s/{/SELECT Name FROM USER WHERE isActive=true AND Id IN (/g&quot; | sed 's/}/)/g' &gt; _psa_.soql; 
          sfdx mohanc:data:query   -u ${{ secrets.SALESFORCE_DEVHUB_USERNAME }} -q _psa_.soql -f json | jq '.[].Name' | sed 's/&quot;//g' | python3 py/disjoint-stdin.py data/approved-admins.txt   

     # List unapproved users having ViewAllData - data/approved-admins.txt
      - name: run-ViewAllData-check
        run : |
          export PERM=&quot;PermissionsViewAllData&quot;;   
          echo &quot;SELECT AssigneeId FROM PermissionSetAssignment WHERE PermissionSet.$PERM=true&quot; &gt; _check2.soql          
          sfdx mohanc:data:query   -u ${{ secrets.SALESFORCE_DEVHUB_USERNAME }} -q _check2.soql -f json | jq '.[].AssigneeId' | sed 's/&quot;//g' |  python3 py/list2in.py |sed &quot;s/{/SELECT Name FROM USER WHERE isActive=true AND Id IN (/g&quot; | sed 's/}/)/g' &gt; _psa_.soql; 
          sfdx mohanc:data:query   -u ${{ secrets.SALESFORCE_DEVHUB_USERNAME }} -q _psa_.soql -f json | jq '.[].Name' | sed 's/&quot;//g' | python3 py/disjoint-stdin.py data/approved-admins.txt   


     # List Users with given Profile who have Role
      - name: run-users-with-role-check
        run : |
          export PROFILE=&quot;System Administrator&quot;;  
          echo &quot;SELECT  Name, UserRole.Name FROM  User WHERE isActive = true AND Profile.Name =  '$PROFILE' AND UserRole.Name != null&quot; &gt; _check3.soql          
          sfdx mohanc:data:query -u ${{ secrets.SALESFORCE_DEVHUB_USERNAME }} -q _check3.soql -f json | jq '.[].Name + &quot;|&quot; + .[].UserRole.Name' | sed 's/&quot;//g'

     # Check users with given PermissionSet - EinsteinAnalyticsPlusAdmin
      - name: check-user-with-given-ps
        run : |
          export PERMSET=&quot;EinsteinAnalyticsPlusAdmin&quot;; 
          echo &quot;SELECT Id, PermissionSetId, PermissionSet.Name, PermissionSet.ProfileId, PermissionSet.Profile.Name, AssigneeId, Assignee.Name FROM PermissionSetAssignment WHERE PermissionSet.Name LIKE '%$PERMSET%'&quot; &gt; _check4.soql
          sfdx mohanc:data:query -u   ${{ secrets.SALESFORCE_DEVHUB_USERNAME }} -q  _check4.soql -f json |jq '.[].Assignee.Name + &quot;|&quot; + .[].PermissionSet.Name'  | sed 's/&quot;//g' | sort -u

    

</code></pre>
<p><img src="tools/img/audit-github-actions-1.png" alt="audit - github-actions" /></p>
<ul>
<li>You can use this script for checking other profiles as well - say: <strong>Developer</strong> profile:</li>
</ul>
<pre><code class="language-bash">
export PROFILE=&quot;Developer&quot;;
echo &quot;SELECT  Name FROM  User WHERE isActive = true AND Profile.Name = '$PROFILE'&quot; &gt; _check.soql
sfdx mohanc:data:query -u mohan.chinnappan.n.sel@gmail.com -q _check.soql -f json | jq '.[].Name' | sort | sed 's/&quot;//g'| python3 disjoint-stdin.py approved_developers.txt 

</code></pre>
<p><a name="mad"></a></p>
<h2 id="list-unapproved-users-having-modifyalldata"><a class="header" href="#list-unapproved-users-having-modifyalldata">List unapproved users having ModifyAllData</a></h2>
<ul>
<li>psAssignment_id.soql </li>
</ul>
<pre><code class="language-sql">
  SELECT AssigneeId
    FROM PermissionSetAssignment 
    WHERE PermissionSet.$PERM=true

</code></pre>
<ul>
<li>list2in.py </li>
</ul>
<pre><code class="language-py">import sys
file1_contents  = [line.strip() for line in sys.stdin.readlines()]
print (set(file1_contents))

</code></pre>
<pre><code class="language-bash">
export PERM=&quot;PermissionsModifyAllData&quot;;  sed &quot;s/\$PERM/$PERM/&quot; psAssignment_id.soql &gt; _checkPS.soql;
sfdx mohanc:data:query -u   mohan.chinnappan.n.sel@gmail.com -q _checkPS.soql -f json | jq '.[].AssigneeId' | sed 's/&quot;//g' |  python3 list2in.py |sed &quot;s/{/SELECT Name FROM USER WHERE isActive=true AND Id IN (/g&quot; | sed 's/}/)/g' &gt; _psa_.soql; sfdx mohanc:data:query -u  mohan.chinnappan.n.sel@gmail.com  -q _psa_.soql -f json | jq '.[].Name' | sed 's/&quot;//g' | python3 disjoint-stdin.py approved_mad.txt    

</code></pre>
<p><img src="tools/img/audit-github-actions-2.png" alt="audit - github-actions" /></p>
<p><a name="vad"></a></p>
<h2 id="list-unapproved-users-having-viewalldata"><a class="header" href="#list-unapproved-users-having-viewalldata">List unapproved users having ViewAllData</a></h2>
<pre><code class="language-bash">
export PERM=&quot;PermissionsViewAllData&quot;;  sed &quot;s/\$PERM/$PERM/&quot; psAssignment_id.soql &gt; _checkPS.soql;
sfdx mohanc:data:query -u   mohan.chinnappan.n.sel@gmail.com -q _checkPS.soql -f json | jq '.[].AssigneeId' | sed 's/&quot;//g' |  python3 list2in.py |sed &quot;s/{/SELECT Name FROM USER WHERE isActive=true AND Id IN (/g&quot; | sed 's/}/)/g' &gt; _psa_.soql; sfdx mohanc:data:query -u  mohan.chinnappan.n.sel@gmail.com  -q _psa_.soql -f json | jq '.[].Name' | sed 's/&quot;//g' | python3 disjoint-stdin.py approved_vad.txt      

</code></pre>
<p><a name='withrole'></a></p>
<h2 id="list-users-with-given-profile-who-have-role"><a class="header" href="#list-users-with-given-profile-who-have-role">List Users with given Profile who have Role</a></h2>
<pre><code>cat usersWithRole.soql
</code></pre>
<pre><code class="language-sql">SELECT  Name, UserRole.Name FROM  User
WHERE isActive = true AND Profile.Name =  '$PROFILE' AND UserRole.Name != null
</code></pre>
<pre><code class="language-bash">
export PROFILE=&quot;System Administrator&quot;;  sed &quot;s/\$PROFILE/$PROFILE/&quot; usersWithRole.soql &gt; _check.soql; \
sfdx mohanc:data:query -u mohan.chinnappan.n.sel@gmail.com -q _check.soql -f json | jq '.[].Name + &quot;|&quot; + .[].UserRole.Name' | sed 's/&quot;//g'


</code></pre>
<ul>
<li>Sample output - pipe separated  - Name|Role</li>
</ul>
<pre><code>Joe Carpenter|ROLE1
John Smith|ROLE2
</code></pre>
<p><img src="tools/img/audit-github-actions-3.png" alt="audit - github-actions" /></p>
<p><a name ='checkpermset'></a></p>
<h2 id="check-users-with-given-permissionset"><a class="header" href="#check-users-with-given-permissionset">Check users with given PermissionSet</a></h2>
<pre><code>cat PermsetUsers.soql
</code></pre>
<pre><code class="language-sql">SELECT Id, PermissionSetId, PermissionSet.Name, 
PermissionSet.ProfileId, PermissionSet.Profile.Name, 
AssigneeId, Assignee.Name 
FROM PermissionSetAssignment 
WHERE PermissionSet.Name LIKE '%$PERMSET%'

</code></pre>
<pre><code class="language-bash">

export PERMSET=&quot;EinsteinAnalyticsPlusAdmin&quot;;  sed &quot;s/\$PERMSET/$PERMSET/&quot; PermsetUsers.soql &gt; _psUsers.soql; sfdx mohanc:data:query -u    mohan.chinnappan.n_ea2@gmail.com  -q  _psUsers.soql -f json |jq '.[].Assignee.Name + &quot;|&quot; + .[].PermissionSet.Name'  | sed 's/&quot;//g' | sort -u


</code></pre>
<h3 id="output-of-this-command"><a class="header" href="#output-of-this-command">output of this command</a></h3>
<pre><code>Mohan Chinnappan|EinsteinAnalyticsPlusAdmin

</code></pre>
<p><img src="tools/img/audit-github-actions-4.png" alt="audit - github-actions" /></p>
<h3 id="if-you-like-to-checked-against-an-approved-list"><a class="header" href="#if-you-like-to-checked-against-an-approved-list">if you like to checked against an approved list</a></h3>
<pre><code>cat approved_crmaadmin.txt 
</code></pre>
<pre><code>John Smith
</code></pre>
<pre><code class="language-bash">export PERMSET=&quot;EinsteinAnalyticsPlusAdmin&quot;;  sed &quot;s/\$PERMSET/$PERMSET/&quot; PermsetUsers.soql &gt; _psUsers.soql; sfdx mohanc:data:query -u    mohan.chinnappan.n_ea2@gmail.com  -q  _psUsers.soql -f json |jq '.[].Assignee.Name + &quot;|&quot; + .[].PermissionSet.Name'  | sed 's/&quot;//g' | sort -u | python3 disjoint-stdin.py approved_crmaadmin.txt      

</code></pre>
<h3 id="output-of-this-command-1"><a class="header" href="#output-of-this-command-1">output of this command</a></h3>
<pre><code>Mohan Chinnappan
</code></pre>
<p><a name='sat'></a></p>
<h2 id="check-setupaudittrail"><a class="header" href="#check-setupaudittrail">Check SetupAuditTrail</a></h2>
<h3 id="using-datatable-view"><a class="header" href="#using-datatable-view">Using Datatable view</a></h3>
<pre><code>
sfdx mohanc:data:bulkapi:query  -u  mohan.chinnappan.n.sel2@gmail.com -q setupAduit.soql; sed 's/CreatedBy.Name/CreatedByName/g' setupAduit.soql.csv  | pbcopy; open &quot;https://mohan-chinnappan-n5.github.io/viz/datatable/dt.html?c=csv&quot;


</code></pre>
<h2 id="-1"><a class="header" href="#-1"><img src="tools/img/setupAuditTrail-1.png" alt="Demo SAT-datatable" /></a></h2>
<h3 id="using-sqlite3"><a class="header" href="#using-sqlite3">Using sqlite3</a></h3>
<pre><code class="language-py">#!/usr/local/bin/python3
# SQL Query for CSV using pandas and sqlite 
# mchinnappan
#--------------------------------------------------
import sys
import time
usage = &quot;&quot;&quot;
----------------------------------------------------------------
python3 csvQuery    input_file   query
# SQL Query for CSV using pandas and sqllite   on SetupAduit
----------------------------------------------------------------
&quot;&quot;&quot;
if len(sys.argv) != 3  :
    print (f&quot;Usage: {usage}&quot;)
    exit(0)


import pandas as pd
import sys
import sqlite3

input_file =  sys.argv[1]
table_name = 't' + str(round(time.time()*1000) )
sql_string_in  = sys.argv[2] # Example for SetupAuditTrail: SELECT CreatedDate, &quot;CreatedBy.Name&quot; AS name, Display FROM sat WHERE Section =&quot;Manage Users&quot;
sql_string = sql_string_in.replace('$TBL', table_name)
# read CSV file into a DataFrame
df = pd.read_csv(input_file)

conn = sqlite3.connect(&quot;_temp.db&quot;) #if the db does not exist, it will be created 
#store your table in the database:
df.to_sql(table_name, conn)
#read a SQL Query out of your database and into a pandas dataframe
df = pd.read_sql(sql_string, conn)
print(df.to_csv(sys.stdout))


</code></pre>
<pre><code>cat setupAduit.soql 

</code></pre>
<pre><code class="language-sql">SELECT CreatedDate,
          CreatedBy.Name, 
          CreatedByContext,
          CreatedByIssuer,
          Display,
          Section,
          DelegateUser
          FROM SetupAuditTrail



</code></pre>
<pre><code class="language-bash">
sfdx mohanc:data:bulkapi:query  -u  mohan.chinnappan.n.sel@gmail.com -q setupAduit.soql ; python3 querycsv.py setupAduit.soql.csv  ' SELECT CreatedDate, &quot;CreatedBy.Name&quot; AS name, Display FROM $TBL  WHERE Section =&quot;Manage Users&quot;'

</code></pre>
<h3 id="output-of-the-this"><a class="header" href="#output-of-the-this">Output of the this</a></h3>
<pre><code class="language-csv">,CreatedDate,name,Display
0,2022-10-25T20:36:52.000Z,mohan chinnappan,Created permission set DevOps Center: with no license
1,2022-10-25T20:36:53.000Z,mohan chinnappan,Created permission set DevOps Center Manager: with no license
2,2022-10-25T20:36:53.000Z,mohan chinnappan,Created permission set DevOps Center Release Manager: with no license
3,2022-10-25T20:39:25.000Z,,Created permission set sf_devops_NamedCredentials: with no license
4,2022-10-25T20:39:26.000Z,,Created permission set sf_devops_InitializeEnvironments: with no license
5,2022-11-10T09:30:51.000Z,mohan chinnappan,Set new password for user null

</code></pre>
<ul>
<li>You can change the sql used by using different sections (for e.g Apex Class, Company Profile...)</li>
</ul>
<pre><code class="language-sql">SELECT CreatedDate, &quot;CreatedBy.Name&quot; AS name, Display FROM $TBL  WHERE Section =&quot;Apex Class&quot;

</code></pre>
<h3 id="references-7"><a class="header" href="#references-7">References</a></h3>
<ul>
<li><a href="https://developer.salesforce.com/docs/atlas.en-us.object_reference.meta/object_reference/sforce_api_objects_setupaudittrail.htm">SetupAuditTrail</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="comparing-proactive-monitoring-real-time-event-monitoring-and-auditing-scripts"><a class="header" href="#comparing-proactive-monitoring-real-time-event-monitoring-and-auditing-scripts">Comparing Proactive Monitoring, Real-Time-Event Monitoring and Auditing Scripts</a></h2>
<table><thead><tr><th>Monitoring type</th><th>Description</th><th>Refer for Details</th></tr></thead><tbody>
<tr><td>Proactive Monitoring</td><td>Part of Signature Success Plan. <strong>Assigns Designated Technical Account Manager (TAM).</strong> Provides Personalized Trends and Insights. Supports Key Event Management. <strong>24/7 Proactive Monitoring to Predict and prevent disruptions before they occur</strong>. Includes customized monitoring plan including Smart Alerts to detect potential risks and root causes</td><td><a href="https://mohan-chinnappan-n5.github.io/sfbooks/sfdevnotes/monitoring/proactive-monitoring.html">Proactive Monitoring</a></td></tr>
<tr><td>Real-Time-Event Monitoring</td><td>Helps the customer to <strong>monitor and detect standard events in Salesforce in near real-time</strong>.The customer <strong>can store the event data for auditing or reporting purposes</strong>. The customer can create transaction security policies using Condition Builder.</td><td><a href="https://mohan-chinnappan-n5.github.io/sfbooks/sfdevnotes/monitoring/realtime-event-monitoring.html">Real-time-event monitoring</a></td></tr>
<tr><td>Auditing Scripts</td><td>Provides scripts for List <strong>unapproved users with given profile</strong> in the org. List <strong>unapproved users having ModifyAllData</strong>. List <strong>unapproved users having ViewAllData</strong>. List <strong>Users with given Profile who have Role</strong>. Check <strong>users with given PermissionSet</strong>. Check SetupAuditTrail Operationalize Audit Scripts using github-actions</td><td><a href="https://mohan-chinnappan-n5.github.io/sfbooks/sfdevnotes/tools/scripts.html">Auditing script</a></td></tr>
</tbody></table>
<div style="break-before: page; page-break-before: always;"></div><h1 id="instance-related"><a class="header" href="#instance-related">Instance Related</a></h1>
<h2 id="topics-8"><a class="header" href="#topics-8">Topics</a></h2>
<ul>
<li><a href="tools/instance.html#dcloc"> Instance data center location for a given list of  instances</a>
<ul>
<li><a href="https://mohan-chinnappan-n5.github.io/utils/utils.html?instance=CS191,CS215,CS125">Via Web App</a>
<ul>
<li><img src="tools/img/instance-lookup.png" alt="Instance lookup" /></li>
</ul>
</li>
</ul>
</li>
</ul>
<p><a name='dcloc'></a></p>
<h2 id="instance-data-center-location-for-a-given-list-of--instances"><a class="header" href="#instance-data-center-location-for-a-given-list-of--instances">Instance data center location for a given list of  instances</a></h2>
<pre><code>cat instance-loc.py
</code></pre>
<pre><code class="language-py">#!/usr/local/bin/python3
# Prints the data center location for list of Salesforce Instances given in the input file 
# mchinnappan
#--------------------------------------------------
import sys
usage = &quot;&quot;&quot;
----------------------------------------------------------------
python3 instance-loc-.py   file1 
# Prints the data center location for list of Salesforce Instances given as input 
----------------------------------------------------------------
&quot;&quot;&quot;
if len(sys.argv) != 2:
    print (f&quot;Usage: {usage}&quot;)
    exit(0)


import sys
import pandas as pd

df = pd.read_csv('https://raw.githubusercontent.com/mohan-chinnappan-n/cli-dx/master/instances/sf-managed.csv')

file1 =  sys.argv[1]

with  open(file1, 'r') as f1:
    file1_contents = [line.strip() for line in f1.readlines()]
set1 = set (file1_contents)

for  item in set1:
    print(df.query(f'SFManagedInstance == &quot;{item}&quot;'))



</code></pre>
<h3 id="run"><a class="header" href="#run">Run</a></h3>
<pre><code class="language-bash">
python3 instance-loc.py instances.txt  | sed 's/SFManagedInstance//g' | sed 's/DataCenters//g' | sed '/^[[:space:]]*$/d'


</code></pre>
<h3 id="input"><a class="header" href="#input">Input</a></h3>
<pre><code>cat instances.txt
</code></pre>
<pre><code>CS1
CS123
CS125
CS166
CS167
CS170
CS171
CS172
CS190
CS191

</code></pre>
<h3 id="output-1"><a class="header" href="#output-1">Output</a></h3>
<pre><code>241             CS166  Washington DC, USA (North) / Washington DC, US...
157               CS1  Phoenix, USA / Washington DC, USA
232             CS125  Washington DC, USA (North) / Washington DC, US...
230             CS123  Washington DC, USA (North) / Washington DC, US...
245             CS171  Washington DC, USA (North) / Washington DC, US...
246             CS172  Washington DC, USA (North) / Washington DC, US...
250             CS190  Washington DC, USA (North) / Washington DC, US...
242             CS167  Washington DC, USA (North) / Washington DC, US...
251             CS191  Washington DC, USA (North) / Washington DC, US...
244             CS170  Washington DC, USA (North) / Washington DC, US...
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="org-metadata-snapshot"><a class="header" href="#org-metadata-snapshot">Org Metadata Snapshot</a></h1>
<h2 id="here-is-a-simple-way-to-create-a-orgs-metadata-snapshot"><a class="header" href="#here-is-a-simple-way-to-create-a-orgs-metadata-snapshot">Here is a simple way to create a Org's metadata Snapshot</a></h2>
<ul>
<li>Build the package.xml using <a href="tools/../chromeext/onnu.html">ONNU</a>
<img src="tools/img/onnu-soap-2.png" alt="ONNU" /></li>
</ul>
<pre><code>cat ~/.pkg/package.xml
</code></pre>
<pre><code class="language-xml">

&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;Package xmlns=&quot;http://soap.sforce.com/2006/04/metadata&quot;&gt;
  &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;LeadConvertSettings&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;ApprovalProcess&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;Audience&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;AuraDefinitionBundle&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;BrandingSet&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;ApexClass&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;Contentasset&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;CustomMetadata&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;CustomPermission&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;Dashboard&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;DelegateGroup&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;DuplicateRule&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;ExperienceBundle&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;Flexipage&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;FlowDefinition&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;Flow&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;GlobalValueSet&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;Group&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;CustomLabel&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;Layout&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;Letterhead&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;LightningExperienceTheme&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;LightningComponentBundle&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;MatchingRule&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;LightningMessageChannel&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;NavigationMenu&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;Network&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;NotificationTypeConfig&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;Translations&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;CustomObject&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;ApexPage&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;PathAssistant&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;PermissionSetGroup&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;PermissionSet&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;PlatformEventChannelMember&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;ProfilePasswordPolicy&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;ProfileSessionSetting&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;Profile&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;Queue&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;QuickAction&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;RecommendationStrategy&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;ReportType&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;Report&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;RestrictionRule&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;Role&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;Settings&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;SharingRules&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;SharingSet&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;StandardValueSet&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;StaticResource&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;CustomTab&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;Territory2Model&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;Territory2Type&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;ApexTrigger&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;WaveApplication&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;WaveComponent&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;WaveDashboard&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;WaveDataflow&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;WaveDataset&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;WaveLens&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;WaveRecipe&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;WaveTemplateBundle&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;WaveXmd&lt;/name&gt;
          &lt;/types&gt;
          &lt;types&gt;
            &lt;members&gt;*&lt;/members&gt;
            &lt;name&gt;Workflow&lt;/name&gt;
          &lt;/types&gt;
&lt;/Package&gt;

</code></pre>
<h3 id="option---1-extract-using-onnu"><a class="header" href="#option---1-extract-using-onnu">Option - 1 Extract using <a href="tools/../chromeext/onnu.html">ONNU</a></a></h3>
<p><img src="tools/img/onnu-soap-3.png" alt="ONNU Extract" /></p>
<hr />
<h3 id="option--2-using-cli"><a class="header" href="#option--2-using-cli">Option -2 Using CLI</a></h3>
<pre><code>sfdx force:mdapi:retrieve -k ~/.pkg/package.xml -u mohan.chinnappan.n.sel@gmail.com -r .
</code></pre>
<pre><code>Retrieving v57.0 metadata from mohan.chinnappan.n.sel@gmail.com using the v57.0 SOAP API
Retrieve ID: 09S4x00000EyfKDEAZ
Retrieving metadata from mohan.chinnappan.n.sel@gmail.com... done
Wrote retrieve zip to /private/tmp/snapshot/unpackaged.zip
=== Retrieved Source Warnings

 FILE NAME              PROBLEM                                                                
 ────────────────────── ────────────────────────────────────────────────────────────────────── 
 unpackaged/package.xml Entity type 'Territory2Model' is not available in this organization    
 unpackaged/package.xml Entity type 'Territory2Type' is not available in this organization     
 unpackaged/package.xml Entity type 'WaveApplication' is not available in this organization    
 unpackaged/package.xml Entity type 'WaveComponent' is not available in this organization      
 unpackaged/package.xml Entity type 'WaveDashboard' is not available in this organization      
 unpackaged/package.xml Entity type 'WaveDataflow' is not available in this organization       
 unpackaged/package.xml Entity type 'WaveDataset' is not available in this organization        
 unpackaged/package.xml Entity type 'WaveLens' is not available in this organization           
 unpackaged/package.xml Entity type 'WaveRecipe' is not available in this organization         
 unpackaged/package.xml Entity type 'WaveTemplateBundle' is not available in this organization 
 unpackaged/package.xml Entity type 'WaveXmd' is not available in this organization   
</code></pre>
<h3 id="extract-the-zip-file"><a class="header" href="#extract-the-zip-file">Extract the zip file</a></h3>
<pre><code>jar xvf unpackaged.zip

</code></pre>
<h3 id="view-the-zip-contents"><a class="header" href="#view-the-zip-contents">View the zip Contents</a></h3>
<pre><code>tree
</code></pre>
<pre><code>.
├── unpackaged
│   ├── audience
│   │   └── Default_mohanc.audience
│   ├── aura
│   │   ├── forgotPassword
│   │   │   ├── forgotPassword.cmp
│   │   │   ├── forgotPassword.cmp-meta.xml
│   │   │   ├── forgotPassword.css
│   │   │   ├── forgotPassword.design
│   │   │   ├── forgotPasswordController.js
│   │   │   └── forgotPasswordHelper.js
│   │   ├── loginForm
│   │   │   ├── loginForm.cmp
│   │   │   ├── loginForm.cmp-meta.xml
│   │   │   ├── loginForm.css
│   │   │   ├── loginForm.design
│   │   │   ├── loginFormController.js
│   │   │   └── loginFormHelper.js
│   │   ├── selfRegister
│   │   │   ├── selfRegister.cmp
│   │   │   ├── selfRegister.cmp-meta.xml
│   │   │   ├── selfRegister.css
│   │   │   ├── selfRegister.design
│   │   │   ├── selfRegisterController.js
│   │   │   └── selfRegisterHelper.js
│   │   ├── setExpId
│   │   │   ├── setExpId.evt
│   │   │   └── setExpId.evt-meta.xml
│   │   └── setStartUrl
│   │       ├── setStartUrl.evt
│   │       └── setStartUrl.evt-meta.xml
│   ├── classes
│   │   ├── ChangePasswordController.cls
│   │   ├── ChangePasswordController.cls-meta.xml
│   │   ├── ChangePasswordControllerTest.cls
│   │   ├── ChangePasswordControllerTest.cls-meta.xml
│   │   ├── CommunitiesLandingController.cls
│   │   ├── CommunitiesLandingController.cls-meta.xml
│   │   ├── CommunitiesLandingControllerTest.cls
│   │   ├── CommunitiesLandingControllerTest.cls-meta.xml
│   │   ├── CommunitiesLoginController.cls
│   │   ├── CommunitiesLoginController.cls-meta.xml
│   │   ├── CommunitiesLoginControllerTest.cls
│   │   ├── CommunitiesLoginControllerTest.cls-meta.xml
│   │   ├── CommunitiesSelfRegConfirmController.cls
│   │   ├── CommunitiesSelfRegConfirmController.cls-meta.xml
│   │   ├── CommunitiesSelfRegConfirmControllerTest.cls
│   │   ├── CommunitiesSelfRegConfirmControllerTest.cls-meta.xml
│   │   ├── CommunitiesSelfRegController.cls
│   │   ├── CommunitiesSelfRegController.cls-meta.xml
│   │   ├── CommunitiesSelfRegControllerTest.cls
│   │   ├── CommunitiesSelfRegControllerTest.cls-meta.xml
│   │   ├── FieldAuditor.cls
│   │   ├── FieldAuditor.cls-meta.xml
│   │   ├── ForgotPasswordController.cls
│   │   ├── ForgotPasswordController.cls-meta.xml
│   │   ├── ForgotPasswordControllerTest.cls
│   │   ├── ForgotPasswordControllerTest.cls-meta.xml
│   │   ├── HelloPeach.cls
│   │   ├── HelloPeach.cls-meta.xml
│   │   ├── HelloWorld.cls
│   │   ├── HelloWorld.cls-meta.xml
│   │   ├── HelloWorld2.cls
│   │   ├── HelloWorld2.cls-meta.xml
│   │   ├── LightningForgotPasswordController.cls
│   │   ├── LightningForgotPasswordController.cls-meta.xml
│   │   ├── LightningForgotPasswordControllerTest.cls
│   │   ├── LightningForgotPasswordControllerTest.cls-meta.xml
│   │   ├── LightningLoginFormController.cls
│   │   ├── LightningLoginFormController.cls-meta.xml
│   │   ├── LightningLoginFormControllerTest.cls
│   │   ├── LightningLoginFormControllerTest.cls-meta.xml
│   │   ├── LightningSelfRegisterController.cls
│   │   ├── LightningSelfRegisterController.cls-meta.xml
│   │   ├── LightningSelfRegisterControllerTest.cls
│   │   ├── LightningSelfRegisterControllerTest.cls-meta.xml
│   │   ├── MicrobatchSelfRegController.cls
│   │   ├── MicrobatchSelfRegController.cls-meta.xml
│   │   ├── MicrobatchSelfRegControllerTest.cls
│   │   ├── MicrobatchSelfRegControllerTest.cls-meta.xml
│   │   ├── MyHelloWorld.cls
│   │   ├── MyHelloWorld.cls-meta.xml
│   │   ├── MyProfilePageController.cls
│   │   ├── MyProfilePageController.cls-meta.xml
│   │   ├── MyProfilePageControllerTest.cls
│   │   ├── MyProfilePageControllerTest.cls-meta.xml
│   │   ├── ObjectAuditor.cls
│   │   ├── ObjectAuditor.cls-meta.xml
│   │   ├── RecordTypeAuditor.cls
│   │   ├── RecordTypeAuditor.cls-meta.xml
│   │   ├── SiteLoginController.cls
│   │   ├── SiteLoginController.cls-meta.xml
│   │   ├── SiteLoginControllerTest.cls
│   │   ├── SiteLoginControllerTest.cls-meta.xml
│   │   ├── SiteRegisterController.cls
│   │   ├── SiteRegisterController.cls-meta.xml
│   │   ├── SiteRegisterControllerTest.cls
│   │   └── SiteRegisterControllerTest.cls-meta.xml
│   ├── duplicateRules
│   │   ├── Account.Standard_Account_Duplicate_Rule.duplicateRule
│   │   ├── Contact.Standard_Contact_Duplicate_Rule.duplicateRule
│   │   └── Lead.Standard_Lead_Duplicate_Rule.duplicateRule
│   ├── experiences
│   │   ├── mohanc1
│   │   │   ├── brandingSets
│   │   │   │   └── buildYourOwnLWR.json
│   │   │   ├── config
│   │   │   │   ├── languages.json
│   │   │   │   ├── mainAppPage.json
│   │   │   │   └── mohanc.json
│   │   │   ├── routes
│   │   │   │   ├── error.json
│   │   │   │   ├── home.json
│   │   │   │   ├── serviceNotAvailable.json
│   │   │   │   └── tooManyRequests.json
│   │   │   ├── themes
│   │   │   │   └── buildYourOwnLWR.json
│   │   │   └── views
│   │   │       ├── error.json
│   │   │       ├── home.json
│   │   │       ├── serviceNotAvailable.json
│   │   │       └── tooManyRequests.json
│   │   └── mohanc1.site-meta.xml
│   ├── flexipages
│   │   ├── Account_Record_Page.flexipage
│   │   ├── ContactCenter_UtilityBar.flexipage
│   │   ├── CrisisCenter_UtilityBar.flexipage
│   │   ├── LightningSalesConsole_UtilityBar.flexipage
│   │   ├── LightningSales_UtilityBar.flexipage
│   │   └── LightningService_UtilityBar.flexipage
│   ├── flowDefinitions
│   │   ├── OpptyAmountChange.flowDefinition
│   │   └── sample1.flowDefinition
│   ├── flows
│   │   ├── OpptyAmountChange.flow
│   │   └── sample1.flow
│   ├── globalValueSets
│   │   ├── Test.globalValueSet
│   │   └── plants.globalValueSet
│   ├── labels
│   │   └── CustomLabels.labels
│   ├── layouts
│   │   ├── Account-Account\ %28Marketing%29\ Layout.layout
│   │   ├── Account-Account\ %28Sales%29\ Layout.layout
│   │   ├── Account-Account\ %28Support%29\ Layout.layout
│   │   ├── Account-Account\ Layout.layout
│   │   ├── Account-Simple.layout
│   │   ├── AccountBrand-Account\ Brand\ Layout.layout
│   │   ├── AlternativePaymentMethod-Alternative\ Payment\ Method\ Layout.layout
│   │   ├── ApiAnomalyEventStore-API\ Anomaly\ Event\ Store\ Layout.layout
│   │   ├── AppointmentInvitation-Appointment\ Invitation\ Layout.layout
│   │   ├── Asset-Asset\ Layout.layout
│   │   ├── AssetAction-Asset\ Action\ Layout.layout
│   │   ├── AssetActionSource-Asset\ Action\ Source\ Layout.layout
│   │   ├── AssetRelationship-Asset\ Relationship\ Layout.layout
│   │   ├── AssetStatePeriod-Asset\ State\ Period\ Layout.layout
│   │   ├── AssignedResource-Assigned\ Resource\ Layout.layout
│   │   ├── AuthorizationForm-Authorization\ Form\ Layout.layout
│   │   ├── AuthorizationFormConsent-Authorization\ Form\ Consent\ Layout.layout
│   │   ├── AuthorizationFormDataUse-Authorization\ Form\ Data\ Use\ Layout.layout
│   │   ├── AuthorizationFormText-Authorization\ Form\ Text\ Layout.layout
│   │   ├── BusinessBrand-Business\ Brand\ Layout.layout
│   │   ├── Campaign-Campaign\ Layout.layout
│   │   ├── CampaignMember-Campaign\ Member\ Page\ Layout.layout
│   │   ├── CardPaymentMethod-Card\ Payment\ Method\ Layout.layout
│   │   ├── CartCheckoutSession-Cart\ Checkout\ Session\ Layout.layout
│   │   ├── CartDeliveryGroup-Cart\ Delivery\ Group\ Layout.layout
│   │   ├── CartItem-Cart\ Item\ Layout.layout
│   │   ├── CartTax-Cart\ Tax\ Layout.layout
│   │   ├── CartValidationOutput-Cart\ Validation\ Output\ Layout.layout
│   │   ├── Case-Case\ %28Marketing%29\ Layout.layout
│   │   ├── Case-Case\ %28Sales%29\ Layout.layout
│   │   ├── Case-Case\ %28Support%29\ Layout.layout
│   │   ├── Case-Case\ Layout.layout
│   │   ├── CaseClose-Close\ Case\ Layout.layout
│   │   ├── CaseMilestone-Case\ Milestone\ Layout.layout
│   │   ├── CodeBuilder__CodeBuilderSetting__mdt-CodeBuilder__CodeBuilderSetting\ Layout.layout
│   │   ├── CommunityMemberLayout-Community\ Member\ Layout.layout
│   │   ├── ConsumptionRate-Consumption\ Rate\ Layout.layout
│   │   ├── ConsumptionSchedule-Consumption\ Schedule\ Layout.layout
│   │   ├── Contact-Contact\ %28Marketing%29\ Layout.layout
│   │   ├── Contact-Contact\ %28Sales%29\ Layout.layout
│   │   ├── Contact-Contact\ %28Support%29\ Layout.layout
│   │   ├── Contact-Contact\ Layout.layout
│   │   ├── ContactPointAddress-Contact\ Point\ Address\ Layout.layout
│   │   ├── ContactPointEmail-Contact\ Point\ Email\ Layout.layout
│   │   ├── ContactPointPhone-Contact\ Point\ Phone\ Layout.layout
│   │   ├── ContactPointTypeConsent-Contact\ Point\ Type\ Consent\ Layout.layout
│   │   ├── ContentVersion-Content\ Version\ Layout.layout
│   │   ├── Contract-Contract\ Layout.layout
│   │   ├── ContractLineItem-Contract\ Line\ Item\ Layout.layout
│   │   ├── CredentialStuffingEventStore-Credential\ Stuffing\ Event\ Store\ Layout.layout
│   │   ├── CreditMemo-Credit\ Memo\ Layout.layout
│   │   ├── CreditMemoLine-Credit\ Memo\ Line\ Layout.layout
│   │   ├── Customer-Customer\ Layout.layout
│   │   ├── DandBCompany-D%26B\ Company\ Layout.layout
│   │   ├── DataUseLegalBasis-Data\ Use\ Legal\ Basis\ Layout.layout
│   │   ├── DataUsePurpose-Data\ Use\ Purpose\ Layout.layout
│   │   ├── DelegatedAccount-External\ Managed\ Account\ Layout.layout
│   │   ├── DigitalWallet-Digital\ Wallet\ Layout.layout
│   │   ├── DuplicateRecordSet-Duplicate\ Record\ Set\ Layout.layout
│   │   ├── EmailMessage-Email\ Message\ Layout.layout
│   │   ├── EngagementChannelType-Engagement\ Channel\ Type\ Layout.layout
│   │   ├── Entitlement-Entitlement\ Layout.layout
│   │   ├── EntityMilestone-Object\ Milestone\ Layout.layout
│   │   ├── Event-Event\ Layout.layout
│   │   ├── FeedItem-Feed\ Item\ Layout.layout
│   │   ├── FinanceBalanceSnapshot-Finance\ Balance\ Snapshot\ Layout.layout
│   │   ├── FinanceTransaction-Finance\ Transaction\ Layout.layout
│   │   ├── FruitTree__c-FruitTree\ Layout.layout
│   │   ├── Global-Global\ Layout.layout
│   │   ├── Idea-Idea\ Layout.layout
│   │   ├── Individual-Individual\ Layout.layout
│   │   ├── Invoice-Invoice\ Layout.layout
│   │   ├── InvoiceLine-Invoice\ Line\ Layout.layout
│   │   ├── Lead-Lead\ %28Marketing%29\ Layout.layout
│   │   ├── Lead-Lead\ %28Sales%29\ Layout.layout
│   │   ├── Lead-Lead\ %28Support%29\ Layout.layout
│   │   ├── Lead-Lead\ Layout.layout
│   │   ├── LegalEntity-Legal\ Entity\ Layout.layout
│   │   ├── Macro-Macro\ Layout.layout
│   │   ├── OperatingHours-Operating\ Hours\ Layout.layout
│   │   ├── Opportunity-Opportunity\ %28Marketing%29\ Layout.layout
│   │   ├── Opportunity-Opportunity\ %28Sales%29\ Layout.layout
│   │   ├── Opportunity-Opportunity\ %28Support%29\ Layout.layout
│   │   ├── Opportunity-Opportunity\ Layout.layout
│   │   ├── OpportunityLineItem-Opportunity\ Product\ Layout.layout
│   │   ├── OpportunityTeamMember-Opportunity\ Team\ Member\ Layout.layout
│   │   ├── Order-Order\ Layout.layout
│   │   ├── OrderItem-Order\ Product\ Layout.layout
│   │   ├── Payment-Payment\ Layout.layout
│   │   ├── PaymentAuthAdjustment-Payment\ Authorization\ Adjustment\ Layout.layout
│   │   ├── PaymentAuthorization-Payment\ Authorization\ Layout.layout
│   │   ├── PaymentGateway-Payment\ Gateway\ Layout.layout
│   │   ├── PaymentGatewayLog-Payment\ Gateway\ Log\ Layout.layout
│   │   ├── PaymentGroup-Payment\ Group\ Layout.layout
│   │   ├── PaymentLineInvoice-Payment\ Line\ Invoice\ Layout.layout
│   │   ├── Pricebook2-Price\ Book\ Layout.layout
│   │   ├── PricebookEntry-Price\ Book\ Entry\ Layout.layout
│   │   ├── ProcessException-Process\ Exception\ Layout.layout
│   │   ├── Product2-Product\ Layout.layout
│   │   ├── ProductConsumptionSchedule-Product\ Consumption\ Schedule\ Layout.layout
│   │   ├── QuickText-Quick\ Text\ Layout.layout
│   │   ├── Refund-Refund\ Layout.layout
│   │   ├── RefundLinePayment-Refund\ Line\ Payment\ Layout.layout
│   │   ├── ReportAnomalyEventStore-Report\ Anomaly\ Event\ Store\ Layout.layout
│   │   ├── ResourceAbsence-Resource\ Absence\ Layout.layout
│   │   ├── ResourcePreference-Resource\ Preference\ Layout.layout
│   │   ├── ReturnOrder-Return\ Order\ Layout.layout
│   │   ├── ReturnOrderItemAdjustment-Return\ Order\ Item\ Adjustment\ Layout.layout
│   │   ├── ReturnOrderItemTax-Return\ Order\ Item\ Tax\ Layout.layout
│   │   ├── ReturnOrderLineItem-Return\ Order\ Line\ Item\ Layout.layout
│   │   ├── Sales_Play__c-Sales\ Play\ Layout.layout
│   │   ├── Scorecard-Scorecard\ Layout.layout
│   │   ├── ScorecardAssociation-Scorecard\ Association\ Layout.layout
│   │   ├── ScorecardMetric-Scorecard\ Metric\ Layout.layout
│   │   ├── Seller-Seller\ Layout.layout
│   │   ├── ServiceAppointment-Service\ Appointment\ Layout.layout
│   │   ├── ServiceContract-Service\ Contract\ Layout.layout
│   │   ├── ServiceResource-Service\ Resource\ Layout.layout
│   │   ├── ServiceResourceSkill-Service\ Resource\ Skill\ Layout.layout
│   │   ├── ServiceTerritory-Service\ Territory\ Layout.layout
│   │   ├── ServiceTerritoryMember-Service\ Territory\ Member\ Layout.layout
│   │   ├── SessionHijackingEventStore-Session\ Hijacking\ Event\ Store\ Layout.layout
│   │   ├── Shift-Shift\ Layout.layout
│   │   ├── SkillRequirement-Skill\ Requirement\ Layout.layout
│   │   ├── SocialPersona-Social\ Persona\ Layout.layout
│   │   ├── Solution-Solution\ Layout.layout
│   │   ├── Task-Task\ Layout.layout
│   │   ├── ThreatDetectionFeedback-Threat\ Detection\ Feedback\ Layout.layout
│   │   ├── TimeSlot-Time\ Slot\ Layout.layout
│   │   ├── Tree__c-Tree\ Layout.layout
│   │   ├── User-User\ Layout.layout
│   │   ├── UserProvAccount-User\ Provisioning\ Account\ Layout.layout
│   │   ├── UserProvisioningLog-User\ Provisioning\ Log\ Layout.layout
│   │   ├── UserProvisioningRequest-User\ Provisioning\ Request\ Layout.layout
│   │   ├── WebCart-Cart\ Layout.layout
│   │   ├── WebCartAdjustmentBasis-Cart\ Adjustment\ Basis\ Layout.layout
│   │   ├── WebCartAdjustmentGroup-Cart\ Adjustment\ Group\ Layout.layout
│   │   ├── WebStore-Store\ Layout.layout
│   │   ├── WebStoreConfig-Web\ Store\ Configuration\ Layout.layout
│   │   ├── WorkOrder-Work\ Order\ Layout.layout
│   │   ├── WorkOrderLineItem-Work\ Order\ Line\ Item\ Layout.layout
│   │   ├── WorkPlan-Work\ Plan\ Layout.layout
│   │   ├── WorkPlanTemplate-Work\ Plan\ Template\ Layout.layout
│   │   ├── WorkPlanTemplateEntry-Work\ Plan\ Template\ Entry\ Layout.layout
│   │   ├── WorkStep-Work\ Step\ Layout.layout
│   │   ├── WorkStepTemplate-Work\ Step\ Template\ Layout.layout
│   │   ├── WorkType-Work\ Type\ Layout.layout
│   │   ├── WorkTypeGroup-Work\ Type\ Group\ Layout.layout
│   │   ├── WorkTypeGroupMember-Work\ Type\ Group\ Member\ Layout.layout
│   │   ├── sf_devops__App_Config__mdt-sf_devops__App\ Config\ Layout.layout
│   │   ├── sf_devops__Async_Operation_Result__c-sf_devops__Async\ Operation\ Result\ Layout.layout
│   │   ├── sf_devops__Back_Sync__c-sf_devops__Back\ Sync\ Layout.layout
│   │   ├── sf_devops__Branch__c-sf_devops__Branch\ Layout.layout
│   │   ├── sf_devops__Change_Bundle_Install__c-sf_devops__Change\ Bundle\ Install\ Layout.layout
│   │   ├── sf_devops__Change_Bundle__c-sf_devops__Change\ Bundle\ Layout.layout
│   │   ├── sf_devops__Change_Submission__c-sf_devops__Change\ Submission\ Layout.layout
│   │   ├── sf_devops__Deploy_Component__c-sf_devops__Deploy\ Component\ Layout.layout
│   │   ├── sf_devops__Deployment_Result__c-sf_devops__Deployment\ Result\ Layout.layout
│   │   ├── sf_devops__Environment__c-sf_devops__Environment\ Layout.layout
│   │   ├── sf_devops__Hidden_Remote_Change__c-sf_devops__Hidden\ Remote\ Change\ Layout.layout
│   │   ├── sf_devops__Merge_Result__c-sf_devops__Merge\ Result\ Layout.layout
│   │   ├── sf_devops__Object_Activity__c-sf_devops__Object\ Activity\ Layout.layout
│   │   ├── sf_devops__Pipeline_Stage__c-sf_devops__Pipeline\ Stage\ Layout.layout
│   │   ├── sf_devops__Pipeline__c-sf_devops__Pipeline\ Layout.layout
│   │   ├── sf_devops__Remote_Change__c-sf_devops__Remote\ Change\ Layout.layout
│   │   ├── sf_devops__Repository__c-sf_devops__Repository\ Layout.layout
│   │   ├── sf_devops__Service__mdt-sf_devops__Service\ Layout.layout
│   │   ├── sf_devops__Source_Member_Reference__c-sf_devops__Source\ Member\ Reference\ Layout.layout
│   │   ├── sf_devops__Submit_Component__c-sf_devops__Submit\ Component\ Layout.layout
│   │   ├── sf_devops__Vcs_Event__c-sf_devops__VCS\ Event\ Layout.layout
│   │   ├── sf_devops__Work_Item_Promote__c-sf_devops__Work\ Item\ Promote\ Layout.layout
│   │   └── sf_devops__Work_Item__c-sf_devops__Work\ Item\ Layout.layout
│   ├── lwc
│   │   ├── chart
│   │   │   ├── chart.html
│   │   │   ├── chart.js
│   │   │   └── chart.js-meta.xml
│   │   ├── hello
│   │   │   ├── hello.html
│   │   │   ├── hello.js
│   │   │   └── hello.js-meta.xml
│   │   └── uIRecordAPIAccount
│   │       ├── uIRecordAPIAccount.html
│   │       ├── uIRecordAPIAccount.js
│   │       └── uIRecordAPIAccount.js-meta.xml
│   ├── navigationMenus
│   │   └── SFDC_Default_Navigation_mohanc.navigationMenu
│   ├── networks
│   │   └── mohanc.network
│   ├── notificationTypeConfig
│   │   └── NotificationTypeConfig.config
│   ├── objects
│   │   ├── FruitTree__c.object
│   │   ├── Sales_Play__c.object
│   │   └── Tree__c.object
│   ├── package.xml
│   ├── pages
│   │   ├── AnswersHome.page
│   │   ├── AnswersHome.page-meta.xml
│   │   ├── BandwidthExceeded.page
│   │   ├── BandwidthExceeded.page-meta.xml
│   │   ├── ChangePassword.page
│   │   ├── ChangePassword.page-meta.xml
│   │   ├── CommunitiesLanding.page
│   │   ├── CommunitiesLanding.page-meta.xml
│   │   ├── CommunitiesLogin.page
│   │   ├── CommunitiesLogin.page-meta.xml
│   │   ├── CommunitiesSelfReg.page
│   │   ├── CommunitiesSelfReg.page-meta.xml
│   │   ├── CommunitiesSelfRegConfirm.page
│   │   ├── CommunitiesSelfRegConfirm.page-meta.xml
│   │   ├── CommunitiesTemplate.page
│   │   ├── CommunitiesTemplate.page-meta.xml
│   │   ├── Exception.page
│   │   ├── Exception.page-meta.xml
│   │   ├── FieldAuditView.page
│   │   ├── FieldAuditView.page-meta.xml
│   │   ├── FileNotFound.page
│   │   ├── FileNotFound.page-meta.xml
│   │   ├── ForgotPassword.page
│   │   ├── ForgotPassword.page-meta.xml
│   │   ├── ForgotPasswordConfirm.page
│   │   ├── ForgotPasswordConfirm.page-meta.xml
│   │   ├── IdeasHome.page
│   │   ├── IdeasHome.page-meta.xml
│   │   ├── InMaintenance.page
│   │   ├── InMaintenance.page-meta.xml
│   │   ├── MicrobatchSelfReg.page
│   │   ├── MicrobatchSelfReg.page-meta.xml
│   │   ├── MyProfilePage.page
│   │   ├── MyProfilePage.page-meta.xml
│   │   ├── SiteLogin.page
│   │   ├── SiteLogin.page-meta.xml
│   │   ├── SiteRegister.page
│   │   ├── SiteRegister.page-meta.xml
│   │   ├── SiteRegisterConfirm.page
│   │   ├── SiteRegisterConfirm.page-meta.xml
│   │   ├── SiteTemplate.page
│   │   ├── SiteTemplate.page-meta.xml
│   │   ├── StdExceptionTemplate.page
│   │   ├── StdExceptionTemplate.page-meta.xml
│   │   ├── Unauthorized.page
│   │   ├── Unauthorized.page-meta.xml
│   │   ├── UnderConstruction.page
│   │   └── UnderConstruction.page-meta.xml
│   ├── permissionsets
│   │   ├── Experience_Profile_Manager.permissionset
│   │   ├── Manage_Encryption_Keys.permissionset
│   │   ├── sf_devops_InitializeEnvironments.permissionset
│   │   ├── sf_devops_NamedCredentials.permissionset
│   │   └── test2.permissionset
│   ├── platformEventChannelMembers
│   │   ├── ChangeEvents_AccountChangeEvent.platformEventChannelMember
│   │   ├── ChangeEvents_CampaignChangeEvent.platformEventChannelMember
│   │   └── ChangeEvents_CaseChangeEvent.platformEventChannelMember
│   ├── profilePasswordPolicies
│   │   └── PT1_profilePasswordPolicy1672084508523.profilePasswordPolicy
│   ├── profileSessionSettings
│   │   └── PT1_profileSessionSetting1672084508612.profileSessionSetting
│   ├── profiles
│   │   ├── Admin.profile
│   │   ├── Analytics\ Cloud\ Integration\ User.profile
│   │   ├── Analytics\ Cloud\ Security\ User.profile
│   │   ├── Authenticated\ Website.profile
│   │   ├── Chatter\ External\ User.profile
│   │   ├── Chatter\ Free\ User.profile
│   │   ├── Chatter\ Moderator\ User.profile
│   │   ├── ContractManager.profile
│   │   ├── Cross\ Org\ Data\ Proxy\ User.profile
│   │   ├── Custom%3A\ Marketing\ Profile.profile
│   │   ├── Custom%3A\ Sales\ Profile.profile
│   │   ├── Custom%3A\ Support\ Profile.profile
│   │   ├── Customer\ Community\ Login\ User.profile
│   │   ├── Customer\ Community\ Plus\ Login\ User.profile
│   │   ├── Customer\ Community\ Plus\ User.profile
│   │   ├── Customer\ Community\ User.profile
│   │   ├── Customer\ Portal\ Manager\ Custom.profile
│   │   ├── Customer\ Portal\ Manager\ Standard.profile
│   │   ├── External\ Apps\ Login\ User.profile
│   │   ├── External\ Identity\ User.profile
│   │   ├── Force%2Ecom\ -\ App\ Subscription\ User.profile
│   │   ├── Force%2Ecom\ -\ Free\ User.profile
│   │   ├── Gold\ Partner\ User.profile
│   │   ├── Guest\ License\ User.profile
│   │   ├── High\ Volume\ Customer\ Portal\ User.profile
│   │   ├── HighVolumePortal.profile
│   │   ├── Identity\ User.profile
│   │   ├── MarketingProfile.profile
│   │   ├── Minimum\ Access\ -\ Salesforce.profile
│   │   ├── Partner\ App\ Subscription\ User.profile
│   │   ├── Partner\ Community\ Login\ User.profile
│   │   ├── Partner\ Community\ User.profile
│   │   ├── PlatformPortal.profile
│   │   ├── Read\ Only.profile
│   │   ├── Silver\ Partner\ User.profile
│   │   ├── SolutionManager.profile
│   │   ├── Standard.profile
│   │   ├── StandardAul.profile
│   │   ├── Work%2Ecom\ Only\ User.profile
│   │   └── mohanc\ Profile.profile
│   ├── quickActions
│   │   ├── Case.LogACall.quickAction
│   │   ├── Case.NewChildCase.quickAction
│   │   ├── CollaborationGroup.NewGroupMember.quickAction
│   │   ├── CollaborationGroup.NewGroupRecord.quickAction
│   │   ├── FeedItem.NewTaskFromFeedItem.quickAction
│   │   ├── GuestCommunityCase.quickAction
│   │   ├── LogACall.quickAction
│   │   ├── NewAccount.quickAction
│   │   ├── NewCase.quickAction
│   │   ├── NewCommunityCase.quickAction
│   │   ├── NewContact.quickAction
│   │   ├── NewEvent.quickAction
│   │   ├── NewGroup.quickAction
│   │   ├── NewLead.quickAction
│   │   ├── NewNote.quickAction
│   │   ├── NewOpportunity.quickAction
│   │   ├── NewTask.quickAction
│   │   ├── SendEmail.quickAction
│   │   ├── Task.Defer.quickAction
│   │   ├── Task.EditDescription.quickAction
│   │   ├── Task.UpdatePriority.quickAction
│   │   └── Task.UpdateStatus.quickAction
│   ├── reportTypes
│   │   └── screen_flows_prebuilt_crt.reportType
│   ├── roles
│   │   ├── CEO.role
│   │   ├── CFO.role
│   │   ├── COO.role
│   │   ├── ChannelSalesTeam.role
│   │   ├── CustomerSupportInternational.role
│   │   ├── CustomerSupportNorthAmerica.role
│   │   ├── DirectorChannelSales.role
│   │   ├── DirectorDirectSales.role
│   │   ├── EasternSalesTeam.role
│   │   ├── InstallationRepairServices.role
│   │   ├── MarketingTeam.role
│   │   ├── SVPCustomerServiceSupport.role
│   │   ├── SVPHumanResources.role
│   │   ├── SVPSalesMarketing.role
│   │   ├── VPInternationalSales.role
│   │   ├── VPMarketing.role
│   │   ├── VPNorthAmericanSales.role
│   │   └── WesternSalesTeam.role
│   ├── settings
│   │   ├── Account.settings
│   │   ├── AccountIntelligence.settings
│   │   ├── Actions.settings
│   │   ├── Activities.settings
│   │   ├── Address.settings
│   │   ├── Analytics.settings
│   │   ├── Apex.settings
│   │   ├── AppAnalytics.settings
│   │   ├── AppExperience.settings
│   │   ├── Archive.settings
│   │   ├── Blockchain.settings
│   │   ├── Bot.settings
│   │   ├── BusinessHours.settings
│   │   ├── Campaign.settings
│   │   ├── Case.settings
│   │   ├── Chatter.settings
│   │   ├── ChatterEmailsMD.settings
│   │   ├── Commerce.settings
│   │   ├── Communities.settings
│   │   ├── Company.settings
│   │   ├── ConnectedApp.settings
│   │   ├── Content.settings
│   │   ├── Contract.settings
│   │   ├── ConversationalIntelligence.settings
│   │   ├── Currency.settings
│   │   ├── CustomAddressField.settings
│   │   ├── CustomerDataPlatform.settings
│   │   ├── CustomizablePropensityScoring.settings
│   │   ├── DataDotCom.settings
│   │   ├── Deployment.settings
│   │   ├── DevHub.settings
│   │   ├── Discovery.settings
│   │   ├── DocumentChecklist.settings
│   │   ├── EAC.settings
│   │   ├── EinsteinDocumentCapture.settings
│   │   ├── EmailAdministration.settings
│   │   ├── EmailIntegration.settings
│   │   ├── EmailTemplate.settings
│   │   ├── EmployeeFieldAccess.settings
│   │   ├── EmployeeUser.settings
│   │   ├── EncryptionKey.settings
│   │   ├── EngagementMessaging.settings
│   │   ├── EnhancedNotes.settings
│   │   ├── Entitlement.settings
│   │   ├── Essentials.settings
│   │   ├── Event.settings
│   │   ├── ExperienceBundle.settings
│   │   ├── ExternalClientApp.settings
│   │   ├── FieldService.settings
│   │   ├── FileUploadAndDownloadSecurity.settings
│   │   ├── FilesConnect.settings
│   │   ├── Flow.settings
│   │   ├── Forecasting.settings
│   │   ├── Formula.settings
│   │   ├── GoogleApps.settings
│   │   ├── Ideas.settings
│   │   ├── IdentityProvider.settings
│   │   ├── IncidentMgmt.settings
│   │   ├── Industries.settings
│   │   ├── IndustriesEinsteinFeature.settings
│   │   ├── InvocableAction.settings
│   │   ├── Knowledge.settings
│   │   ├── Language.settings
│   │   ├── LeadConfig.settings
│   │   ├── LightningExperience.settings
│   │   ├── LiveAgent.settings
│   │   ├── LiveMessage.settings
│   │   ├── Macro.settings
│   │   ├── MailMerge.settings
│   │   ├── Meetings.settings
│   │   ├── Mobile.settings
│   │   ├── MyDomain.settings
│   │   ├── Name.settings
│   │   ├── Notifications.settings
│   │   ├── OauthOidc.settings
│   │   ├── ObjectLinking.settings
│   │   ├── OmniChannel.settings
│   │   ├── Opportunity.settings
│   │   ├── Order.settings
│   │   ├── OrderManagement.settings
│   │   ├── Org.settings
│   │   ├── Pardot.settings
│   │   ├── PardotEinstein.settings
│   │   ├── PartyDataModel.settings
│   │   ├── PathAssistant.settings
│   │   ├── PaymentsIngestEnabled.settings
│   │   ├── PaymentsManagementEnabled.settings
│   │   ├── Picklist.settings
│   │   ├── PlatformEncryption.settings
│   │   ├── Portals.settings
│   │   ├── PredictionBuilder.settings
│   │   ├── Privacy.settings
│   │   ├── Product.settings
│   │   ├── QuickText.settings
│   │   ├── Quote.settings
│   │   ├── RealTimeEvent.settings
│   │   ├── RecommendationBuilder.settings
│   │   ├── RecordPage.settings
│   │   ├── RetailExecution.settings
│   │   ├── Sandbox.settings
│   │   ├── Schema.settings
│   │   ├── Search.settings
│   │   ├── Security.settings
│   │   ├── ServiceCloudVoice.settings
│   │   ├── ServiceSetupAssistant.settings
│   │   ├── Sharing.settings
│   │   ├── Site.settings
│   │   ├── SocialProfile.settings
│   │   ├── SourceTracking.settings
│   │   ├── Survey.settings
│   │   ├── SystemNotification.settings
│   │   ├── Territory2.settings
│   │   ├── Trailhead.settings
│   │   ├── TrialOrg.settings
│   │   ├── UserEngagement.settings
│   │   ├── UserInterface.settings
│   │   ├── UserManagement.settings
│   │   ├── Voice.settings
│   │   ├── WebToX.settings
│   │   └── WorkDotCom.settings
│   ├── sharingRules
│   │   ├── Account.sharingRules
│   │   ├── AccountBrand.sharingRules
│   │   ├── ActionCadenceAsyncJob.sharingRules
│   │   ├── ActivityRecurrence2.sharingRules
│   │   ├── ActivityRecurrence2Exception.sharingRules
│   │   ├── AlternativePaymentMethod.sharingRules
│   │   ├── AppointmentInvitation.sharingRules
│   │   ├── Asset.sharingRules
│   │   ├── AssistantInteraction.sharingRules
│   │   ├── AssistantProgress.sharingRules
│   │   ├── AssistantRecommendation.sharingRules
│   │   ├── AuthorizationForm.sharingRules
│   │   ├── AuthorizationFormConsent.sharingRules
│   │   ├── AuthorizationFormDataUse.sharingRules
│   │   ├── BusinessBrand.sharingRules
│   │   ├── CalendarModel.sharingRules
│   │   ├── CalendarView.sharingRules
│   │   ├── Campaign.sharingRules
│   │   ├── Case.sharingRules
│   │   ├── ChangeRequest.sharingRules
│   │   ├── ChannelProgram.sharingRules
│   │   ├── CleanLeadBackup.sharingRules
│   │   ├── CommSubscription.sharingRules
│   │   ├── CommSubscriptionChannelType.sharingRules
│   │   ├── CommSubscriptionConsent.sharingRules
│   │   ├── ComponentResponseCache.sharingRules
│   │   ├── ConsumptionSchedule.sharingRules
│   │   ├── Contact.sharingRules
│   │   ├── ContactPointConsent.sharingRules
│   │   ├── ContactPointTypeConsent.sharingRules
│   │   ├── ContactRequest.sharingRules
│   │   ├── ConvCoachingRecommendation.sharingRules
│   │   ├── Coupon.sharingRules
│   │   ├── CreditMemo.sharingRules
│   │   ├── Customer.sharingRules
│   │   ├── DataPrepServiceLocator.sharingRules
│   │   ├── DataUseLegalBasis.sharingRules
│   │   ├── DataUsePurpose.sharingRules
│   │   ├── DelegatedAccount.sharingRules
│   │   ├── EngagementChannelType.sharingRules
│   │   ├── ExchangeUserMapping.sharingRules
│   │   ├── ExternalEventMapping.sharingRules
│   │   ├── FinanceBalanceSnapshot.sharingRules
│   │   ├── FinanceTransaction.sharingRules
│   │   ├── FlowInterview.sharingRules
│   │   ├── FlowInterviewLog.sharingRules
│   │   ├── FlowOrchestrationInstance.sharingRules
│   │   ├── FlowOrchestrationLog.sharingRules
│   │   ├── FlowOrchestrationStageInstance.sharingRules
│   │   ├── FlowOrchestrationStepInstance.sharingRules
│   │   ├── FlowOrchestrationWorkItem.sharingRules
│   │   ├── FlowTestResult.sharingRules
│   │   ├── FruitTree__c.sharingRules
│   │   ├── Image.sharingRules
│   │   ├── Incident.sharingRules
│   │   ├── Individual.sharingRules
│   │   ├── Invoice.sharingRules
│   │   ├── Lead.sharingRules
│   │   ├── LearningItem.sharingRules
│   │   ├── LegalEntity.sharingRules
│   │   ├── ListEmail.sharingRules
│   │   ├── LmaApiSession.sharingRules
│   │   ├── LocWaitlistMsgTemplate.sharingRules
│   │   ├── Location.sharingRules
│   │   ├── LocationGroup.sharingRules
│   │   ├── LocationWaitlist.sharingRules
│   │   ├── LocationWaitlistedParty.sharingRules
│   │   ├── Macro.sharingRules
│   │   ├── MacroUsage.sharingRules
│   │   ├── ManagedContentRelease.sharingRules
│   │   ├── MessagingEndUser.sharingRules
│   │   ├── MessagingSession.sharingRules
│   │   ├── MobileHomeConfiguration.sharingRules
│   │   ├── NetworkMemberChunk.sharingRules
│   │   ├── NotifDeliveryUserPref.sharingRules
│   │   ├── Opportunity.sharingRules
│   │   ├── Order.sharingRules
│   │   ├── OrgDeleteRequest.sharingRules
│   │   ├── PartnerFundAllocation.sharingRules
│   │   ├── PartnerFundClaim.sharingRules
│   │   ├── PartnerFundRequest.sharingRules
│   │   ├── PartnerMarketingBudget.sharingRules
│   │   ├── PartyConsent.sharingRules
│   │   ├── Problem.sharingRules
│   │   ├── ProcessException.sharingRules
│   │   ├── Product2.sharingRules
│   │   ├── Promotion.sharingRules
│   │   ├── PromotionSegment.sharingRules
│   │   ├── PromptAction.sharingRules
│   │   ├── PromptError.sharingRules
│   │   ├── QuickText.sharingRules
│   │   ├── QuickTextUsage.sharingRules
│   │   ├── RecordMergeHistory.sharingRules
│   │   ├── ReportResultBlob.sharingRules
│   │   ├── RequestsForAccessSIQ.sharingRules
│   │   ├── ReturnOrder.sharingRules
│   │   ├── Sales_Play__c.sharingRules
│   │   ├── Scorecard.sharingRules
│   │   ├── Seller.sharingRules
│   │   ├── ServiceAppointment.sharingRules
│   │   ├── ServiceContract.sharingRules
│   │   ├── ServiceResource.sharingRules
│   │   ├── ServiceTerritory.sharingRules
│   │   ├── Shift.sharingRules
│   │   ├── SiqUserBlacklist.sharingRules
│   │   ├── SiteUserViewMode.sharingRules
│   │   ├── StreamActivityAccess.sharingRules
│   │   ├── StreamingChannel.sharingRules
│   │   ├── TaskLabel.sharingRules
│   │   ├── TaskLabelRelation.sharingRules
│   │   ├── TodayGoal.sharingRules
│   │   ├── Tree__c.sharingRules
│   │   ├── User.sharingRules
│   │   ├── UserAppMenuCustomization.sharingRules
│   │   ├── UserEmailPreferredPerson.sharingRules
│   │   ├── UserExternalCredential.sharingRules
│   │   ├── UserProvisioningRequest.sharingRules
│   │   ├── VoiceCall.sharingRules
│   │   ├── WebCart.sharingRules
│   │   ├── WebCartDocument.sharingRules
│   │   ├── WebStore.sharingRules
│   │   ├── WorkOrder.sharingRules
│   │   ├── WorkPlan.sharingRules
│   │   ├── WorkPlanTemplate.sharingRules
│   │   ├── WorkStepTemplate.sharingRules
│   │   ├── WorkType.sharingRules
│   │   └── WorkTypeGroup.sharingRules
│   ├── staticresources
│   │   ├── SiteSamples.resource
│   │   ├── SiteSamples.resource-meta.xml
│   │   ├── chartJs.resource
│   │   └── chartJs.resource-meta.xml
│   ├── translations
│   │   ├── en_US.translation
│   │   ├── es.translation
│   │   └── fr.translation
│   ├── triggers
│   │   ├── Simple.trigger
│   │   └── Simple.trigger-meta.xml
│   └── workflows
│       └── Case.workflow
└── unpackaged.zip

46 directories, 704 files
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="auditing-scripts-1"><a class="header" href="#auditing-scripts-1">Auditing Scripts</a></h1>
<img src="tools/img/auditor-1.png" width="400"/>
<h2 id="contents-1"><a class="header" href="#contents-1">Contents</a></h2>
<ul>
<li><a href="tools/scripts.html#unapproved">List unapproved users with given profile in the org</a></li>
<li><a href="tools/scripts.html#mad">List unapproved users having ModifyAllData</a></li>
<li><a href="tools/scripts.html#vad">List unapproved users having ViewAllData</a></li>
<li><a href="tools/scripts.html#withrole">List Users with given Profile who have Role</a></li>
<li><a href="tools/scripts.html#checkpermset">Check users with given PermissionSet </a></li>
<li><a href="tools/scripts.html#sat">Check SetupAuditTrail</a></li>
<li><a href="tools/scripts.html#opga">Operationalize Audit Scripts using github-actions</a></li>
</ul>
<hr />
<p><a name="unapproved"></a></p>
<h2 id="list-unapproved-users-with-given-profile-in-the-org-1"><a class="header" href="#list-unapproved-users-with-given-profile-in-the-org-1">List unapproved users with given profile in the org</a></h2>
<h3 id="sample-approved_adminstxt-content-1"><a class="header" href="#sample-approved_adminstxt-content-1">Sample approved_admins.txt content:</a></h3>
<pre><code>Ken Thompson
Dennis Ritchie
Niklaus Wirth
</code></pre>
<h3 id="activeuserssoql-1"><a class="header" href="#activeuserssoql-1">ActiveUsers.soql</a></h3>
<pre><code class="language-sql">
SELECT  Name FROM  User
WHERE isActive = true AND Profile.Name = '$PROFILE'

</code></pre>
<h3 id="disjoint-stdinpy-1"><a class="header" href="#disjoint-stdinpy-1">disjoint-stdin.py</a></h3>
<pre><code class="language-py">#!/usr/local/bin/python3
# print disjoint lines between stdin and input file 
# mchinnappan
#--------------------------------------------------
import sys
usage = &quot;&quot;&quot;
----------------------------------------------------------------
python3 disjoint-stdin.py   ref_file.txt
- Checks and prints any line  in the stdin  not in the ref_file
----------------------------------------------------------------
&quot;&quot;&quot;
if len(sys.argv) != 2  :
    print (f&quot;Usage: {usage}&quot;)
    exit(0)


file2 =  sys.argv[1]
file1_contents  = [line.strip() for line in sys.stdin.readlines()]
set1  = set(file1_contents)

with  open(file2, 'r') as f2:
    file2_contents = [line.strip() for line in f2.readlines()]
set2 = set (file2_contents)

for  item in set1:
    if item  not in set2:
        print(item.strip())


</code></pre>
<h3 id="script-to-find-out-the-users-not-in-the-approved-list-1"><a class="header" href="#script-to-find-out-the-users-not-in-the-approved-list-1">Script to find out the users not in the approved list</a></h3>
<pre><code class="language-bash">
export PROFILE=&quot;System Administrator&quot;;  
echo &quot;SELECT  Name FROM  User WHERE isActive = true AND Profile.Name = '$PROFILE'&quot; &gt; _check.soql
sfdx mohanc:data:query  -u ${{ secrets.SALESFORCE_DEVHUB_USERNAME }} -q _check.soql -f json | jq '.[].Name' | sort | sed 's/&quot;//g'| python3 py/disjoint-stdin.py data/approved-admins.txt 


</code></pre>
<ul>
<li>The output of this script will be :
<ul>
<li>list of users whose profile is <strong>system administrator</strong> but their names are <strong>not</strong> in the <code>approved.txt</code> file. </li>
</ul>
</li>
</ul>
<pre><code>mohan chinnappan
</code></pre>
<p><a name='opga'></a></p>
<h3 id="operationalize-audit-scripts-using-github-actions-1"><a class="header" href="#operationalize-audit-scripts-using-github-actions-1">Operationalize Audit Scripts using github-actions</a></h3>
<pre><code class="language-yaml"> name: Auditor
run-name: on-demand-auditor

on: [workflow_dispatch]
jobs:
  setup-dx-py-audit:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - run: npm install sfdx-cli -g      
      - run: echo &quot;${{ secrets.SALESFORCE_JWT_SECRET_KEY }}&quot; &gt; server.key
      - run: sfdx force:auth:jwt:grant --clientid=${{ secrets.SALESFORCE_CONSUMER_KEY }} --jwtkeyfile=server.key --username=${{ secrets.SALESFORCE_DEVHUB_USERNAME }} --setdefaultdevhubusername
      - name: Install mohanc sfdx plugin
        run: |
          echo 'y' | sfdx plugins:install sfdx-mohanc-plugins
          sfdx plugins

      - name: Source DeployCheck Deploy
        run: |
          cd mc2Project 
          sfdx force:source:deploy -u ${{ secrets.SALESFORCE_DEVHUB_USERNAME }} -p force-app -c --verbose 
          sfdx mohanc:tooling:query -q ../.soql/deploymentStatus.soql -u ${{ secrets.SALESFORCE_DEVHUB_USERNAME }} -f json &gt; ./deploymentStatus.json
          cat ./deploymentStatus.json
 

          
      - name: Setup Python
        uses: actions/setup-python@v3.1.3
        with:
          python-version: 3.10.10
          
          
          
      # List unapproved users with given profile in the org  - data/approved-admins.txt
      - name: run-sys-admin-check
        run : |
          export PROFILE=&quot;System Administrator&quot;;  
          echo &quot;SELECT  Name FROM  User WHERE isActive = true AND Profile.Name = '$PROFILE'&quot; &gt; _check.soql
          sfdx mohanc:data:query  -u ${{ secrets.SALESFORCE_DEVHUB_USERNAME }} -q _check.soql -f json | jq '.[].Name' | sort | sed 's/&quot;//g'| python3 py/disjoint-stdin.py data/approved-admins.txt 
     
     # List unapproved users having ModifyAllData - data/approved-admins.txt
      - name: run-ModifyAllData-check
        run : |
          export PERM=&quot;PermissionsModifyAllData&quot;;   
          echo &quot;SELECT AssigneeId FROM PermissionSetAssignment WHERE PermissionSet.$PERM=true&quot; &gt; _check2.soql          
          sfdx mohanc:data:query   -u ${{ secrets.SALESFORCE_DEVHUB_USERNAME }} -q _check2.soql -f json | jq '.[].AssigneeId' | sed 's/&quot;//g' |  python3 py/list2in.py |sed &quot;s/{/SELECT Name FROM USER WHERE isActive=true AND Id IN (/g&quot; | sed 's/}/)/g' &gt; _psa_.soql; 
          sfdx mohanc:data:query   -u ${{ secrets.SALESFORCE_DEVHUB_USERNAME }} -q _psa_.soql -f json | jq '.[].Name' | sed 's/&quot;//g' | python3 py/disjoint-stdin.py data/approved-admins.txt   

     # List unapproved users having ViewAllData - data/approved-admins.txt
      - name: run-ViewAllData-check
        run : |
          export PERM=&quot;PermissionsViewAllData&quot;;   
          echo &quot;SELECT AssigneeId FROM PermissionSetAssignment WHERE PermissionSet.$PERM=true&quot; &gt; _check2.soql          
          sfdx mohanc:data:query   -u ${{ secrets.SALESFORCE_DEVHUB_USERNAME }} -q _check2.soql -f json | jq '.[].AssigneeId' | sed 's/&quot;//g' |  python3 py/list2in.py |sed &quot;s/{/SELECT Name FROM USER WHERE isActive=true AND Id IN (/g&quot; | sed 's/}/)/g' &gt; _psa_.soql; 
          sfdx mohanc:data:query   -u ${{ secrets.SALESFORCE_DEVHUB_USERNAME }} -q _psa_.soql -f json | jq '.[].Name' | sed 's/&quot;//g' | python3 py/disjoint-stdin.py data/approved-admins.txt   


     # List Users with given Profile who have Role
      - name: run-users-with-role-check
        run : |
          export PROFILE=&quot;System Administrator&quot;;  
          echo &quot;SELECT  Name, UserRole.Name FROM  User WHERE isActive = true AND Profile.Name =  '$PROFILE' AND UserRole.Name != null&quot; &gt; _check3.soql          
          sfdx mohanc:data:query -u ${{ secrets.SALESFORCE_DEVHUB_USERNAME }} -q _check3.soql -f json | jq '.[].Name + &quot;|&quot; + .[].UserRole.Name' | sed 's/&quot;//g'

     # Check users with given PermissionSet - EinsteinAnalyticsPlusAdmin
      - name: check-user-with-given-ps
        run : |
          export PERMSET=&quot;EinsteinAnalyticsPlusAdmin&quot;; 
          echo &quot;SELECT Id, PermissionSetId, PermissionSet.Name, PermissionSet.ProfileId, PermissionSet.Profile.Name, AssigneeId, Assignee.Name FROM PermissionSetAssignment WHERE PermissionSet.Name LIKE '%$PERMSET%'&quot; &gt; _check4.soql
          sfdx mohanc:data:query -u   ${{ secrets.SALESFORCE_DEVHUB_USERNAME }} -q  _check4.soql -f json |jq '.[].Assignee.Name + &quot;|&quot; + .[].PermissionSet.Name'  | sed 's/&quot;//g' | sort -u

    

</code></pre>
<p><img src="tools/img/audit-github-actions-1.png" alt="audit - github-actions" /></p>
<ul>
<li>You can use this script for checking other profiles as well - say: <strong>Developer</strong> profile:</li>
</ul>
<pre><code class="language-bash">
export PROFILE=&quot;Developer&quot;;
echo &quot;SELECT  Name FROM  User WHERE isActive = true AND Profile.Name = '$PROFILE'&quot; &gt; _check.soql
sfdx mohanc:data:query -u mohan.chinnappan.n.sel@gmail.com -q _check.soql -f json | jq '.[].Name' | sort | sed 's/&quot;//g'| python3 disjoint-stdin.py approved_developers.txt 

</code></pre>
<p><a name="mad"></a></p>
<h2 id="list-unapproved-users-having-modifyalldata-1"><a class="header" href="#list-unapproved-users-having-modifyalldata-1">List unapproved users having ModifyAllData</a></h2>
<ul>
<li>psAssignment_id.soql </li>
</ul>
<pre><code class="language-sql">
  SELECT AssigneeId
    FROM PermissionSetAssignment 
    WHERE PermissionSet.$PERM=true

</code></pre>
<ul>
<li>list2in.py </li>
</ul>
<pre><code class="language-py">import sys
file1_contents  = [line.strip() for line in sys.stdin.readlines()]
print (set(file1_contents))

</code></pre>
<pre><code class="language-bash">
export PERM=&quot;PermissionsModifyAllData&quot;;  sed &quot;s/\$PERM/$PERM/&quot; psAssignment_id.soql &gt; _checkPS.soql;
sfdx mohanc:data:query -u   mohan.chinnappan.n.sel@gmail.com -q _checkPS.soql -f json | jq '.[].AssigneeId' | sed 's/&quot;//g' |  python3 list2in.py |sed &quot;s/{/SELECT Name FROM USER WHERE isActive=true AND Id IN (/g&quot; | sed 's/}/)/g' &gt; _psa_.soql; sfdx mohanc:data:query -u  mohan.chinnappan.n.sel@gmail.com  -q _psa_.soql -f json | jq '.[].Name' | sed 's/&quot;//g' | python3 disjoint-stdin.py approved_mad.txt    

</code></pre>
<p><img src="tools/img/audit-github-actions-2.png" alt="audit - github-actions" /></p>
<p><a name="vad"></a></p>
<h2 id="list-unapproved-users-having-viewalldata-1"><a class="header" href="#list-unapproved-users-having-viewalldata-1">List unapproved users having ViewAllData</a></h2>
<pre><code class="language-bash">
export PERM=&quot;PermissionsViewAllData&quot;;  sed &quot;s/\$PERM/$PERM/&quot; psAssignment_id.soql &gt; _checkPS.soql;
sfdx mohanc:data:query -u   mohan.chinnappan.n.sel@gmail.com -q _checkPS.soql -f json | jq '.[].AssigneeId' | sed 's/&quot;//g' |  python3 list2in.py |sed &quot;s/{/SELECT Name FROM USER WHERE isActive=true AND Id IN (/g&quot; | sed 's/}/)/g' &gt; _psa_.soql; sfdx mohanc:data:query -u  mohan.chinnappan.n.sel@gmail.com  -q _psa_.soql -f json | jq '.[].Name' | sed 's/&quot;//g' | python3 disjoint-stdin.py approved_vad.txt      

</code></pre>
<p><a name='withrole'></a></p>
<h2 id="list-users-with-given-profile-who-have-role-1"><a class="header" href="#list-users-with-given-profile-who-have-role-1">List Users with given Profile who have Role</a></h2>
<pre><code>cat usersWithRole.soql
</code></pre>
<pre><code class="language-sql">SELECT  Name, UserRole.Name FROM  User
WHERE isActive = true AND Profile.Name =  '$PROFILE' AND UserRole.Name != null
</code></pre>
<pre><code class="language-bash">
export PROFILE=&quot;System Administrator&quot;;  sed &quot;s/\$PROFILE/$PROFILE/&quot; usersWithRole.soql &gt; _check.soql; \
sfdx mohanc:data:query -u mohan.chinnappan.n.sel@gmail.com -q _check.soql -f json | jq '.[].Name + &quot;|&quot; + .[].UserRole.Name' | sed 's/&quot;//g'


</code></pre>
<ul>
<li>Sample output - pipe separated  - Name|Role</li>
</ul>
<pre><code>Joe Carpenter|ROLE1
John Smith|ROLE2
</code></pre>
<p><img src="tools/img/audit-github-actions-3.png" alt="audit - github-actions" /></p>
<p><a name ='checkpermset'></a></p>
<h2 id="check-users-with-given-permissionset-1"><a class="header" href="#check-users-with-given-permissionset-1">Check users with given PermissionSet</a></h2>
<pre><code>cat PermsetUsers.soql
</code></pre>
<pre><code class="language-sql">SELECT Id, PermissionSetId, PermissionSet.Name, 
PermissionSet.ProfileId, PermissionSet.Profile.Name, 
AssigneeId, Assignee.Name 
FROM PermissionSetAssignment 
WHERE PermissionSet.Name LIKE '%$PERMSET%'

</code></pre>
<pre><code class="language-bash">

export PERMSET=&quot;EinsteinAnalyticsPlusAdmin&quot;;  sed &quot;s/\$PERMSET/$PERMSET/&quot; PermsetUsers.soql &gt; _psUsers.soql; sfdx mohanc:data:query -u    mohan.chinnappan.n_ea2@gmail.com  -q  _psUsers.soql -f json |jq '.[].Assignee.Name + &quot;|&quot; + .[].PermissionSet.Name'  | sed 's/&quot;//g' | sort -u


</code></pre>
<h3 id="output-of-this-command-2"><a class="header" href="#output-of-this-command-2">output of this command</a></h3>
<pre><code>Mohan Chinnappan|EinsteinAnalyticsPlusAdmin

</code></pre>
<p><img src="tools/img/audit-github-actions-4.png" alt="audit - github-actions" /></p>
<h3 id="if-you-like-to-checked-against-an-approved-list-1"><a class="header" href="#if-you-like-to-checked-against-an-approved-list-1">if you like to checked against an approved list</a></h3>
<pre><code>cat approved_crmaadmin.txt 
</code></pre>
<pre><code>John Smith
</code></pre>
<pre><code class="language-bash">export PERMSET=&quot;EinsteinAnalyticsPlusAdmin&quot;;  sed &quot;s/\$PERMSET/$PERMSET/&quot; PermsetUsers.soql &gt; _psUsers.soql; sfdx mohanc:data:query -u    mohan.chinnappan.n_ea2@gmail.com  -q  _psUsers.soql -f json |jq '.[].Assignee.Name + &quot;|&quot; + .[].PermissionSet.Name'  | sed 's/&quot;//g' | sort -u | python3 disjoint-stdin.py approved_crmaadmin.txt      

</code></pre>
<h3 id="output-of-this-command-3"><a class="header" href="#output-of-this-command-3">output of this command</a></h3>
<pre><code>Mohan Chinnappan
</code></pre>
<p><a name='sat'></a></p>
<h2 id="check-setupaudittrail-1"><a class="header" href="#check-setupaudittrail-1">Check SetupAuditTrail</a></h2>
<h3 id="using-datatable-view-1"><a class="header" href="#using-datatable-view-1">Using Datatable view</a></h3>
<pre><code>
sfdx mohanc:data:bulkapi:query  -u  mohan.chinnappan.n.sel2@gmail.com -q setupAduit.soql; sed 's/CreatedBy.Name/CreatedByName/g' setupAduit.soql.csv  | pbcopy; open &quot;https://mohan-chinnappan-n5.github.io/viz/datatable/dt.html?c=csv&quot;


</code></pre>
<h2 id="-2"><a class="header" href="#-2"><img src="tools/img/setupAuditTrail-1.png" alt="Demo SAT-datatable" /></a></h2>
<h3 id="using-sqlite3-1"><a class="header" href="#using-sqlite3-1">Using sqlite3</a></h3>
<pre><code class="language-py">#!/usr/local/bin/python3
# SQL Query for CSV using pandas and sqlite 
# mchinnappan
#--------------------------------------------------
import sys
import time
usage = &quot;&quot;&quot;
----------------------------------------------------------------
python3 csvQuery    input_file   query
# SQL Query for CSV using pandas and sqllite   on SetupAduit
----------------------------------------------------------------
&quot;&quot;&quot;
if len(sys.argv) != 3  :
    print (f&quot;Usage: {usage}&quot;)
    exit(0)


import pandas as pd
import sys
import sqlite3

input_file =  sys.argv[1]
table_name = 't' + str(round(time.time()*1000) )
sql_string_in  = sys.argv[2] # Example for SetupAuditTrail: SELECT CreatedDate, &quot;CreatedBy.Name&quot; AS name, Display FROM sat WHERE Section =&quot;Manage Users&quot;
sql_string = sql_string_in.replace('$TBL', table_name)
# read CSV file into a DataFrame
df = pd.read_csv(input_file)

conn = sqlite3.connect(&quot;_temp.db&quot;) #if the db does not exist, it will be created 
#store your table in the database:
df.to_sql(table_name, conn)
#read a SQL Query out of your database and into a pandas dataframe
df = pd.read_sql(sql_string, conn)
print(df.to_csv(sys.stdout))


</code></pre>
<pre><code>cat setupAduit.soql 

</code></pre>
<pre><code class="language-sql">SELECT CreatedDate,
          CreatedBy.Name, 
          CreatedByContext,
          CreatedByIssuer,
          Display,
          Section,
          DelegateUser
          FROM SetupAuditTrail



</code></pre>
<pre><code class="language-bash">
sfdx mohanc:data:bulkapi:query  -u  mohan.chinnappan.n.sel@gmail.com -q setupAduit.soql ; python3 querycsv.py setupAduit.soql.csv  ' SELECT CreatedDate, &quot;CreatedBy.Name&quot; AS name, Display FROM $TBL  WHERE Section =&quot;Manage Users&quot;'

</code></pre>
<h3 id="output-of-the-this-1"><a class="header" href="#output-of-the-this-1">Output of the this</a></h3>
<pre><code class="language-csv">,CreatedDate,name,Display
0,2022-10-25T20:36:52.000Z,mohan chinnappan,Created permission set DevOps Center: with no license
1,2022-10-25T20:36:53.000Z,mohan chinnappan,Created permission set DevOps Center Manager: with no license
2,2022-10-25T20:36:53.000Z,mohan chinnappan,Created permission set DevOps Center Release Manager: with no license
3,2022-10-25T20:39:25.000Z,,Created permission set sf_devops_NamedCredentials: with no license
4,2022-10-25T20:39:26.000Z,,Created permission set sf_devops_InitializeEnvironments: with no license
5,2022-11-10T09:30:51.000Z,mohan chinnappan,Set new password for user null

</code></pre>
<ul>
<li>You can change the sql used by using different sections (for e.g Apex Class, Company Profile...)</li>
</ul>
<pre><code class="language-sql">SELECT CreatedDate, &quot;CreatedBy.Name&quot; AS name, Display FROM $TBL  WHERE Section =&quot;Apex Class&quot;

</code></pre>
<h3 id="references-8"><a class="header" href="#references-8">References</a></h3>
<ul>
<li><a href="https://developer.salesforce.com/docs/atlas.en-us.object_reference.meta/object_reference/sforce_api_objects_setupaudittrail.htm">SetupAuditTrail</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="custom-metadata-types"><a class="header" href="#custom-metadata-types">Custom Metadata Types</a></h1>
<ul>
<li>
<p>Records in a Custom Metadata Type are Metadata not data</p>
</li>
<li>
<p>You can package Custom Metadata Type Records</p>
</li>
<li>
<p>Data Objects</p>
<ul>
<li>Used By users</li>
<li>For the business</li>
<li><strong>Standard</strong>
<ul>
<li>Account, Contact, Opportunity</li>
</ul>
</li>
<li><strong>Custom</strong>
<ul>
<li>Warranty, Invoice, Project, CaronCredit...</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Metadata Types</p>
<ul>
<li>Used by Admins</li>
<li>For the App</li>
<li><strong>Standard</strong>
<ul>
<li>Validation Rules</li>
<li>Account settings</li>
<li>Custom Object Translation</li>
</ul>
</li>
<li><strong>Custom</strong>
<ul>
<li>Stock point Rule</li>
<li>Warranty Settings</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Custom Settings </p>
<ul>
<li>Data in Custom Setting is unpackageable</li>
</ul>
</li>
</ul>
<h2 id="cli"><a class="header" href="#cli">CLI</a></h2>
<pre><code># Creates a new custom metadata type in the current project.
force:cmdt:create
sfdx force:cmdt:create --typename MyCustomType
sfdx force:cmdt:create --typename MyCustomType --label &quot;Custom Type&quot; --plurallabel &quot;Custom Types&quot; --visibility Protected


# Generate a custom metadata field based on the field type provided.
force:cmdt:field:create
sfdx force:cmdt:field:create --fieldname MyField --fieldtype Checkbox
sfdx force:cmdt:field:create --fieldname MyField --fieldtype Picklist --picklistvalues &quot;A,B,C&quot;
sfdx force:cmdt:field:create --fieldname MyField --fieldtype Number --decimalplaces 2





# Generates a custom metadata type and all its records for the provided sObject.
force:cmdt:generate
sfdx force:cmdt:generate --devname MyCMDT --sobjectname MySourceObject__c
sfdx force:cmdt:generate --devname MyCMDT --sobjectname MySourceObject__c  --ignoreunsupported --targetusername 'alias or user email of the org containing the source type'




# Create a new record for a given custom metadata type in the current project.
force:cmdt:record:create
sfdx force:cmdt:record:create --typename MyCMT__mdt --recordname MyRecord My_Custom_Field_1=Foo My_Custom_Field_2=Bar



# Create new custom metadata type records from a CSV file.
force:cmdt:record:insert
sfdx force:cmdt:record:insert --filepath path/to/my.csv --typename My_CMDT_Name





</code></pre>
<iframe width="920" height="520" src="https://www.youtube.com/embed/RA8v6KKvXqI" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe><div style="break-before: page; page-break-before: always;"></div><h1 id="code-quality"><a class="header" href="#code-quality">Code Quality</a></h1>
<p><img src="cq/../img/cover/chromecast-sea-7.jpg" alt="sea 5" /></p>
<ul>
<li><a href="https://mohan-chinnappan-n5.github.io/code-quality/cq.md.html#0">Slides</a></li>
</ul>
<hr />
<h2 id="introduction-1"><a class="header" href="#introduction-1">Introduction</a></h2>
<pre><code>There is no such thing as &quot;perfect&quot; code — there is only better code!

Instead of seeking perfection, we should seek for is &quot;continuous improvement&quot;...

We rarely write tests for our tests — a human must ensure that tests are valid.

</code></pre>
<ul>
<li>
<p>Code Quality Is Everyone’s Responsibility including:</p>
<ul>
<li>Developer</li>
<li>Tester</li>
</ul>
</li>
<li>
<p>Code quality aspects</p>
</li>
</ul>
<table><thead><tr><th>Aspect</th><th>Comments</th></tr></thead><tbody>
<tr><td>Reliability</td><td>Probability that a system will run without failure over a specific period of operation</td></tr>
<tr><td>Maintainability</td><td>How easily software can be maintained</td></tr>
<tr><td>Testability</td><td>how well the software supports testing efforts</td></tr>
<tr><td>Portability</td><td>how usable the same software is in different environments</td></tr>
<tr><td>Reusability</td><td>whether existing assets — such as code — can be used again</td></tr>
</tbody></table>
<ul>
<li>Code quality Metrics</li>
</ul>
<table><thead><tr><th>Metric</th><th>Comments</th></tr></thead><tbody>
<tr><td>Defect Metrics</td><td>Number of defects — and severity of those defects — are important metrics of overall quality.</td></tr>
<tr><td>Complexity Metrics</td><td>Cyclomatic complexity for example</td></tr>
<tr><td>Testability</td><td>how well the software supports testing efforts</td></tr>
<tr><td>Portability</td><td>how usable the same software is in different environments</td></tr>
</tbody></table>
<ul>
<li>Ways to Improve Code Quality</li>
</ul>
<table><thead><tr><th>Way</th><th>Comments</th></tr></thead><tbody>
<tr><td>Use a coding standard</td><td>Makes everyone to use the right style</td></tr>
<tr><td>Analyze code — before code reviews</td><td>Analyze code as soon as it’s written</td></tr>
<tr><td>Follow code review best practices</td><td>Manual code reviews are still important for verifying the intent of the code</td></tr>
<tr><td>Refactor legacy code (when necessary)</td><td>help you clean up your codebase and lower its complexity</td></tr>
</tbody></table>
<h1 id="write-maintainable-testable--good-code"><a class="header" href="#write-maintainable-testable--good-code">Write Maintainable Testable  Good Code</a></h1>
<ul>
<li>readable</li>
<li>understandable</li>
<li>testable</li>
</ul>
<table><thead><tr><th>Good Code</th></tr></thead><tbody>
<tr><td>Does what it should</td></tr>
<tr><td>Follows a consistent style</td></tr>
<tr><td>It is easy to understand</td></tr>
<tr><td>Has been well-documented</td></tr>
<tr><td>It can be tested</td></tr>
</tbody></table>
<table><thead><tr><th>Key Points</th></tr></thead><tbody>
<tr><td>Avoid Code with global, mutable state - that any code can access, and any code can modify</td></tr>
<tr><td>A class should ask for its dependencies through its <strong>constructor</strong> rather than acquiring them itself - dependency injection</td></tr>
<tr><td>Optimize the code for the reader of the code, not the writer - Good Code Is Easily Read and Understood, in Part and in Whole</td></tr>
<tr><td>DRY - Don't repeat yourself - it is easier to maintain the code if it only exists in one place</td></tr>
<tr><td>Do the simplest, smallest thing you can do to add some value</td></tr>
</tbody></table>
<h1 id="static-code-analysis"><a class="header" href="#static-code-analysis">Static Code Analysis</a></h1>
<ul>
<li>
<p>Run Static Code Analysis tools like <a href="https://github.com/mohan-chinnappan-n/cli-dx/blob/master/mdapi/pmd-codescan.md">PMD</a> that attempt to highlight possible violations and vulnerabilities within ‘static’ (non-running) source code by using techniques such as Taint Analysis and Data Flow Analysis</p>
</li>
<li>
<p>Integrated with IDEs like VSCode, <a href="https://marketplace.visualstudio.com/items?itemName=mohanChinnappan.apex-pmd-code-scanner">VSCode Apex PMD
</a></p>
</li>
</ul>
<p><a href="https://github.com/mohan-chinnappan-n/vscode-apex-pmd/raw/master/images/code-scan-vscode-6.gif"><img src="https://github.com/mohan-chinnappan-n/vscode-apex-pmd/raw/master/images/code-scan-vscode-6.gif" alt="Demo of PMD VScode Extn" /></a></p>
<h2 id="new-pmd-report"><a class="header" href="#new-pmd-report">New PMD report</a></h2>
<h3 id="demo-will-be-part-of-pmd-6500"><a class="header" href="#demo-will-be-part-of-pmd-6500">Demo (will be part of PMD 6.50.0)</a></h3>
<p><a href="https://raw.githubusercontent.com/mohan-chinnappan-n/kural-docs/master/img/new_pmd-report-1.gif"><img src="https://raw.githubusercontent.com/mohan-chinnappan-n/kural-docs/master/img/new_pmd-report-1.gif" alt="PMD Report" /></a></p>
<h2 id="screenshot"><a class="header" href="#screenshot">Screenshot</a></h2>
<p><a href="https://github.com/mohan-chinnappan-n/cli-dx/raw/master/mdapi/img/pmd-report-2.1.png"><img src="https://github.com/mohan-chinnappan-n/cli-dx/raw/master/mdapi/img/pmd-report-2.1.png" alt="PMD Report Screenshot" /></a></p>
<h1 id="eslint"><a class="header" href="#eslint">ESLint</a></h1>
<ul>
<li><a href="https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint">ESLint VS Code Extension</a></li>
</ul>
<h2 id="eslinting"><a class="header" href="#eslinting">ESLinting</a></h2>
<ul>
<li><a href="https://mohan-chinnappan-n5.github.io/code-quality/img/eslint-1.png"><img src="https://mohan-chinnappan-n5.github.io/code-quality/img/eslint-1.png" alt="ESLint in LWC" /></a>!</li>
</ul>
<h1 id="lightning-lint-service"><a class="header" href="#lightning-lint-service">Lightning Lint Service</a></h1>
<ul>
<li><a href="https://mohansun-slds-lint.herokuapp.com/">Salesforce Lightning Code Scanner</a></li>
</ul>
<h1 id="inclusive-language"><a class="header" href="#inclusive-language">Inclusive Language</a></h1>
<ul>
<li><a href="https://github.com/mohan-chinnappan-n/cli-dx/blob/master/inclusive/index.md">Inclusive language scanning</a></li>
<li><a href="https://marketplace.visualstudio.com/items?itemName=get-woke.vscode-woke">Woke VS Code Extension</a>
<a href="https://raw.githubusercontent.com/get-woke/vscode-woke/main/assets/demo.gif"><img src="https://raw.githubusercontent.com/get-woke/vscode-woke/main/assets/demo.gif" alt="Woke Demo" /></a></li>
</ul>
<h1 id="code-review"><a class="header" href="#code-review">Code Review</a></h1>
<ul>
<li>Peer Code Review
<ul>
<li>Individual programmers are less than <strong>50% efficient</strong> at finding bugs in their own software. </li>
</ul>
</li>
<li>Code Walk-thru</li>
</ul>
<table><thead><tr><th>Goals</th></tr></thead><tbody>
<tr><td>The overall code health of code base is improving over time</td></tr>
<tr><td>The codebase stays consistent, maintainable</td></tr>
</tbody></table>
<ul>
<li>
<p>What to look for in a Code Review?</p>
<ul>
<li>The developers should test code well-enough that they work correctly by the time they get to code review. </li>
</ul>
</li>
</ul>
<table><thead><tr><th>Item</th><th>Comments</th></tr></thead><tbody>
<tr><td>Design</td><td>Interactions in the code makes sense?</td></tr>
<tr><td>Functionality</td><td>Code is the manifest of what the developer intended?</td></tr>
<tr><td>Complexity</td><td>Is the code is more complex than it should be?. “can’t be understood quickly by code readers.” Over-engineering, where developers have made the code more generic than it needs to be</td></tr>
<tr><td>Tests</td><td>Unit, integration, or end-to-end tests</td></tr>
<tr><td>Naming</td><td>Developer pick good names for everything?</td></tr>
<tr><td>Comments</td><td>Developer has written clear comments in understandable Language. Comment should explain why some code exists, and should not be explaining what some code is doing. Regular expressions and complex algorithms often benefit greatly from comments that explain what they’re doing, for example. Note that comments are different from <strong>documentation</strong> of classes, modules, or functions, which should instead express the purpose of a piece of code, how it should be used, and how it behaves when used</td></tr>
<tr><td>Style</td><td>Developer follows the published style for a given programming language</td></tr>
<tr><td>Documentation</td><td>READMEs and generated reference docs</td></tr>
</tbody></table>
<ul>
<li>Code Review Summary</li>
</ul>
<table><thead><tr><th>Item</th></tr></thead><tbody>
<tr><td>The code is well-designed.</td></tr>
<tr><td>The functionality is good for the users of the code.</td></tr>
<tr><td>Any UI changes are sensible and look good.</td></tr>
<tr><td>Any parallel programming is done safely.</td></tr>
<tr><td>The code isn’t more complex than it needs to be.</td></tr>
<tr><td>The developer isn’t implementing things they might need in the future but don’t know they need now.</td></tr>
<tr><td>Code has appropriate unit tests.</td></tr>
<tr><td>Tests are well-designed.</td></tr>
<tr><td>The developer used clear names for everything.</td></tr>
<tr><td>Comments are clear and useful, and mostly explain why instead of what.</td></tr>
<tr><td>Code is appropriately documented</td></tr>
<tr><td>The code conforms to our style guides</td></tr>
</tbody></table>
<h2 id="note-to-the-developers"><a class="header" href="#note-to-the-developers">Note to the developers</a></h2>
<table><thead><tr><th>Item</th><th>Comments</th></tr></thead><tbody>
<tr><td>Don’t Take it Personally</td><td>The goal of review is to maintain the quality of the codebase and the products</td></tr>
<tr><td>Fix the Code</td><td>1. Clarify the code 2.code comment that explains why the code is there (if required) 3. Modify the code</td></tr>
<tr><td>Think Collaboratively</td><td>If you disagree with the reviewer, find ways to collaborate: ask for clarifications, discuss pros/cons, and provide explanations of why your method of doing things is better for the codebase</td></tr>
</tbody></table>
<h1 id="apex-best-practices"><a class="header" href="#apex-best-practices">Apex Best Practices</a></h1>
<table><thead><tr><th>Practice</th></tr></thead><tbody>
<tr><td>1. Bulkify your Code</td></tr>
<tr><td>2. Avoid SOQL Queries or DML statements inside FOR Loops</td></tr>
<tr><td>3. Bulkify your Helper Methods</td></tr>
<tr><td>4. Using Collections, Streamlining Queries, and Efficient For Loops</td></tr>
<tr><td>5. Streamlining Multiple Triggers on the Same Object</td></tr>
<tr><td>6. Querying Large Data Sets</td></tr>
<tr><td>7. Use of the Limits Apex Methods to Avoid Hitting Governor Limits</td></tr>
<tr><td>8. Use @future Appropriately</td></tr>
<tr><td>9. Writing Test Methods to Verify Large Datasets</td></tr>
<tr><td>10. Avoid Hardcoding IDs</td></tr>
</tbody></table>
<ul>
<li><a href="https://mohan-chinnappan-n.github.io/sfdc/bp-apex.html#/1">Refer: APEX BEST PRACTICES</a></li>
</ul>
<h2 id="naming-conventions"><a class="header" href="#naming-conventions">Naming Conventions</a></h2>
<ul>
<li>Based on <a href="https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html">Java Naming Conventions</a></li>
</ul>
<table><thead><tr><th>Item</th><th>Notes</th><th>Example</th></tr></thead><tbody>
<tr><td>Class Name</td><td>Should be unique, begin with an Uppercase letter. Do not contain underscores or spaces (except from the prefix and suffix).  Should be nouns in mixed cases, with first letter of each interval word capitalized</td><td>AccountController</td></tr>
<tr><td>Variable Name</td><td>should be in mixed case (camelCase) with a lowercase first letter. Internal words start with capital letters</td><td>geocodingUrl</td></tr>
<tr><td>Method Name</td><td>Should be verbs, in mixed case with the first letter lowercase, with the first letter of each internal word capitalized - camelCase</td><td>getPagedPropertyList(...)</td></tr>
<tr><td>Constants</td><td>Class constants should be all UPPERCASE with words separated by underscores</td><td>private static final String BASE_URL = 'https://nominatim.openstreetmap.org/search?format=json'</td></tr>
<tr><td>Trigger</td><td><ObjectName>Trigger, should follow Salesforce Trigger  – One trigger per object</td><td></td></tr>
</tbody></table>
<h1 id="test-driven-development"><a class="header" href="#test-driven-development">Test Driven Development</a></h1>
<ul>
<li>Test Driven Development(TDD) = Test First Development(TFD) + refactoring</li>
<li>First write the test code before the functional code.</li>
<li>it's a way to get SelfTestingCode</li>
</ul>
<p><img src="https://mohan-chinnappan-n5.github.io/code-quality/img/tdd-1.png" alt="TDD" /></p>
<table><thead><tr><th>Steps</th><th>Comments</th></tr></thead><tbody>
<tr><td>Write a quick test</td><td>Basically just enough code to fail</td></tr>
<tr><td>Run the test</td><td>It should fail</td></tr>
<tr><td>Write functional code</td><td>So that pass the test</td></tr>
<tr><td>Finally, run the test</td><td>To check whether it has passed</td></tr>
<tr><td>Re-factor until tests PASS to continue with further development</td><td></td></tr>
</tbody></table>
<h1 id="lwc-best-practices"><a class="header" href="#lwc-best-practices">LWC Best Practices</a></h1>
<ul>
<li><a href="https://github.com/mohan-chinnappan-n/lwc-bp/blob/master/lwc-bp.md">LWC Best Practices - Naming, Wire, LDS </a></li>
<li><a href="https://mohan-chinnappan-n2.github.io/2019/lex/perf.html">Lightning Performance</a></li>
</ul>
<h1 id="soql-best-practices"><a class="header" href="#soql-best-practices">SOQL Best Practices</a></h1>
<ul>
<li><a href="https://mohan-chinnappan-n.github.io/sfdc/soql-sosl-bp.html#/home">Best Practices</a></li>
</ul>
<h1 id="lightning-performance-best-practices"><a class="header" href="#lightning-performance-best-practices">Lightning Performance Best Practices</a></h1>
<ul>
<li><a href="https://mohan-chinnappan-n.github.io/sfdc/lx-bp.html#/home">Best Practices</a></li>
</ul>
<h1 id="large-data-volumes"><a class="header" href="#large-data-volumes">Large Data Volumes</a></h1>
<ul>
<li><a href="https://mohan-chinnappan-n.github.io/sfdc/ldv.html#/home">Best Practices</a></li>
</ul>
<h1 id="lwc-test-coverage---jest"><a class="header" href="#lwc-test-coverage---jest">LWC Test Coverage - Jest</a></h1>
<table><thead><tr><th>Write Jest tests to:</th></tr></thead><tbody>
<tr><td>Test a component in isolation</td></tr>
<tr><td>Test a component’s public API (@api properties and methods, events)</td></tr>
<tr><td>Test basic user interaction (clicks)</td></tr>
<tr><td>Verify the DOM output of a component</td></tr>
<tr><td>Verify that events fire when expected</td></tr>
</tbody></table>
<h2 id="simple-jest-demo"><a class="header" href="#simple-jest-demo">Simple Jest Demo</a></h2>
<p><a href="https://mohan-chinnappan-n5.github.io/code-quality/img/jest-simple-0.webm.gif"><img src="https://mohan-chinnappan-n5.github.io/code-quality/img/jest-simple-0.webm.gif" alt="Jest Demo" /></a></p>
<pre><code>// app.js
function sum(a, b) {
  return a + b;
}
module.exports = sum;
</code></pre>
<pre><code>// app.test.js
const sum = require('./app');

test('adds 1 + 2 to equal 3', () =&gt; {
  expect(sum(1, 2)).toBe(3);
});

</code></pre>
<pre><code>yarn test
</code></pre>
<pre><code>yarn test
yarn run v1.22.17
$ jest
 PASS  ./app.test.js
  ✓ adds 1 + 2 to equal 3 (1 ms)

Test Suites: 1 passed, 1 total
Tests:       1 passed, 1 total
Snapshots:   0 total
Time:        0.519 s, estimated 1 s
Ran all test suites.
✨  Done in 1.76s.

</code></pre>
<h2 id="lwc-example-unedited"><a class="header" href="#lwc-example-unedited">LWC Example (unedited)</a></h2>
<p><a href="https://mohan-chinnappan-n5.github.io/code-quality/img/jest-simple-1.webm.gif"><img src="https://mohan-chinnappan-n5.github.io/code-quality/img/jest-simple-1.webm.gif" alt="LWC jest demo" /></a></p>
<h2 id="using-sa11y-for-508-compliance"><a class="header" href="#using-sa11y-for-508-compliance">Using Sa11y for 508 compliance</a></h2>
<p><a href="https://mohan-chinnappan-n5.github.io/code-quality/img/jest-508-1.webm.gif"><img src="https://mohan-chinnappan-n5.github.io/code-quality/img/jest-508-1.webm.gif" alt="LWC Jest 508 test" /></a></p>
<h2 id="more-info"><a class="header" href="#more-info">More info</a></h2>
<p><a href="https://www.youtube.com/watch?v=NH0YQKJMTKg"><img src="https://img.youtube.com/vi/NH0YQKJMTKg/0.jpg" alt="Testing Lightning Web Components" /></a></p>
<p><a href="https://www.youtube.com/watch?v=ScqZisOBbUM"><img src="https://img.youtube.com/vi/ScqZisOBbUM/0.jpg" alt="Automated Accessibility Tests with sa11y" /></a></p>
<ul>
<li><a href="https://github.com/trailheadapps/lwc-recipes">LWC Recipes</a></li>
</ul>
<h1 id="visualizing-code-coverage"><a class="header" href="#visualizing-code-coverage">Visualizing Code Coverage</a></h1>
<ul>
<li>This demo shows how to visualize code coverage in VS Code
<img src="https://raw.githubusercontent.com/mohan-chinnappan-n/kural-docs/master/test-coverage/code-coverage-viz-1.webm.gif" alt="Demo" />
<a href="https://www.youtube.com/watch?v=-fwY2Wyhhao">How to setup video - Enabling Apex Code Coverage Overlay in VS Code | Developer Quick Takes</a></li>
</ul>
<h1 id="lwc-i18n"><a class="header" href="#lwc-i18n">LWC i18n</a></h1>
<h2 id="demo-showing-how-to-use-custom-labels-for-localization"><a class="header" href="#demo-showing-how-to-use-custom-labels-for-localization">Demo showing how to use Custom Labels for localization</a></h2>
<ul>
<li>
<p>English (US)</p>
</li>
<li>
<p>French</p>
</li>
<li>
<p>Spanish</p>
</li>
<li>
<p><a href="https://raw.githubusercontent.com/mohan-chinnappan-n/cli-dx/master/i18n/img/lwc-118n-1.webm.gif"><img src="https://raw.githubusercontent.com/mohan-chinnappan-n/cli-dx/master/i18n/img/lwc-118n-1.webm.gif" alt="Demo" /></a></p>
</li>
<li>
<p><a href="https://github.com/mohan-chinnappan-n/cli-dx/blob/master/mdapi/ls/list.md">Refer: How to list custom labels using DX</a></p>
</li>
<li>
<p>Example:</p>
</li>
</ul>
<pre><code>sfdx mohanc:mdapi:ls -u mohan.chinnappan.n.sel@gmail.com -i listCL.json -t CustomLabel 
[ 'Greeting' ]
{
    &quot;fullName&quot;: &quot;Greeting&quot;,
    &quot;language&quot;: &quot;en_US&quot;,
    &quot;protected&quot;: &quot;true&quot;,
    &quot;shortDescription&quot;: &quot;Greeting&quot;,
    &quot;value&quot;: &quot;Hello World From LWC&quot;
}
</code></pre>
<h1 id="resources-1"><a class="header" href="#resources-1">Resources</a></h1>
<ul>
<li>
<p><a href="https://google.github.io/eng-practices/">Google Engineering Practices Documentation</a></p>
</li>
<li>
<p><a href="https://www.thoughtworks.com/insights/blog/test-driven-development-best-thing-has-happened-software-design">Test Driven Development is the best thing that has happened to software design</a></p>
</li>
<li>
<p><a href="https://www.youtube.com/watch?v=VVSSga1Olt8">First 10 minutes of TDD intro episode 1 - Kent Beck </a></p>
</li>
<li>
<p><a href="http://butunclebob.com/ArticleS.UncleBob.TheThreeRulesOfTdd">TheThreeRulesOfTdd - Uncle Bob</a></p>
</li>
<li>
<p><a href="https://www.perforce.com/blog/sca/what-code-quality-overview-how-improve-code-quality">What is Code Quality and how to improve it</a></p>
</li>
<li>
<p><a href="https://cpojer.net/posts/building-a-javascript-testing-framework">Building a JavaScript Testing Framework</a></p>
</li>
<li>
<p><a href="https://owasp.org/www-community/controls/Static_Code_Analysis">Static Code Analysis</a></p>
</li>
<li>
<p><a href="https://github.com/mohan-chinnappan-n/cli-dx/blob/master/source/validation.md">Code Validator</a></p>
</li>
<li>
<p><a href="https://mohan-chinnappan-n.github.io/sfdc/fs-cloud/model-sfdc.html">SFDC Data Model</a></p>
</li>
<li>
<p><a href="https://developer.salesforce.com/docs/atlas.en-us.apexcode.meta/apexcode/apex_dev_guide.htm">Apex Developer Guide</a></p>
</li>
</ul>
<h1 id="generate"><a class="header" href="#generate">Generate</a></h1>
<pre><code>sfdx mohanc:slides:gen -i cq.md -o cq.md.html -t 'Notes on Code Quality'

</code></pre>
<p><a href="https://github.com/mohan-chinnappan-n5/mohan-chinnappan-n5.github.io/blob/master/code-quality/cq.md">Page View</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="pmd-apex-code-scan-using-dx"><a class="header" href="#pmd-apex-code-scan-using-dx">PMD Apex code scan using DX</a></h1>
<p><img src="cq/../img/cover/chromecast-sea-6.jpg" alt="sea 6" /></p>
<ul>
<li>Interested in VS Code Extension for PMD Apex Code scan?
<ul>
<li><a href="https://marketplace.visualstudio.com/items?itemName=mohanChinnappan.apex-pmd-code-scanner">VSCode Apex PMD</a></li>
</ul>
</li>
</ul>
<hr />
<h2 id="topics-9"><a class="header" href="#topics-9">Topics</a></h2>
<ul>
<li><a href="cq/pmd.html#cicd">How to use in CI/CD pipeline</a></li>
<li><a href="cq/pmd.html#gha">Github Actions</a></li>
<li><a href="cq/pmd.html#ruleset">Rulesets</a></li>
</ul>
<h2 id="make-sure-you-have-java-installed"><a class="header" href="#make-sure-you-have-java-installed">Make sure you have java installed</a></h2>
<pre><code>java --version
openjdk 11.0.14.1 2022-02-08
OpenJDK Runtime Environment Homebrew (build 11.0.14.1+0)
OpenJDK 64-Bit Server VM Homebrew (build 11.0.14.1+0, mixed mode)

</code></pre>
<h2 id="download-and-install-pmd-distribution---pmd-bin-6470"><a class="header" href="#download-and-install-pmd-distribution---pmd-bin-6470">Download and install pmd distribution - pmd-bin-6.47.0</a></h2>
<ul>
<li>
<p>from <a href="https://github.com/mohan-chinnappan-n/cli-dx/blob/master/mdapi/dist/pmd-bin-6.47.0.zip">pmd-bin-6.47.0</a></p>
</li>
<li>
<p>unzip the file pmd-bin-6.47.0.zip</p>
</li>
</ul>
<pre><code>jar xvf pmd-bin-6.47.0.zip
</code></pre>
<ul>
<li>go to bin folder of the extracted pmd-bin-6.47.0.zip</li>
<li>do this copy</li>
</ul>
<pre><code>cd pmd-bin-6.47.0/bin
cp run.sh pmd-run.sh 
</code></pre>
<ul>
<li>put this folder: <code>pmd-bin-6.47.0/bin</code> in your PATH (<code>~/.zshrc or ~/.bashrc</code>)</li>
<li>example in ~/.zshrc</li>
</ul>
<pre><code>
# PMD env var holds the location of your PMD install
export PMD=&quot;/Users/mchinnappan/node-pmd/pmd-bin-6.47.0&quot;
# let us put the bin folder of the PMD in path
export PATH=&quot;$PATH:$PMD/bin&quot;

</code></pre>
<ul>
<li>make it executable <code>chmod +x pmd-run.sh</code></li>
</ul>
<h2 id="extract-apex-classes-from-your-org"><a class="header" href="#extract-apex-classes-from-your-org">Extract Apex Classes from your Org</a></h2>
<h3 id="login-into-the-org"><a class="header" href="#login-into-the-org">Login into the Org</a></h3>
<pre><code>sfdx force:auth:web:login
Successfully authorized mohan.chinnappan.n_ea2@gmail.com with org ID 00D3h000007R1LuEAK

</code></pre>
<h3 id="get-the-apex-classes-using-dx"><a class="header" href="#get-the-apex-classes-using-dx">Get the Apex Classes using DX</a></h3>
<pre><code>sfdx mohanc:mdapi:retrieve -u mohan.chinnappan.n_ea2@gmail.com -t &quot;ApexClass&quot;

cd /tmp/
/tmp  &gt;mkdir apex
/tmp  &gt;cd apex

/tmp/apex  &gt;sfdx mohanc:mdapi:checkRetrieveStatus -u mohan.chinnappan.n_ea2@gmail.com -i &quot;09S3h000006DK3lEAG&quot;
jar xvf  09S3h000006DK3lEAG.zip


</code></pre>
<h2 id="download-the-apex_rulesetxml-to-your-pmd-folder"><a class="header" href="#download-the-apex_rulesetxml-to-your-pmd-folder">Download the apex_ruleset.xml to your ~/.pmd folder</a></h2>
<ul>
<li>create folder <code>mkdir ~/.pmd</code></li>
<li>copy the apex_ruleset.xml from:
<ul>
<li><a href="https://raw.githubusercontent.com/mohan-chinnappan-n/cli-dx/master/mdapi/pmd-rules/apex_ruleset.xml">apex_ruleset.xml</a></li>
<li>to the folder ~/.pmd</li>
</ul>
</li>
</ul>
<hr />
<p><a name='suppress'></a></p>
<h2 id="check-for-suppresswarning-annotations-in-the-code"><a class="header" href="#check-for-suppresswarning-annotations-in-the-code">Check for @SuppressWarning annotations in the code</a></h2>
<pre><code class="language-bash">grep -irn '@SuppressWarnings' unpackaged/classes 
</code></pre>
<pre><code>unpackaged/classes/GeocodingService.cls:1:@SuppressWarnings('PMD.ExcessiveParameterList')

</code></pre>
<h3 id="using-vs-code"><a class="header" href="#using-vs-code">Using VS Code</a></h3>
<h2 id="-3"><a class="header" href="#-3"><img src="https://raw.githubusercontent.com/mohan-chinnappan-n/cli-dx/master/mdapi/img/pmd-supress-1.png" alt="VSCode PMD Suppress" /></a></h2>
<h2 id="run-pmd-csv-output"><a class="header" href="#run-pmd-csv-output">Run pmd csv output</a></h2>
<ul>
<li>your apex class files are at: /tmp/apex/unpackaged/classes/</li>
<li>csv output</li>
</ul>
<pre><code>pmd-run.sh pmd -R ~/.pmd/apex_ruleset.xml -d /tmp/apex/unpackaged/classes/ -f csv &gt; /tmp/apex/pmd-results.csv


</code></pre>
<p><a name="cicd"></a></p>
<h2 id="script-for-cicd-pipeline-cicd-pmdsh"><a class="header" href="#script-for-cicd-pipeline-cicd-pmdsh">Script for CI/CD Pipeline <a href="https://github.com/mohan-chinnappan-n/cli-dx/blob/master/mdapi/cicd-pmd.sh">cicd-pmd.sh</a></a></h2>
<pre><code class="language-bash"># Script for pipeline
# Bails out if count of P1,P2 and P3 are not zero
# -----------------------------------------

#----- configure the following to meet your needs ----
RULESET=~/.pmd/apex_ruleset.xml
MSG=&quot;Number of P1,P2 and P3 issues are&quot;
THRESHOLD=4
CODE=/tmp/apex/unpackaged/classes/
#-----------------------------------------------------

# Run the pmd
echo pmd-run.sh pmd -R  $RULESET -d $CODE  -f csv &gt; results.csv
pmd-run.sh pmd -R  $RULESET -d $CODE  -f csv &gt; results.csv


# query the results using SQL
echo &quot;SELECT COUNT(*) AS CNT   FROM CSV(\&quot;results.csv\&quot;, {headers:true}) WHERE Priority &lt; $THRESHOLD&quot; &gt; q.sql
cat q.sql
sfdx mohanc:data:query:sql -q q.sql  &gt; out.json

# check for the errors
nerrors=`sfdx mohanc:data:jq -f  '.[].CNT'  -i out.json`
echo &quot;nerrors: $nerrors&quot;

if [ &quot;$nerrors&quot; != 0 ]
then
  echo &quot;$MSG:  $nerrors. Stopping the deployment!&quot;
  exit 2
fi
echo &quot;Continue the deployment...&quot;

</code></pre>
<h3 id="sample-run"><a class="header" href="#sample-run">Sample Run</a></h3>
<pre><code>bash cicd-pmd.sh 
Jan 10, 2023 9:42:14 PM net.sourceforge.pmd.PMD encourageToUseIncrementalAnalysis
WARNING: This analysis could be faster, please consider using Incremental Analysis: https://pmd.github.io/pmd-6.47.0/pmd_userdocs_incremental_analysis.html
nerrors: 0
Continue the deployment...
</code></pre>
<h3 id="sample-run-with-bailing-out"><a class="header" href="#sample-run-with-bailing-out">Sample Run with bailing out</a></h3>
<p><img src="cq/img/pmd-cicd-1.png" alt="Sample Run" /></p>
<p><a name='gha'></a></p>
<h2 id="github-actions---pmd-workflow-bailing-out-when-violations-count-is-not-zero"><a class="header" href="#github-actions---pmd-workflow-bailing-out-when-violations-count-is-not-zero">Github Actions - PMD workflow bailing out when violations count is not zero</a></h2>
<pre><code class="language-yaml"> - uses: pmd/pmd-github-action@v1
        id: pmd
        with:
          version: '6.40.0'
          sourcePath: 'mc2Project/force-app/main/default/classes'
          rulesets: 'pmd/rulesets/apex_ruleset.xml'
      
      - name: Fail build if there are violations
        if: steps.pmd.outputs.violations != 0
        run: exit 1
</code></pre>
<h3 id="open-the-results-csv-file"><a class="header" href="#open-the-results-csv-file">Open the results csv file</a></h3>
<pre><code>open /tmp/apex/pmd-results.csv

</code></pre>
<ul>
<li><a href="https://raw.githubusercontent.com/mohan-chinnappan-n/cli-dx/master/mdapi/img/pmd-results-1.png">Sample CSV Ouput</a></li>
</ul>
<hr />
<h2 id="run-pmd-html-output"><a class="header" href="#run-pmd-html-output">Run pmd html output</a></h2>
<ul>
<li>your apex class files are at: /tmp/apex/unpackaged/classes/</li>
<li>html output</li>
</ul>
<pre><code>pmd-run.sh pmd -R ~/.pmd/apex_ruleset.xml -d /tmp/apex/unpackaged/classes/ -f html &gt; /tmp/apex/pmd-results.html
</code></pre>
<h3 id="open-the-results-html-file"><a class="header" href="#open-the-results-html-file">Open the results html file</a></h3>
<pre><code>open /tmp/apex/pmd-results.html

</code></pre>
<p><img src="https://raw.githubusercontent.com/mohan-chinnappan-n/cli-dx/master/mdapi/img/pmd-results-1.png" alt="Sample html results" /></p>
<hr />
<h2 id="run-pmd-enhanced-html-output"><a class="header" href="#run-pmd-enhanced-html-output">Run pmd enhanced html output</a></h2>
<pre><code>pmd-run.sh pmd -R ~/.pmd/apex_ruleset.xml -d ./unpackaged/classes -f xslt -property xsltFilename=html-report-v2.xslt &gt; pmd-report.html

</code></pre>
<ul>
<li><a href="https://raw.githubusercontent.com/mohan-chinnappan-n/pmd/master/pmd-core/etc/xslt/html-report-v2.xslt">html-report-v2.xslt</a></li>
</ul>
<h3 id="screenshot-1"><a class="header" href="#screenshot-1">Screenshot</a></h3>
<ul>
<li><img src="https://raw.githubusercontent.com/mohan-chinnappan-n/cli-dx/master/mdapi/img/pmd-report-2.1.png" alt="PMD report screenshot" /></li>
</ul>
<h3 id="demo-3"><a class="header" href="#demo-3">Demo</a></h3>
<p><img src="https://raw.githubusercontent.com/mohan-chinnappan-n/kural-docs/master/img/new_pmd-report-1.gif" alt="New HTML Report demo" /></p>
<p><a name='ruleset'></a></p>
<h2 id="rule-set-info"><a class="header" href="#rule-set-info">Rule set info</a></h2>
<ul>
<li>
<p>P1 and P2 are  from the PMD default rulesets:</p>
</li>
<li>
<p>As shown here:
<a href="https://mohan-chinnappan-n5.github.io/pmd/def-apex-rulesets.html">Default</a></p>
</li>
<li>
<p>The ruleset that is we use is on the top these default rulesets.</p>
</li>
<li>
<p>The  ruleset  (which most of the PMD customers use ):</p>
<ul>
<li><a href="https://mohan-chinnappan-n5.github.io/pmd/ruleset.html">Apex Ruleset</a></li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="comments"><a class="header" href="#comments">Comments</a></h1>
<h2 id="topics-10"><a class="header" href="#topics-10">Topics</a></h2>
<ul>
<li><a href="cq/comments.html#apexcomments">Standards for Apex Code Comments</a></li>
<li><a href="cq/comments.html#tools">Tools to check for Apex Code Comments</a></li>
</ul>
<hr />
<p><a name='apexcomments'></a></p>
<h2 id="apex-code-comments"><a class="header" href="#apex-code-comments">Apex Code Comments</a></h2>
<h2 id="class-level"><a class="header" href="#class-level">Class level</a></h2>
<table><thead><tr><th>token</th><th>description</th></tr></thead><tbody>
<tr><td>@author</td><td>the author of the class</td></tr>
<tr><td>@date</td><td>the date the class was first implemented</td></tr>
<tr><td>@group</td><td>a group to display this class under, in the menu hierarchy</td></tr>
<tr><td>@group-content</td><td>a relative path to a static html file that provides content about the group</td></tr>
<tr><td>@description</td><td>one or more lines that provide an overview of the class</td></tr>
</tbody></table>
<pre><code>/*******************************************************************************************
* @name         FruitService 
* @author       FirstName LastName &lt;auth@email.com&gt;
* @date         01/02/2022
* @group        Fruit Services
* @description  This class contains all methods related to managing Fruits in Salesforce.  
*******************************************************************************************/

/* 
MODIFICATION LOG
* Version          Developer          Date               Description
*-------------------------------------------------------------------------------------------
*  1.0              FullName          01/02/2022          Initial Creation                                                      
******************************************************************************************
*/
</code></pre>
<h2 id="method-level"><a class="header" href="#method-level">Method level</a></h2>
<table><thead><tr><th>token</th><th>description</th></tr></thead><tbody>
<tr><td>@description</td><td>one or more lines that provide an overview of the method</td></tr>
<tr><td>@param <em>param name</em></td><td>a description of what the parameter does</td></tr>
<tr><td>@return</td><td>a description of the return value from the method</td></tr>
<tr><td>@example</td><td>Example code usage. This will be wrapped in <code> tags to preserve whitespace</td></tr>
</tbody></table>
<pre><code>/**************************************************************************************
* @description  This method finds count of the given Fruit  and returns it
* @param		String - name - Fruit name
* @return       Integer - Value retrieved . 
* @example     
* FruitService.getFruitsCount('mango')
**************************************************************************************/ 
public static IntegerI(String name) {
   // ... 
   
}
</code></pre>
<p><a name='tools'></a></p>
<h2 id="tools-to-check-for-the-comments-in-the-repo"><a class="header" href="#tools-to-check-for-the-comments-in-the-repo">Tools to check for the comments in the repo</a></h2>
<pre><code>Check for comments in given folder with  Apex classes

USAGE
  $ sfdx mohanc:regex:apex:checkComments2 [-d &lt;string&gt;] [--json] [--loglevel 
  trace|debug|info|warn|error|fatal|TRACE|DEBUG|INFO|WARN|ERROR|FATAL]

OPTIONS
  -d, --directoryname=directoryname                                                 Directory containing Apex Class
                                                                                    files

  --json                                                                            format output as json

  --loglevel=(trace|debug|info|warn|error|fatal|TRACE|DEBUG|INFO|WARN|ERROR|FATAL)  [default: warn] logging level for
                                                                                    this command invocation

EXAMPLE


    ** Check for comments in given folder with  Apex classes **
  
    $ sfdx  mohanc:regex:apex:checkComments2 -d &lt;directory containing source code&gt;
  

</code></pre>
<ul>
<li>You can redirect the output to a file like this to open in your spreadsheet program</li>
</ul>
<pre><code>sfdx mohanc:regex:apex:checkComments2 -d ascent-develop/src/sales/channel-fundamentals/main/default/classes &gt; REPO_comments2-status-jul-12-2022.csv

</code></pre>
<h2 id="references-9"><a class="header" href="#references-9">References</a></h2>
<ul>
<li><a href="https://github.com/SalesforceFoundation/ApexDoc/blob/master/README.md">ApexDoc</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="apex-code-test-coverage"><a class="header" href="#apex-code-test-coverage">Apex Code Test Coverage</a></h1>
<pre><code class="language-sql">

SELECT
 Id
,IsDeleted
,CreatedDate
,CreatedById
,LastModifiedDate
,LastModifiedById
,SystemModstamp
,ApexTestClassId
,TestMethodName
,ApexClassOrTriggerId
,NumLinesCovered
,NumLinesUncovered
,Coverage

FROM ApexCodeCoverage
</code></pre>
<h2 id="demo-4"><a class="header" href="#demo-4">Demo</a></h2>
<p><img src="cq/img/apexTestCoverage-1.webm.gif" alt="Test Coverage demo" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="lwc-linting-using-eslint"><a class="header" href="#lwc-linting-using-eslint">LWC Linting using ESLint</a></h1>
<ul>
<li>ESLint is a tool for identifying and reporting on patterns found in ECMAScript/JavaScript code, with the goal of making <strong>code more consistent and avoiding bugs</strong>.</li>
<li>ES stands for EcmaScript</li>
</ul>
<h2 id="lwceslint-plugin-lwc"><a class="header" href="#lwceslint-plugin-lwc">@lwc/eslint-plugin-lwc</a></h2>
<pre><code>$ npm install eslint @babel/core @babel/eslint-parser @lwc/eslint-plugin-lwc --save-dev

</code></pre>
<pre><code>cat .eslintrc
</code></pre>
<pre><code class="language-json">{
    &quot;parser&quot;: &quot;@babel/eslint-parser&quot;,
    &quot;parserOptions&quot;: {
        &quot;requireConfigFile&quot;: false,
        &quot;babelOptions&quot;: {
            &quot;parserOpts&quot;: {
                &quot;plugins&quot;: [&quot;classProperties&quot;, [&quot;decorators&quot;, { &quot;decoratorsBeforeExport&quot;: false }]]
            }
        }
    },

    &quot;plugins&quot;: [&quot;@lwc/eslint-plugin-lwc&quot;],

    &quot;rules&quot;: {
        &quot;@lwc/lwc/no-deprecated&quot;: &quot;error&quot;,
        &quot;@lwc/lwc/valid-api&quot;: &quot;error&quot;,
        &quot;@lwc/lwc/no-document-query&quot;: &quot;error&quot;
    }
}
</code></pre>
<h2 id="new-sfdx-project"><a class="header" href="#new-sfdx-project">New SFDX Project</a></h2>
<ul>
<li>ESLint plugin already included in the new SFDX Project which was created with</li>
</ul>
<pre><code>sfdx force:project:create  -n ProjectName
</code></pre>
<ul>
<li>run <code> npm install</code> to install the ESLint plugin and other dependencies</li>
</ul>
<pre><code>cat .eslintignore 
</code></pre>
<pre><code>**/lwc/**/*.css
**/lwc/**/*.html
**/lwc/**/*.json
**/lwc/**/*.svg
**/lwc/**/*.xml
**/aura/**/*.auradoc
**/aura/**/*.cmp
**/aura/**/*.css
**/aura/**/*.design
**/aura/**/*.evt
**/aura/**/*.json
**/aura/**/*.svg
**/aura/**/*.tokens
**/aura/**/*.xml
**/aura/**/*.app
.sfdx

</code></pre>
<ul>
<li>Create a lwc </li>
</ul>
<pre><code>sfdx force:lightning:component:create --type lwc -n HelloPeach
</code></pre>
<pre><code>cat package.json     
</code></pre>
<pre><code class="language-json">{
  &quot;name&quot;: &quot;salesforce-app&quot;,
  &quot;private&quot;: true,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;Salesforce App&quot;,
  &quot;scripts&quot;: {
    &quot;lint&quot;: &quot;eslint **/{aura,lwc}/**&quot;,
    &quot;test&quot;: &quot;npm run test:unit&quot;,
    &quot;test:unit&quot;: &quot;sfdx-lwc-jest&quot;,
    &quot;test:unit:watch&quot;: &quot;sfdx-lwc-jest --watch&quot;,
    &quot;test:unit:debug&quot;: &quot;sfdx-lwc-jest --debug&quot;,
    &quot;test:unit:coverage&quot;: &quot;sfdx-lwc-jest --coverage&quot;,
    &quot;prettier&quot;: &quot;prettier --write \&quot;**/*.{cls,cmp,component,css,html,js,json,md,page,trigger,xml,yaml,yml}\&quot;&quot;,
    &quot;prettier:verify&quot;: &quot;prettier --list-different \&quot;**/*.{cls,cmp,component,css,html,js,json,md,page,trigger,xml,yaml,yml}\&quot;&quot;,
    &quot;postinstall&quot;: &quot;husky install&quot;,
    &quot;precommit&quot;: &quot;lint-staged&quot;
  },
  &quot;devDependencies&quot;: {
    &quot;@lwc/eslint-plugin-lwc&quot;: &quot;^1.1.2&quot;,
    &quot;@prettier/plugin-xml&quot;: &quot;^2.0.1&quot;,
    &quot;@salesforce/eslint-config-lwc&quot;: &quot;^3.2.3&quot;,
    &quot;@salesforce/eslint-plugin-aura&quot;: &quot;^2.0.0&quot;,
    &quot;@salesforce/eslint-plugin-lightning&quot;: &quot;^1.0.0&quot;,
    &quot;@salesforce/sfdx-lwc-jest&quot;: &quot;^1.1.0&quot;,
    &quot;eslint&quot;: &quot;^8.11.0&quot;,
    &quot;eslint-plugin-import&quot;: &quot;^2.25.4&quot;,
    &quot;eslint-plugin-jest&quot;: &quot;^26.1.2&quot;,
    &quot;husky&quot;: &quot;^7.0.4&quot;,
    &quot;lint-staged&quot;: &quot;^12.3.7&quot;,
    &quot;prettier&quot;: &quot;^2.6.0&quot;,
    &quot;prettier-plugin-apex&quot;: &quot;^1.10.0&quot;
  },
  &quot;lint-staged&quot;: {
    &quot;**/*.{cls,cmp,component,css,html,js,json,md,page,trigger,xml,yaml,yml}&quot;: [
      &quot;prettier --write&quot;
    ],
    &quot;**/{aura,lwc}/**&quot;: [
      &quot;eslint&quot;
    ]
  }
}


</code></pre>
<h2 id="references-10"><a class="header" href="#references-10">References</a></h2>
<ul>
<li><a href="https://eslint.org/docs/latest/use/configure/">Configuring ESLint</a></li>
<li><a href="https://developer.salesforce.com/tools/vscode/en/lwc/writing#linting"> Notes on Code Quality</a></li>
<li><a href="https://developer.salesforce.com/tools/vscode/en/lwc/writing#linting">Salesforce VS Code extensions</a></li>
<li><a href="https://github.com/salesforce/eslint-plugin-lwc">Official ESLint rules for Lightning Web Components (LWC)</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="eslint-custom-rules"><a class="header" href="#eslint-custom-rules">eslint custom rules</a></h1>
<p>Here we will explain how to setup a custom rule for eslint</p>
<h2 id="use-case"><a class="header" href="#use-case">Use case</a></h2>
<ul>
<li>We like want to warn the developers about using <code>alert()</code> in their code</li>
</ul>
<h3 id="writing-the-rule"><a class="header" href="#writing-the-rule">Writing the rule</a></h3>
<ul>
<li>Prepare the offending code</li>
</ul>
<pre><code>alert('test')
</code></pre>
<ul>
<li>Use <a href="https://astexplorer.net/">AST Explorer</a> to find out the node details</li>
</ul>
<p><img src="cq/img/ast-exp-1.png" alt="AST Explorer" /></p>
<ul>
<li>We need to check for</li>
</ul>
<pre><code class="language-js">node.callee.name === 'alert'

</code></pre>
<p>as per the AST</p>
<ul>
<li>Our rule should be something like this</li>
<li><strong>meta</strong> : for metadata about the rule</li>
<li><strong>create</strong>: action part of the rule
<ul>
<li>here we check for <code> node.callee.name === 'alert'</code>  and report the developer that with a message: <code>Using alert() is not recommended</code> using the <code>context</code> provided by the eslint</li>
</ul>
</li>
</ul>
<hr />
<pre><code class="language-js">module.exports = {
  meta: {
    type: 'suggestion',
    docs: {
      description: 'Warn the alert function used in the code',
      category: 'Best Practices',
      recommended: true,
    },
  },
 create: function (context) {
  return {
    CallExpression(node) {
      if (node.callee.name === 'alert') {
        context.report({
          node,
          message: 'Using alert() is not recommended',
        });
      }
    },
  };
},

};

</code></pre>
<hr />
<h2 id="project-setup"><a class="header" href="#project-setup">Project Setup</a></h2>
<h3 id="create-project-custom-rules-demo"><a class="header" href="#create-project-custom-rules-demo">Create project: custom-rules-demo</a></h3>
<p>~/eslint  &gt;mkdir custom-rules-demo
~/eslint  &gt;cd custom-rules-demo 
~/eslint/custom-rules-demo  &gt;npm init @eslint/config
✔ How would you like to use ESLint? · problems
✔ What type of modules does your project use? · esm
✔ Which framework does your project use? · none
✔ Does your project use TypeScript? · No / Yes
✔ Where does your code run? · browser
✔ What format do you want your config file to be in? · JavaScript
A config file was generated, but the config file itself may not follow your linting rules.
Successfully created .eslintrc.js file in /Users/mchinnappan/eslint/custom-rules-demo</p>
<h3 id="look-at-eslintrcjs"><a class="header" href="#look-at-eslintrcjs">Look at .eslintrc.js</a></h3>
<pre><code>~/eslint/custom-rules-demo  &gt;cat .eslintrc.js 
</code></pre>
<pre><code class="language-js">module.exports = {
    &quot;env&quot;: {
        &quot;browser&quot;: true,
        &quot;es2021&quot;: true
    },
    &quot;extends&quot;: &quot;eslint:recommended&quot;,
    &quot;overrides&quot;: [
    ],
    &quot;parserOptions&quot;: {
        &quot;ecmaVersion&quot;: &quot;latest&quot;,
        &quot;sourceType&quot;: &quot;module&quot;
    },
    &quot;rules&quot;: {
    }
}
</code></pre>
<h3 id="make-a-folder-for-rules"><a class="header" href="#make-a-folder-for-rules">Make a folder for rules</a></h3>
<pre><code>~/eslint/custom-rules-demo  &gt;mkdir rules
~/eslint/custom-rules-demo  &gt;touch rules/no-alert.js
</code></pre>
<h3 id="content-of-the-rulesno-alertjs"><a class="header" href="#content-of-the-rulesno-alertjs">Content of the rules/no-alert.js</a></h3>
<pre><code>~/eslint/custom-rules-demo  &gt;cat rules/no-alert.js 
</code></pre>
<pre><code class="language-js">module.exports = {
  meta: {
    type: 'suggestion',
    docs: {
      description: 'Warn the alert function used in the code',
      category: 'Best Practices',
      recommended: true,
    },
  },
 create: function (context) {
  return {
    CallExpression(node) {
      if (node.callee.name === 'alert') {
        context.report({
          node,
          message: 'Using alert() is not recommended',
        });
      }
    },
  };
},

};
</code></pre>
<h3 id="create-appjs"><a class="header" href="#create-appjs">Create app.js</a></h3>
<pre><code>~/eslint/custom-rules-demo  &gt;touch app.js
~/eslint/custom-rules-demo  &gt;cat app.js 
</code></pre>
<pre><code class="language-js">console.log('hello world!');
alert('this is an alert');
</code></pre>
<h2 id="add-an-entry-in-the-eslintrcjs--for-our-custom-rule-no-alert"><a class="header" href="#add-an-entry-in-the-eslintrcjs--for-our-custom-rule-no-alert">Add an entry in the .eslintrc.js  for our custom rule <code>no-alert</code></a></h2>
<pre><code class="language-js">&quot;rules&quot;: {
        &quot;no-alert&quot;: [&quot;warn&quot;]
    }

</code></pre>
<pre><code>~/eslint/custom-rules-demo  &gt;vi .eslintrc.js 
~/eslint/custom-rules-demo  &gt;cat .eslintrc.js 
</code></pre>
<pre><code class="language-js">module.exports = {
    &quot;env&quot;: {
        &quot;browser&quot;: true,
        &quot;es2021&quot;: true
    },
    &quot;extends&quot;: &quot;eslint:recommended&quot;,
    &quot;overrides&quot;: [
    ],
    &quot;parserOptions&quot;: {
        &quot;ecmaVersion&quot;: &quot;latest&quot;,
        &quot;sourceType&quot;: &quot;module&quot;
    },
    &quot;rules&quot;: {
        &quot;no-alert&quot;: [&quot;warn&quot;]
    }
}

</code></pre>
<h3 id="run-the-eslint-with--our-custom-rule"><a class="header" href="#run-the-eslint-with--our-custom-rule">Run the eslint with  our custom rule</a></h3>
<pre><code>~/eslint/custom-rules-demo  &gt;eslint --rulesdir rules app.js
</code></pre>
<h4 id="results-1"><a class="header" href="#results-1">Results</a></h4>
<pre><code>/Users/mchinnappan/eslint/custom-rules-demo/app.js
  1:28  error    Extra semicolon                   semi
  2:1   warning  Using alert() is not recommended  no-alert
  2:26  error    Extra semicolon                   semi

✖ 3 problems (2 errors, 1 warning)
  2 errors and 0 warnings potentially fixable with the `--fix` option.
</code></pre>
<h3 id="fixing-and-running-eslint"><a class="header" href="#fixing-and-running-eslint">Fixing and running eslint</a></h3>
<pre><code>vi app.js
cat app.js 
</code></pre>
<pre><code class="language-js">console.log('hello world!')

</code></pre>
<ul>
<li>Running the modified code</li>
</ul>
<pre><code class="language-bash">eslint --rulesdir rules app.js
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="deployments"><a class="header" href="#deployments">Deployments</a></h1>
<p><img src="deployments/../img/cover/swiss_Lauterbrunnental_train.jpg" alt="swiss-train" /></p>
<h2 id="tools-to-get-the-log-of-the-deployment-of-in-an-org"><a class="header" href="#tools-to-get-the-log-of-the-deployment-of-in-an-org">Tools to get the log of the deployment of in an org</a></h2>
<pre><code class="language-sql">
    SELECT
        Id
        ,SystemModstamp
        ,NumberComponentsDeployed
        ,NumberComponentErrors
        ,numberTestErrors
        ,numberTestsCompleted
        ,numberTestsTotal
        ,runTestsEnabled
        ,rollbackOnError
        
        
        ,CheckOnly
        ,completedDate
        ,createdDate
        
        
        ,ErrorStatusCode
        ,Status
        ,ErrorMessage
        
        ,ignoreWarnings
        
        ,startDate
        ,stateDetail
        
        FROM DeployRequest
        ORDER BY CompletedDate DESC
        LIMIT 10

</code></pre>
<pre><code> sfdx mohanc:query:tooling -q ~/.soql/deploymentStatus.soql -u mohan.chinnappan.n.sel@gmail.com

</code></pre>
<pre><code>sfdx mohanc:query:tooling -q ~/.soql/deploymentStatus.soql -u mohan.chinnappan.n.sel@gmail.com | bat
───────┬───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
       │ STDIN
───────┼───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
   1   │ &quot;attributes&quot;,&quot;Id&quot;,&quot;SystemModstamp&quot;,&quot;NumberComponentsDeployed&quot;,&quot;NumberComponentErrors&quot;,&quot;NumberTestErrors&quot;,&quot;NumberTestsCompleted&quot;,&quot;NumberTestsTo
       │ tal&quot;,&quot;RunTestsEnabled&quot;,&quot;RollbackOnError&quot;,&quot;CheckOnly&quot;,&quot;CompletedDate&quot;,&quot;CreatedDate&quot;,&quot;ErrorStatusCode&quot;,&quot;Status&quot;,&quot;ErrorMessage&quot;,&quot;IgnoreWarnings&quot;,
       │ &quot;StartDate&quot;,&quot;StateDetail&quot;
   2   │ &quot;{&quot;&quot;type&quot;&quot;:&quot;&quot;DeployRequest&quot;&quot;,&quot;&quot;url&quot;&quot;:&quot;&quot;/services/data/v56.0/tooling/sobjects/DeployRequest/0Af4x00000Y402zCAB&quot;&quot;}&quot;,&quot;0Af4x00000Y402zCAB&quot;,&quot;2023-0
       │ 1-21T10:54:40.000+0000&quot;,1,0,0,0,0,false,true,false,&quot;2023-01-21T10:54:40.000+0000&quot;,&quot;2023-01-21T10:51:06.000+0000&quot;,,&quot;Succeeded&quot;,,false,&quot;2023-01-
       │ 21T10:51:06.000+0000&quot;,
   3   │ &quot;{&quot;&quot;type&quot;&quot;:&quot;&quot;DeployRequest&quot;&quot;,&quot;&quot;url&quot;&quot;:&quot;&quot;/services/data/v56.0/tooling/sobjects/DeployRequest/0Af4x00000Y33AkCAJ&quot;&quot;}&quot;,&quot;0Af4x00000Y33AkCAJ&quot;,&quot;2023-0
       │ 1-18T17:39:36.000+0000&quot;,1,0,0,0,0,false,true,true,&quot;2023-01-18T17:39:36.000+0000&quot;,&quot;2023-01-18T17:39:35.000+0000&quot;,,&quot;Succeeded&quot;,,false,&quot;2023-01-1
       │ 8T17:39:35.000+0000&quot;,
   4   │ &quot;{&quot;&quot;type&quot;&quot;:&quot;&quot;DeployRequest&quot;&quot;,&quot;&quot;url&quot;&quot;:&quot;&quot;/services/data/v56.0/tooling/sobjects/DeployRequest/0Af4x00000Y31jECAR&quot;&quot;}&quot;,&quot;0Af4x00000Y31jECAR&quot;,&quot;2023-0
       │ 1-18T17:31:31.000+0000&quot;,1,0,0,0,0,false,true,true,&quot;2023-01-18T17:31:31.000+0000&quot;,&quot;2023-01-18T17:31:30.000+0000&quot;,,&quot;Succeeded&quot;,,false,&quot;2023-01-1
       │ 8T17:31:30.000+0000&quot;,
   5   │ &quot;{&quot;&quot;type&quot;&quot;:&quot;&quot;DeployRequest&quot;&quot;,&quot;&quot;url&quot;&quot;:&quot;&quot;/services/data/v56.0/tooling/sobjects/DeployRequest/0Af4x00000Y2wuRCAR&quot;&quot;}&quot;,&quot;0Af4x00000Y2wuRCAR&quot;,&quot;2023-0
       │ 1-18T14:45:47.000+0000&quot;,1,0,0,0,0,false,true,true,&quot;2023-01-18T14:45:47.000+0000&quot;,&quot;2023-01-18T14:45:42.000+0000&quot;,,&quot;Succeeded&quot;,,false,&quot;2023-01-1
       │ 8T14:45:42.000+0000&quot;,
   6   │ &quot;{&quot;&quot;type&quot;&quot;:&quot;&quot;DeployRequest&quot;&quot;,&quot;&quot;url&quot;&quot;:&quot;&quot;/services/data/v56.0/tooling/sobjects/DeployRequest/0Af4x00000Y2wu7CAB&quot;&quot;}&quot;,&quot;0Af4x00000Y2wu7CAB&quot;,&quot;2023-0
       │ 1-18T14:31:43.000+0000&quot;,1,0,0,0,0,false,true,true,&quot;2023-01-18T14:31:43.000+0000&quot;,&quot;2023-01-18T14:31:35.000+0000&quot;,,&quot;Succeeded&quot;,,false,&quot;2023-01-1
       │ 8T14:31:37.000+0000&quot;,
   7   │ &quot;{&quot;&quot;type&quot;&quot;:&quot;&quot;DeployRequest&quot;&quot;,&quot;&quot;url&quot;&quot;:&quot;&quot;/services/data/v56.0/tooling/sobjects/DeployRequest/0Af4x00000Y2wrhCAB&quot;&quot;}&quot;,&quot;0Af4x00000Y2wrhCAB&quot;,&quot;2023-0
       │ 1-18T14:30:13.000+0000&quot;,1,120,0,0,0,false,true,true,&quot;2023-01-18T14:30:13.000+0000&quot;,&quot;2023-01-18T14:30:07.000+0000&quot;,,&quot;Failed&quot;,,false,&quot;2023-01-18
       │ T14:30:07.000+0000&quot;,
   8   │ &quot;{&quot;&quot;type&quot;&quot;:&quot;&quot;DeployRequest&quot;&quot;,&quot;&quot;url&quot;&quot;:&quot;&quot;/services/data/v56.0/tooling/sobjects/DeployRequest/0Af4x00000Y2wpRCAR&quot;&quot;}&quot;,&quot;0Af4x00000Y2wpRCAR&quot;,&quot;2023-0
       │ 1-18T14:27:40.000+0000&quot;,1,120,0,0,0,false,true,false,&quot;2023-01-18T14:27:40.000+0000&quot;,&quot;2023-01-18T14:27:29.000+0000&quot;,,&quot;Failed&quot;,,false,&quot;2023-01-1
       │ 8T14:27:35.000+0000&quot;,
   9   │ &quot;{&quot;&quot;type&quot;&quot;:&quot;&quot;DeployRequest&quot;&quot;,&quot;&quot;url&quot;&quot;:&quot;&quot;/services/data/v56.0/tooling/sobjects/DeployRequest/0Af4x00000Y2wp7CAB&quot;&quot;}&quot;,&quot;0Af4x00000Y2wp7CAB&quot;,&quot;2023-0
       │ 1-18T14:24:49.000+0000&quot;,1,0,0,0,0,false,true,false,&quot;2023-01-18T14:24:49.000+0000&quot;,&quot;2023-01-18T14:24:43.000+0000&quot;,,&quot;Succeeded&quot;,,false,&quot;2023-01-
       │ 18T14:24:44.000+0000&quot;,
  10   │ &quot;{&quot;&quot;type&quot;&quot;:&quot;&quot;DeployRequest&quot;&quot;,&quot;&quot;url&quot;&quot;:&quot;&quot;/services/data/v56.0/tooling/sobjects/DeployRequest/0Af4x00000Y2wmwCAB&quot;&quot;}&quot;,&quot;0Af4x00000Y2wmwCAB&quot;,&quot;2023-0
       │ 1-18T14:22:54.000+0000&quot;,1,120,0,0,0,false,true,false,&quot;2023-01-18T14:22:54.000+0000&quot;,&quot;2023-01-18T14:22:44.000+0000&quot;,,&quot;Failed&quot;,,false,&quot;2023-01-1
       │ 8T14:22:44.000+0000&quot;,
:

</code></pre>
<h3 id="using-sf-land-data-viz-to-view-the-deployment-log"><a class="header" href="#using-sf-land-data-viz-to-view-the-deployment-log">Using SF-LAND Data Viz to view the deployment log</a></h3>
<iframe id="inlineFrameExample"
    title="Inline Frame Example"
    width="1100"
    height="800"
    src="https://mohan-chinnappan-n5.github.io/dfv/dfv.html?d=data/deploy1.csv&x=14">
</iframe><div style="break-before: page; page-break-before: always;"></div><h1 id="delta-deployments"><a class="header" href="#delta-deployments">Delta Deployments</a></h1>
<p><img src="deployments/../img/cover/chromecast-farm-1.jpg" alt="Farm" /></p>
<h2 id="topics-11"><a class="header" href="#topics-11">Topics</a></h2>
<ul>
<li><a href="deployments/delta.html#assumptions">Assumptions</a></li>
<li><a href="deployments/delta.html#compare">Comparing - Delta vs full deployment </a></li>
<li><a href="deployments/delta.html#logs">Delta deployment logs</a></li>
<li><a href="deployments/delta.html#recommendation">Recommendation</a></li>
<li><a href="deployments/delta.html#deploy">Single Command to Delta Deployment</a></li>
<li><a href="deployments/delta.html#full">Detailed Steps</a></li>
<li><a href="deployments/delta.html#refs">References and more tools</a></li>
</ul>
<hr />
<p><a name='assumptions'></a></p>
<h2 id="assumptions"><a class="header" href="#assumptions">Assumptions</a></h2>
<ul>
<li>Version control should be the single-source of truth for the source code</li>
<li>Version control should be kept up-to-date at any point in time</li>
</ul>
<hr />
<p><a name='compare'></a></p>
<h2 id="delta-vs-full-deployment"><a class="header" href="#delta-vs-full-deployment">Delta vs full deployment</a></h2>
<table><thead><tr><th>Full Deployment</th><th>Delta</th></tr></thead><tbody>
<tr><td>Adheres to the principles of container based deployments</td><td>You only deploy the delta - not deploying untouched code</td></tr>
<tr><td>Takes more deployment time</td><td>Quicker Deployments</td></tr>
<tr><td>Simple toolset</td><td>Requires smarter toolset</td></tr>
<tr><td>Simple to keep track of deployments</td><td>Requires good documentation including commit-ids used for the deployments - Logs as shown below</td></tr>
</tbody></table>
<p><a name='logs'></a></p>
<h2 id="delta-deployment-logs---example"><a class="header" href="#delta-deployment-logs---example">Delta Deployment Logs - example</a></h2>
<table><thead><tr><th>Deployment Date</th><th>Approval Ref#</th><th>Environment</th><th>From Commit-Id SHA-1</th><th>To Commit-Id SHA-1</th><th>Comments</th></tr></thead><tbody>
<tr><td>Dec-10-2022</td><td>#123456</td><td>UAT</td><td>839861d</td><td>0d306cc</td><td>12 components</td></tr>
</tbody></table>
<p><a name='recommendation'></a></p>
<h3 id="recommendation"><a class="header" href="#recommendation">Recommendation</a></h3>
<ul>
<li>Each approach has a place in your deployment process. Start with a couple of full deployments and follow it with delta deployment</li>
</ul>
<hr />
<ul>
<li>Refer : <a href="https://developer.salesforce.com/blogs/2021/01/optimizing-unpackaged-deployments-using-a-delta-generation-tool">Salesforce Blog on Delta deployment</a></li>
</ul>
<h2 id="how-do-prepare-for-delta-deployment"><a class="header" href="#how-do-prepare-for-delta-deployment">How do prepare for Delta deployment?</a></h2>
<p><img src="https://d259t2jj6zp7qm.cloudfront.net/images/20210323154950/OptV2-2000x1000.png" alt="delta deployment" /></p>
<p><a name='deploy'></a></p>
<h2 id="single-command-to-do-the-delta-deployment"><a class="header" href="#single-command-to-do-the-delta-deployment">Single command to do the delta deployment</a></h2>
<ul>
<li>Download the script from <a href="https://github.com/mohan-chinnappan-n/delta-deployment/blob/main/deltaDeploy.sh">here</a></li>
<li><a href="https://github.com/mohan-chinnappan-n/delta-deployment/blob/main/deltaDeploy.sh">deltaDeploy</a></li>
</ul>
<h2 id="demo-5"><a class="header" href="#demo-5">Demo</a></h2>
<pre><code>~/deltatest [main] &gt;bash deltaDeploy.sh
-----------------------------------
Delta Deployment
-----------------------------------
===== git log =====
29dff0a|mohan-chinnappan-n|mohan.chinnappan.n@gmail.com|cleanup
15ca632|mohan-chinnappan-n|mohan.chinnappan.n@gmail.com|delta image added
3456d9f|mohan-chinnappan-n|mohan.chinnappan.n@gmail.com|delta.md updated
474669c|mohan-chinnappan-n|mohan.chinnappan.n@gmail.com|Fruit Mango added
73ea22c|mohan-chinnappan-n|mohan.chinnappan.n@gmail.com|Fruit Mango added
171a81a|mohan-chinnappan-n|mohan.chinnappan.n@gmail.com|pineapple fruit classes removed
faa2d86|mohan-chinnappan-n|mohan.chinnappan.n@gmail.com|3 fruit classes added
fe12d89|mohan-chinnappan-n|mohan.chinnappan.n@gmail.com|init
-----------------------------------
FROM (Enter SHA1 for this commit FROM which we need to the delta deployment, defulat: HEAD^): fe12d89
TO (Enter SHA1 for this commit TO which we need to the delta deployment, default: HEAD): 29dff0a
----------------------------------- fe12d89 to 29dff0a -----------------------------------
----------------------------------- Preparing delta packages -----------------------------------
{
  &quot;error&quot;: null,
  &quot;output&quot;: &quot;.&quot;,
  &quot;success&quot;: true,
  &quot;warnings&quot;: []
}
&lt;---- SUCCESS: true
Check only? (Enter y/n, default: y): y
&lt;---- Check only: -c 
Run TestClasses only? (Enter y/n, default: y): n
&lt;---- testlevel  
Run deletion pre or post? (Enter pre or post, default: post)): 
post
&lt;---- pre/post: post
----------------------------------- Deploying delta packages -----------------------------------
sfdx force:source:deploy -x package/package.xml --postdestructivechanges destructiveChanges/destructiveChanges.xml --verbose --loglevel TRACE
Deploying v55.0 metadata to mohan.chinnappan.n_ea2@gmail.com using the v56.0 SOAP API
Deploy ID: 0Af3h00000Rz0dNCAR
DEPLOY PROGRESS | ████████████████████████████████████████ | 3/3 Components

=== Deployed Source

 FULL NAME  TYPE      PROJECT PATH                                           
 ────────── ───────── ────────────────────────────────────────────────────── 
 HelloMango ApexClass force-app/main/default/classes/HelloMango.cls          
 HelloMango ApexClass force-app/main/default/classes/HelloMango.cls-meta.xml 
 HelloPeach ApexClass force-app/main/default/classes/HelloPeach.cls          
 HelloPeach ApexClass force-app/main/default/classes/HelloPeach.cls-meta.xml 
 HelloPear  ApexClass force-app/main/default/classes/HelloPear.cls           
 HelloPear  ApexClass force-app/main/default/classes/HelloPear.cls-meta.xml  
Deploy Succeeded.

</code></pre>
<hr />
<p><a name='full'></a></p>
<h2 id="full-steps"><a class="header" href="#full-steps">Full steps</a></h2>
<ul>
<li><img src="https://raw.githubusercontent.com/mohan-chinnappan-n/delta-deployment/main/img/delta-concepts.png" alt="steps" /></li>
</ul>
<h2 id="let-us-create-dx-project-deltatest-to-provide-the-concepts"><a class="header" href="#let-us-create-dx-project-deltatest-to-provide-the-concepts">Let us create DX Project 'deltatest' to provide the concepts</a></h2>
<pre><code>~  &gt;sfdx force:project:create -n deltatest
target dir = /Users/mchinnappan
   create deltatest/config/project-scratch-def.json
   create deltatest/README.md
   create deltatest/sfdx-project.json
   create deltatest/.husky/pre-commit
   create deltatest/.vscode/extensions.json
   create deltatest/.vscode/launch.json
   create deltatest/.vscode/settings.json
   create deltatest/force-app/main/default/lwc/.eslintrc.json
   create deltatest/force-app/main/default/aura/.eslintrc.json
   create deltatest/scripts/soql/account.soql
   create deltatest/scripts/apex/hello.apex
   create deltatest/.eslintignore
   create deltatest/.forceignore
   create deltatest/.gitignore
   create deltatest/.prettierignore
   create deltatest/.prettierrc
   create deltatest/jest.config.js
   create deltatest/package.json

</code></pre>
<h2 id="commit-into-git"><a class="header" href="#commit-into-git">Commit into git</a></h2>
<pre><code>~  &gt;cd deltatest 

~/deltatest  &gt;git init .
hint: Using 'master' as the name for the initial branch. This default branch name
hint: is subject to change. To configure the initial branch name to use in all
hint: of your new repositories, which will suppress this warning, call:
hint: 
hint: 	git config --global init.defaultBranch &lt;name&gt;
hint: 
hint: Names commonly chosen instead of 'master' are 'main', 'trunk' and
hint: 'development'. The just-created branch can be renamed via this command:
hint: 
hint: 	git branch -m &lt;name&gt;
Initialized empty Git repository in /Users/mchinnappan/deltatest/.git/
~/deltatest [master] &gt;git branch -m main
~/deltatest [main] &gt;git add -A
~/deltatest [main] &gt;git commit -m init
[main (root-commit) fe12d89] init
 18 files changed, 255 insertions(+)
 create mode 100644 .eslintignore
 create mode 100755 .forceignore
 create mode 100644 .gitignore
 create mode 100755 .husky/pre-commit
 create mode 100755 .prettierignore
 create mode 100755 .prettierrc
 create mode 100644 .vscode/extensions.json
 create mode 100644 .vscode/launch.json
 create mode 100644 .vscode/settings.json
 create mode 100644 README.md
 create mode 100644 config/project-scratch-def.json
 create mode 100644 force-app/main/default/aura/.eslintrc.json
 create mode 100644 force-app/main/default/lwc/.eslintrc.json
 create mode 100644 jest.config.js
 create mode 100644 package.json
 create mode 100644 scripts/apex/hello.apex
 create mode 100644 scripts/soql/account.soql
 create mode 100644 sfdx-project.json
</code></pre>
<h2 id="let-us-see-the-git-commit-log"><a class="header" href="#let-us-see-the-git-commit-log">Let us see the git commit log</a></h2>
<pre><code>~/deltatest [main] &gt;git lg2        
* fe12d89 - Sun, 8 Jan 2023 12:59:54 -0500 (2 minutes ago) (HEAD -&gt; main)
            init - mohan-chinnappan-n
</code></pre>
<h2 id="let-us-create--3-classes-hellopeach-hellopear-and-hellopineapple"><a class="header" href="#let-us-create--3-classes-hellopeach-hellopear-and-hellopineapple">Let us create  3 classes HelloPeach HelloPear and HelloPineapple</a></h2>
<pre><code>~/deltatest [main] &gt;sfdx force:apex:class:create -n HelloPeach -d force-app/main/default/classes         
target dir = /Users/mchinnappan/deltatest/force-app/main/default/classes
   create force-app/main/default/classes/HelloPeach.cls
   create force-app/main/default/classes/HelloPeach.cls-meta.xml

~/deltatest [main] &gt;sfdx force:apex:class:create -n HelloPear -d force-app/main/default/classes
target dir = /Users/mchinnappan/deltatest/force-app/main/default/classes
   create force-app/main/default/classes/HelloPear.cls
   create force-app/main/default/classes/HelloPear.cls-meta.xml

~/deltatest [main] &gt;sfdx force:apex:class:create -n HelloPineapple -d force-app/main/default/classes
target dir = /Users/mchinnappan/deltatest/force-app/main/default/classes
   create force-app/main/default/classes/HelloPineapple.cls
   create force-app/main/default/classes/HelloPineapple.cls-meta.xml
</code></pre>
<h2 id="let-us-commit-this-change-into-git"><a class="header" href="#let-us-commit-this-change-into-git">Let us commit this change into git</a></h2>
<pre><code>~/deltatest [main] &gt;git add -A
~/deltatest [main] &gt;git commit -m '3 fruit classes added'
[main faa2d86] 3 fruit classes added
 6 files changed, 46 insertions(+)
 create mode 100644 force-app/main/default/classes/HelloPeach.cls
 create mode 100644 force-app/main/default/classes/HelloPeach.cls-meta.xml
 create mode 100644 force-app/main/default/classes/HelloPear.cls
 create mode 100644 force-app/main/default/classes/HelloPear.cls-meta.xml
 create mode 100644 force-app/main/default/classes/HelloPineapple.cls
 create mode 100644 force-app/main/default/classes/HelloPineapple.cls-meta.xml
</code></pre>
<h2 id="let-us-see-the-git-log-for-these-changes"><a class="header" href="#let-us-see-the-git-log-for-these-changes">Let us see the git log for these changes</a></h2>
<pre><code>~/deltatest [main] &gt;git lg3                                                                         
* faa2d86 - Sun, 8 Jan 2023 13:08:07 -0500 (12 seconds ago) (committed: Sun, 8 Jan 2023 13:08:07 -0500)  (HEAD -&gt; main)
|           3 fruit classes added
* fe12d89 - Sun, 8 Jan 2023 12:59:54 -0500 (8 minutes ago) (committed: Sun, 8 Jan 2023 12:59:54 -0500) 
            init
</code></pre>
<h2 id="using-git-diff-to-view-the-diff-between-these-2-shas-fe12d89-and-faa2d86"><a class="header" href="#using-git-diff-to-view-the-diff-between-these-2-shas-fe12d89-and-faa2d86">Using git diff to view the diff between these 2 SHAs fe12d89 and faa2d86</a></h2>
<pre><code>~/deltatest [main] &gt;git diff fe12d89...faa2d86
</code></pre>
<h2 id="let-us-remove-the-hellopineapple-class-and-commit-it-into-git"><a class="header" href="#let-us-remove-the-hellopineapple-class-and-commit-it-into-git">Let us remove the HelloPineapple class and commit it into git</a></h2>
<pre><code>~/deltatest [main] &gt;git add -A                           
~/deltatest [main] &gt;git commit -m 'pineapple fruit classes removed'
[main 171a81a] pineapple fruit classes removed
 2 files changed, 10 deletions(-)
 delete mode 100644 force-app/main/default/classes/HelloPineapple.cls
 delete mode 100644 force-app/main/default/classes/HelloPineapple.cls-meta.xml
</code></pre>
<h2 id="let-us-see-the-git-logs"><a class="header" href="#let-us-see-the-git-logs">Let us see the git logs</a></h2>
<pre><code>~/deltatest [main] &gt;git lg3                                        
* 171a81a - Sun, 8 Jan 2023 13:10:14 -0500 (4 seconds ago) (committed: Sun, 8 Jan 2023 13:10:14 -0500)  (HEAD -&gt; main)
|           pineapple fruit classes removed
* faa2d86 - Sun, 8 Jan 2023 13:08:07 -0500 (2 minutes ago) (committed: Sun, 8 Jan 2023 13:08:07 -0500) 
|           3 fruit classes added
* fe12d89 - Sun, 8 Jan 2023 12:59:54 -0500 (10 minutes ago) (committed: Sun, 8 Jan 2023 12:59:54 -0500) 
           init
</code></pre>
<h2 id="let-us-view-the-diff-between-these-shas-faa2d89-and-fe12d89"><a class="header" href="#let-us-view-the-diff-between-these-shas-faa2d89-and-fe12d89">Let us view the diff between these SHAs faa2d89 and fe12d89</a></h2>
<pre><code>~/deltatest [main] &gt;git diff faa2d86..fe12d89 
~/deltatest [main] &gt;git diff 171a81a..faa2d86
</code></pre>
<h2 id="let-us-add-the-new-class-hellomango"><a class="header" href="#let-us-add-the-new-class-hellomango">Let us add the new class HelloMango</a></h2>
<pre><code>
~/deltatest [main] &gt;sfdx force:apex:class:create -n HelloMango -d force-app/main/default/classes
target dir = /Users/mchinnappan/deltatest/force-app/main/default/classes
   create force-app/main/default/classes/HelloMango.cls
   create force-app/main/default/classes/HelloMango.cls-meta.xml
</code></pre>
<h2 id="commit-it-into-git"><a class="header" href="#commit-it-into-git">Commit it into git</a></h2>
<pre><code>~/deltatest [main] &gt;git add -A
~/deltatest [main] &gt;git commit -m 'Fruit Mango added'
[main 73ea22c] Fruit Mango added
 2 files changed, 566 insertions(+)
 create mode 100644 force-app/main/default/classes/HelloMango.cls
 create mode 100644 force-app/main/default/classes/HelloMango.cls-meta.xml
</code></pre>
<h2 id="let-us-view-the-git-log"><a class="header" href="#let-us-view-the-git-log">Let us view the git log</a></h2>
<pre><code>~/deltatest [main] &gt;git lg                      
* 474669c - (64 seconds ago) Fruit Mango added - mohan-chinnappan-n (HEAD -&gt; main)
* 73ea22c - (2 minutes ago) Fruit Mango added - mohan-chinnappan-n
* 171a81a - (17 minutes ago) pineapple fruit classes removed - mohan-chinnappan-n
* faa2d86 - (19 minutes ago) 3 fruit classes added - mohan-chinnappan-n
* fe12d89 - (27 minutes ago) init - mohan-chinnappan-n
</code></pre>
<h2 id="let-us-run-the-sgdsourcedelta-to-create-packagexml-and-destructivechangesxml"><a class="header" href="#let-us-run-the-sgdsourcedelta-to-create-packagexml-and-destructivechangesxml">Let us run the sgd:source:delta to create package.xml and destructiveChanges.xml</a></h2>
<ul>
<li>Install this plugin using</li>
</ul>
<pre><code>sfdx plugins:install sfdx-git-delta

</code></pre>
<ul>
<li>Check the plugin install</li>
</ul>
<pre><code>sfdx plugins
</code></pre>
<pre><code>sfdx-git-delta 5.8.0 &lt;------ from Sébastien Colladon
sfdx-mohanc-plugins 0.0.222 
</code></pre>
<ul>
<li>
<p>This plugin generates the sfdx content in source format and destructive change from two git commits</p>
</li>
<li>
<p>Our 'from' SHA is faa2d86  'to' SHA is 'faa2d86' output dir is current folder</p>
</li>
</ul>
<pre><code>~/deltatest [main] &gt;sfdx sgd:source:delta -f faa2d86 -t 474669c -d -o .                  
{
  &quot;error&quot;: null,
  &quot;output&quot;: &quot;.&quot;,
  &quot;success&quot;: true,
  &quot;warnings&quot;: []
}
</code></pre>
<p><img src="https://github.com/mohan-chinnappan-n/delta-deployment/raw/main/img/delta-1.png" alt="delta" /></p>
<h3 id="additions"><a class="header" href="#additions">Additions</a></h3>
<ul>
<li>Contains the metadata that has been added and changed and that needs to be deployed to the Org</li>
</ul>
<pre><code>~/deltatest [main] &gt;cat package/package.xml 
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;Package xmlns=&quot;http://soap.sforce.com/2006/04/metadata&quot;&gt;
    &lt;types&gt;
        &lt;members&gt;HelloMango&lt;/members&gt;
        &lt;name&gt;ApexClass&lt;/name&gt;
    &lt;/types&gt;
    &lt;version&gt;55.0&lt;/version&gt;
&lt;/Package&gt;
</code></pre>
<ul>
<li>Deploy this by</li>
</ul>
<pre><code>sfdx force:source:deploy -x package/package.xml  -c --verbose --testlevel RunLocalTests --loglevel DEBUG
</code></pre>
<h3 id="deletions"><a class="header" href="#deletions">Deletions</a></h3>
<ul>
<li>Contains the metadata that has been removed that needs to be deleted from the Org</li>
</ul>
<pre><code>~/deltatest [main] &gt;cat destructiveChanges/destructiveChanges.xml 
```xml
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;Package xmlns=&quot;http://soap.sforce.com/2006/04/metadata&quot;&gt;
    &lt;types&gt;
        &lt;members&gt;HelloPineapple&lt;/members&gt;
        &lt;name&gt;ApexClass&lt;/name&gt;
    &lt;/types&gt;
    &lt;version&gt;55.0&lt;/version&gt;
&lt;/Package&gt;

</code></pre>
<ul>
<li>Perform deletion by</li>
</ul>
<pre><code>sfdx force:mdapi:deploy -d destructiveChanges

</code></pre>
<ul>
<li>Note this package.xml is an empty file required by DX CLI for the deployment of destructive changes </li>
</ul>
<pre><code>tree destructiveChanges/
destructiveChanges/
├── destructiveChanges.xml
└── package.xml

</code></pre>
<h2 id="my-gitconfig"><a class="header" href="#my-gitconfig">my .gitconfig</a></h2>
<pre><code>[alias]
    lg = lg1
    lg1 = lg1-specific --all
    lg2 = lg2-specific --all
    lg3 = lg3-specific --all
    lg1-specific = log --graph --abbrev-commit --decorate --format=format:'%C(bold blue)%h%C(reset) - %C(bold green)(%ar)%C(reset) %C(white)%s%C(reset) %C(dim white)- %an%C(reset)%C(auto)%d%C(reset)'
    lg2-specific = log --graph --abbrev-commit --decorate --format=format:'%C(bold blue)%h%C(reset) - %C(bold cyan)%aD%C(reset) %C(bold green)(%ar)%C(reset)%C(auto)%d%C(reset)%n''          %C(white)%s%C(reset) %C(dim white)- %an%C(reset)'
    lg3-specific = log --graph --abbrev-commit --decorate --format=format:'%C(bold blue)%h%C(reset) - %C(bold cyan)%aD%C(reset) %C(bold green)(%ar)%C(reset) %C(bold cyan)(committed: %cD)%C(reset) %C(auto)%d%C(reset)%n''          %C(white)%s%C(reset)%n''          %C(dim white)- %an &lt;%ae&gt; %C(reset) %C(dim white)(committer: %cn &lt;%ce&gt;)%C(reset)'
</code></pre>
<p><a name='refs'></a></p>
<h2 id="references-11"><a class="header" href="#references-11">References</a></h2>
<h3 id="delta-deployment"><a class="header" href="#delta-deployment">Delta deployment</a></h3>
<ul>
<li><a href="https://developer.salesforce.com/blogs/2021/01/optimizing-unpackaged-deployments-using-a-delta-generation-tool">Salesforce Blog on Delta deployment</a></li>
</ul>
<h3 id="demo-of-org-query-compare-tool-1"><a class="header" href="#demo-of-org-query-compare-tool-1">Demo of Org query compare tool</a></h3>
<iframe width="800" height="500" src="https://www.youtube.com/embed/3eLkVv9djCg" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<div style="break-before: page; page-break-before: always;"></div><h1 id="github-actions"><a class="header" href="#github-actions">Github Actions</a></h1>
<p><img src="deployments/../img/cover/chromecast-trees-1.jpg" alt="Trees" /></p>
<h2 id="examples"><a class="header" href="#examples">Examples</a></h2>
<ul>
<li><a href="deployments/gha.html#orgviz">Running org:viz</a></li>
<li><a href="deployments/gha.html#pmd">PMD work to bail out when  violations count is not zero</a></li>
</ul>
<hr />
<p><a name="orgviz"></a></p>
<h3 id="running-orgviz-using-github-actions"><a class="header" href="#running-orgviz-using-github-actions">Running org:viz using Github Actions</a></h3>
<pre><code class="language-yml">name: onDemand-org-viz 
run-name: run org viz
on: [workflow_dispatch]
  
jobs:
  run-org-viz:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: sfdx-actions/setup-sfdx@v1

      - run: echo ${{ github.actor }} is running this...
      - run: echo ${{ secrets.SEL_AUTH_JSON_BASE64 }} &gt; ./mySecret.json.txt
      - run: cat ./mySecret.json.txt | base64 -d &gt; ./mySecret.json
      - run: echo &quot;SECRET_JSON=$(jq -c . &lt; ./mySecret.json)&quot; &gt;&gt; $GITHUB_ENV 
      - run: echo '${{ fromJson(env.SECRET_JSON).result.id }}'
      
      - run: echo FN=slide__$RANDOM &gt;&gt; $GITHUB_ENV     

      - name: Install mohanc sfdx plugins
        run: |
          echo 'y' | sfdx plugins:install sfdx-mohanc-plugins
          sfdx plugins

      - name: Process secrets
        run: | 
         echo ${{ fromJson(env.SECRET_JSON).result.sfdxAuthUrl }} &gt; ./mySecret.url.txt
         sfdx auth:sfdxurl:store -f ./mySecret.url.txt -s -a targetOrg

      - name: Run Org Viz
        run: sfdx mohanc:org:viz   -u ${{ fromJson(env.SECRET_JSON).result.username }}

      - name: setup git config
        run: |
          # setup the username and email. using 'GitHub Actions Bot' with no email by default
          git config user.name &quot;GitHub Actions Bot&quot;
          git config user.email &quot;&lt;&gt;&quot;

      - name: Commit files
        run: |
          git pull origin HEAD
          git add Org.json Org.svg
          git commit -m &quot;add org viz files&quot;
          git push origin HEAD

</code></pre>
<p><a name='pmd'></a></p>
<h2 id="pmd-workflow-bailing-out-when-violations-count-is-not-zero"><a class="header" href="#pmd-workflow-bailing-out-when-violations-count-is-not-zero">PMD workflow bailing out when violations count is not zero</a></h2>
<pre><code class="language-yml">PMD workflow bailing out when violations count is not zero
 - uses: pmd/pmd-github-action@v1
        id: pmd
        with:
          version: '6.40.0'
          sourcePath: 'mc2Project/force-app/main/default/classes'
          rulesets: 'pmd/rulesets/apex_ruleset.xml'
      
      - name: Fail build if there are violations
        if: steps.pmd.outputs.violations != 0
        run: exit 1
</code></pre>
<ul>
<li>Detailed</li>
</ul>
<pre><code class="language-yml">name: on-push-deployment-develop
run-name: Push Check Deploy - develop 

on: [workflow_dispatch]
jobs:
  check-deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - run: npm install sfdx-cli -g

      - run: echo &quot;${{ secrets.SALESFORCE_JWT_SECRET_KEY }}&quot; &gt; server.key
      - run: sfdx force:auth:jwt:grant --clientid=${{ secrets.SALESFORCE_CONSUMER_KEY }} --jwtkeyfile=server.key --username=${{ secrets.SALESFORCE_DEVHUB_USERNAME }} --setdefaultdevhubusername
      - name: Install mohanc sfdx plugin
        run: |
          echo 'y' | sfdx plugins:install sfdx-mohanc-plugins
          sfdx plugins

      - name: Run Org Viz
        run: sfdx mohanc:org:viz   -u ${{ secrets.SALESFORCE_DEVHUB_USERNAME }}

      - uses: actions/setup-java@v3
        with:
          distribution: 'zulu' # See 'Supported distributions' for available options
          java-version: '17'
      - run: |
          cd src 
          java HelloWorld.java 
          cd ..

      - uses: pmd/pmd-github-action@v1
        id: pmd
        with:
          version: '6.40.0'
          sourcePath: 'mc2Project/force-app/main/default/classes'
          rulesets: 'pmd/rulesets/apex_ruleset.xml'
      
      - name: Fail build if there are violations
        if: steps.pmd.outputs.violations != 0
        run: exit 1
      
      - name: Upload SARIF file
        uses: github/codeql-action/upload-sarif@v2
        with:
          sarif_file: pmd-report.sarif

      - name: Source DeployCheck Deploy
        run: |
          cd mc2Project 
          sfdx force:source:deploy -u ${{ secrets.SALESFORCE_DEVHUB_USERNAME }} -p force-app -c --verbose 
          sfdx mohanc:tooling:query -q ../.soql/deploymentStatus.soql -u ${{ secrets.SALESFORCE_DEVHUB_USERNAME }} -f json &gt; ./deploymentStatus.json
          cat ./deploymentStatus.json

      - name: setup git config
        run: |
          # setup the username and email. using 'GitHub Actions Bot' with no email by default
          git config user.name &quot;GitHub Actions Bot&quot;
          git config user.email &quot;&lt;&gt;&quot;

      - name: Commit files
        run: |
          git add Org.json Org.svg 
          git commit -m &quot;updated Org Viz files&quot;
          git push origin HEAD


</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="validating-changes"><a class="header" href="#validating-changes">Validating changes</a></h1>
<p><img src="deployments/../img/cover/chromecast-builiding-3.jpg" alt="Buildings" /></p>
<h1 id="deployment-validations-using-forcesource-commands"><a class="header" href="#deployment-validations-using-forcesource-commands">Deployment validations using force:source commands</a></h1>
<h2 id="login-into-the-org-1"><a class="header" href="#login-into-the-org-1">Login into the org</a></h2>
<pre><code>sfdx force:auth:web:login
Successfully authorized mohan.chinnappan.n_ea2@gmail.com with org ID 00D3h000007R1LuEAK

</code></pre>
<h2 id="create-dx-project-say-validate1"><a class="header" href="#create-dx-project-say-validate1">Create DX Project (say: validate1)</a></h2>
<pre><code>mkdir ~/.prj
cd ~/.prj
sfdx force:project:create -n validate1
</code></pre>
<pre><code>ls ~/.prj/validate1
cd validate1

ls  
README.md		force-app		package.json		sfdx-project.json
config			jest.config.js		scripts
</code></pre>
<h2 id="retrieve-for-example-apexclass"><a class="header" href="#retrieve-for-example-apexclass">Retrieve (for example ApexClass)</a></h2>
<pre><code>sfdx force:source:retrieve -u mohan.chinnappan.n_ea2@gmail.com  -m ApexClass 

</code></pre>
<pre><code>Preparing retrieve request... done
=== Retrieved Source

 FULL NAME                               TYPE      PROJECT PATH                                                                        
 ─────────────────────────────────────── ───────── ─────────────────────────────────────────────────────────────────────────────────── 
 AccessToken                             ApexClass force-app/main/default/classes/AccessToken.cls  
 ...
</code></pre>
<h2 id="list-the-retrieved"><a class="header" href="#list-the-retrieved">List the retrieved</a></h2>
<pre><code>ls force-app/main/default/classes 
AccessToken.cls						LightningLoginFormController.cls-meta.xml
AccessToken.cls-meta.xml				LightningLoginFormControllerTest.cls
...
</code></pre>
<h2 id="quick-deploy"><a class="header" href="#quick-deploy">Quick deploy</a></h2>
<pre><code>sfdx force:source:deploy -u mohan.chinnappan.n_ea2@gmail.com  -m ApexClass -c 

</code></pre>
<pre><code>*** Deploying with SOAP API v55.0 ***
Deploy ID: 0Af3h00000QZnmZCAT
DEPLOY PROGRESS | ████████████████████████████████████████ | 105/105 Components
Successfully validated the deployment. 105 components deployed and 0 tests run.

</code></pre>
<ul>
<li><img src="https://raw.githubusercontent.com/mohan-chinnappan-n/cli-dx/master/source/img/deploy-validation-1.png" alt="Deployment Valiation" /></li>
</ul>
<h2 id="can-i-do-it-in-a-single-script"><a class="header" href="#can-i-do-it-in-a-single-script">Can I Do it in a single script?</a></h2>
<ul>
<li>Yes</li>
</ul>
<h3 id="bash-script"><a class="header" href="#bash-script">Bash script</a></h3>
<ul>
<li><a href="https://github.com/mohan-chinnappan-n/cli-dx/blob/master/source/validate.sh">Script</a></li>
<li>make it executable <code>chmod +x validate.sh</code></li>
</ul>
<pre><code class="language-bash">


#!/bin/bash
##--------------------------------------##
# validate.sh
# Purpose: Validating the given metadata type(s) from a source org against a target org

# - mohan chinnappan jul-19-2022 - creation
# - mohan chinnappan aug-12-2022 - added apiversion support
# - &lt;your_name&gt; date - &lt;your contributions&gt;
##-------------------------------------##


## Util Functions 
sf_login() {
	case $1 in
		SBX)
		echo &quot;=== login into a Sandbox ... ===&quot;
		sfdx force:auth:web:login -r https://test.salesforce.com
		;;

		PROD)	
		echo &quot;=== login into a PROD or Dev Edition ... ===&quot;
		sfdx force:auth:web:login -r https://login.salesforce.com
		;;
	esac

}


help() {
	if [[ &quot;$1&quot; -ne 7 ]] 
	then
	     echo &quot;=== Validate script ===&quot;
	     echo &quot;usage: ./validate.sh  &lt;SRC PROD|SBX&gt; &lt;PRJ_Name&gt; &lt;SRC_UserName&gt; &lt;MetadataTypes - in command separated&gt; &lt;TARGET PROD|SBX&gt; &lt;TARGET_UserName&gt; &lt;apiversion&gt;&quot;
	     echo &quot;Example: usage: ./validate.sh  PROD validate2 mohan.chinnappan.n_ea2@gmail.com ApexClass PROD mohan.chinnappan.n_ea2@gmail.com 55.0&quot;
	     exit 0 
	fi
}



help $#


mkdir ~/.prj
cd ~/.prj

# Read commandline args
sbx_prod=$1
project=$2
un=$3
mt=$4

tsbx_prod=$5
tun=$6
apiversion=$7



echo &quot;=== Login into the Source org ===&quot;
sf_login $sbx_prod

# Remove the validate2 folder if it is already there
[ -e ~/.prj/validate2 ] &amp;&amp; rm -fr  ~/.prj/validate2


echo &quot;=== Creating the the project $project ... ===&quot;
sfdx force:project:create -n $project 

cd validate2
ls -l


echo  &quot;=== Retrieving source for the metadata type(s): $mt ... ===&quot;
sfdx force:source:retrieve -u $un  -m $mt 

ls -l

echo &quot;=== Login into the Target org ===&quot;
sf_login $tsbx_prod



echo  &quot;=== Validating the source for the quick deployment ... ===&quot;

sfdx force:source:deploy -u $tun  -m $mt -c -l RunLocalTests --apiversion $apiversion

echo &quot;=== Opening the org for checking the deployment status ... ===&quot;
sfdx force:org:open -u $tun  -p lightning/setup/DeployStatus/home



</code></pre>
<h3 id="demo-6"><a class="header" href="#demo-6">Demo</a></h3>
<pre><code>=== Validate script ===
usage: ./validate.sh  &lt;SRC PROD|SBX&gt; &lt;PRJ_Name&gt; &lt;SRC_UserName&gt; &lt;MetadataTypes - in command separated&gt; &lt;TARGET PROD|SBX&gt; &lt;TARGET_UserName&gt;
Example: usage: ./validate.sh  PROD validate2 mohan.chinnappan.n_ea2@gmail.com ApexClass PROD mohan.chinnappan.n_ea2@gmail.com 


./validate.sh  PROD validate2 mohan.chinnappan.n_ea2@gmail.com ApexClass PROD mohan.chinnappan.n_ea2@gmail.com 
mkdir: /Users/mchinnappan/.prj: File exists

=== Login into the Source org ===
Successfully authorized mohan.chinnappan.n_ea2@gmail.com with org ID 00D3h000007R1LuEAK

=== Creating the the project validate2 ... ===
target dir = /Users/mchinnappan/.prj
identical validate2/config/project-scratch-def.json
identical validate2/README.md
identical validate2/sfdx-project.json
identical validate2/.husky/pre-commit
identical validate2/.vscode/extensions.json
identical validate2/.vscode/launch.json
identical validate2/.vscode/settings.json
identical validate2/force-app/main/default/lwc/.eslintrc.json
identical validate2/force-app/main/default/aura/.eslintrc.json
identical validate2/scripts/soql/account.soql
identical validate2/scripts/apex/hello.apex
identical validate2/.eslintignore
identical validate2/.forceignore
identical validate2/.gitignore
identical validate2/.prettierignore
identical validate2/.prettierrc
identical validate2/jest.config.js
identical validate2/package.json

total 32
-rw-r--r--  1 mchinnappan  staff  1251 Jul 19 17:07 README.md
drwxr-xr-x  3 mchinnappan  staff    96 Jul 19 17:07 config
drwxr-xr-x  3 mchinnappan  staff    96 Jul 19 17:07 force-app
-rw-r--r--  1 mchinnappan  staff   170 Jul 19 17:07 jest.config.js
-rw-r--r--  1 mchinnappan  staff  1386 Jul 19 17:07 package.json
drwxr-xr-x  4 mchinnappan  staff   128 Jul 19 17:07 scripts
-rw-r--r--  1 mchinnappan  staff   217 Jul 19 17:07 sfdx-project.json

=== Retrieving source for the metadata type(s): ApexClass ... ===
Preparing retrieve request... done
=== Retrieved Source

 FULL NAME                               TYPE      PROJECT PATH                                                                        
 ─────────────────────────────────────── ───────── ─────────────────────────────────────────────────────────────────────────────────── 
 AccessToken                             ApexClass force-app/main/default/classes/AccessToken.cls                                      
 AccessToken                             ApexClass force-app/main/default/classes/AccessToken.cls-meta.xml                             
 AccountController                       ApexClass force-app/main/default/classes/AccountController.cls                                
 AccountController                       ApexClass force-app/main/default/classes/AccountController.cls-meta.xml                       
 AccountRESTController                   ApexClass force-app/main/default/classes/AccountRESTController.cls                            
 AccountRESTController                   ApexClass force-app/main/default/classes/AccountRESTController.cls-meta.xml                   
 ApexClassForTests                       ApexClass force-app/main/default/classes/ApexClassForTests.cls                                
 ApexClassForTests                       ApexClass force-app/main/default/classes/ApexClassForTests.cls-meta.xml                       
 ApexParser                              ApexClass force-app/main/default/classes/ApexParser.cls                                       
 ApexParser                              ApexClass force-app/main/default/classes/ApexParser.cls-meta.xml                              
 ApexStepData                            ApexClass force-app/main/default/classes/ApexStepData.cls                                     
 ApexStepData                            ApexClass force-app/main/default/classes/ApexStepData.cls-meta.xml                            
 AsyncExecutionExample                   ApexClass force-app/main/default/classes/AsyncExecutionExample.cls                            
 AsyncExecutionExample                   ApexClass force-app/main/default/classes/AsyncExecutionExample.cls-meta.xml                   
 AutocreatedRegHandler1618428423355      ApexClass force-app/main/default/classes/AutocreatedRegHandler1618428423355.cls               
 AutocreatedRegHandler1618428423355      ApexClass force-app/main/default/classes/AutocreatedRegHandler1618428423355.cls-meta.xml      
 ChangePasswordController                ApexClass force-app/main/default/classes/ChangePasswordController.cls                         
 ChangePasswordController                ApexClass force-app/main/default/classes/ChangePasswordController.cls-meta.xml                
 ChangePasswordControllerTest            ApexClass force-app/main/default/classes/ChangePasswordControllerTest.cls                     
 ChangePasswordControllerTest            ApexClass force-app/main/default/classes/ChangePasswordControllerTest.cls-meta.xml            
 ClassDiagramCreatorCtrl                 ApexClass force-app/main/default/classes/ClassDiagramCreatorCtrl.cls                          
 ClassDiagramCreatorCtrl                 ApexClass force-app/main/default/classes/ClassDiagramCreatorCtrl.cls-meta.xml                 
 CodeMetrics                             ApexClass force-app/main/default/classes/CodeMetrics.cls                                      
 CodeMetrics                             ApexClass force-app/main/default/classes/CodeMetrics.cls-meta.xml                             
 CommunitiesLandingController            ApexClass force-app/main/default/classes/CommunitiesLandingController.cls                     
 CommunitiesLandingController            ApexClass force-app/main/default/classes/CommunitiesLandingController.cls-meta.xml            
 CommunitiesLandingControllerTest        ApexClass force-app/main/default/classes/CommunitiesLandingControllerTest.cls                 
 CommunitiesLandingControllerTest        ApexClass force-app/main/default/classes/CommunitiesLandingControllerTest.cls-meta.xml        
 CommunitiesLoginController              ApexClass force-app/main/default/classes/CommunitiesLoginController.cls                       
 CommunitiesLoginController              ApexClass force-app/main/default/classes/CommunitiesLoginController.cls-meta.xml              
 CommunitiesLoginControllerTest          ApexClass force-app/main/default/classes/CommunitiesLoginControllerTest.cls                   
 CommunitiesLoginControllerTest          ApexClass force-app/main/default/classes/CommunitiesLoginControllerTest.cls-meta.xml          
 CommunitiesSelfRegConfirmController     ApexClass force-app/main/default/classes/CommunitiesSelfRegConfirmController.cls              
 CommunitiesSelfRegConfirmController     ApexClass force-app/main/default/classes/CommunitiesSelfRegConfirmController.cls-meta.xml     
 CommunitiesSelfRegConfirmControllerTest ApexClass force-app/main/default/classes/CommunitiesSelfRegConfirmControllerTest.cls          
 CommunitiesSelfRegConfirmControllerTest ApexClass force-app/main/default/classes/CommunitiesSelfRegConfirmControllerTest.cls-meta.xml 
 CommunitiesSelfRegController            ApexClass force-app/main/default/classes/CommunitiesSelfRegController.cls                     
 CommunitiesSelfRegController            ApexClass force-app/main/default/classes/CommunitiesSelfRegController.cls-meta.xml            
 CommunitiesSelfRegControllerTest        ApexClass force-app/main/default/classes/CommunitiesSelfRegControllerTest.cls                 
 CommunitiesSelfRegControllerTest        ApexClass force-app/main/default/classes/CommunitiesSelfRegControllerTest.cls-meta.xml        
 DataManager_Activity                    ApexClass force-app/main/default/classes/DataManager_Activity.cls                             
 DataManager_Activity                    ApexClass force-app/main/default/classes/DataManager_Activity.cls-meta.xml                    
 DataManager_ActivityTest                ApexClass force-app/main/default/classes/DataManager_ActivityTest.cls                         
 DataManager_ActivityTest                ApexClass force-app/main/default/classes/DataManager_ActivityTest.cls-meta.xml                
 DataManager_CleanUp                     ApexClass force-app/main/default/classes/DataManager_CleanUp.cls                              
 DataManager_CleanUp                     ApexClass force-app/main/default/classes/DataManager_CleanUp.cls-meta.xml                     
 DataManager_CleanUpTest                 ApexClass force-app/main/default/classes/DataManager_CleanUpTest.cls                          
 DataManager_CleanUpTest                 ApexClass force-app/main/default/classes/DataManager_CleanUpTest.cls-meta.xml                 
 DataManager_Dataflow                    ApexClass force-app/main/default/classes/DataManager_Dataflow.cls                             
 DataManager_Dataflow                    ApexClass force-app/main/default/classes/DataManager_Dataflow.cls-meta.xml                    
 DataManager_DataflowTest                ApexClass force-app/main/default/classes/DataManager_DataflowTest.cls                         
 DataManager_DataflowTest                ApexClass force-app/main/default/classes/DataManager_DataflowTest.cls-meta.xml                
 DataManager_Opportunity                 ApexClass force-app/main/default/classes/DataManager_Opportunity.cls                          
 DataManager_Opportunity                 ApexClass force-app/main/default/classes/DataManager_Opportunity.cls-meta.xml                 
 DataManager_OpportunityRelated          ApexClass force-app/main/default/classes/DataManager_OpportunityRelated.cls                   
 DataManager_OpportunityRelated          ApexClass force-app/main/default/classes/DataManager_OpportunityRelated.cls-meta.xml          
 DataManager_OpportunityRelatedTest      ApexClass force-app/main/default/classes/DataManager_OpportunityRelatedTest.cls               
 DataManager_OpportunityRelatedTest      ApexClass force-app/main/default/classes/DataManager_OpportunityRelatedTest.cls-meta.xml      
 DataManager_OpportunityTest             ApexClass force-app/main/default/classes/DataManager_OpportunityTest.cls                      
 DataManager_OpportunityTest             ApexClass force-app/main/default/classes/DataManager_OpportunityTest.cls-meta.xml             
 DataManager_Quota                       ApexClass force-app/main/default/classes/DataManager_Quota.cls                                
 DataManager_Quota                       ApexClass force-app/main/default/classes/DataManager_Quota.cls-meta.xml                       
 DataManager_QuotaTest                   ApexClass force-app/main/default/classes/DataManager_QuotaTest.cls                            
 DataManager_QuotaTest                   ApexClass force-app/main/default/classes/DataManager_QuotaTest.cls-meta.xml                   
 DataManager_TestUtils                   ApexClass force-app/main/default/classes/DataManager_TestUtils.cls                            
 DataManager_TestUtils                   ApexClass force-app/main/default/classes/DataManager_TestUtils.cls-meta.xml                   
 DataManager_Utils                       ApexClass force-app/main/default/classes/DataManager_Utils.cls                                
 DataManager_Utils                       ApexClass force-app/main/default/classes/DataManager_Utils.cls-meta.xml                       
 DataManager_UtilsTest                   ApexClass force-app/main/default/classes/DataManager_UtilsTest.cls                            
 DataManager_UtilsTest                   ApexClass force-app/main/default/classes/DataManager_UtilsTest.cls-meta.xml                   
 DataManager_controller                  ApexClass force-app/main/default/classes/DataManager_controller.cls                           
 DataManager_controller                  ApexClass force-app/main/default/classes/DataManager_controller.cls-meta.xml                  
 DataManager_controllerTest              ApexClass force-app/main/default/classes/DataManager_controllerTest.cls                       
 DataManager_controllerTest              ApexClass force-app/main/default/classes/DataManager_controllerTest.cls-meta.xml              
 ERDCreatorCtrl                          ApexClass force-app/main/default/classes/ERDCreatorCtrl.cls                                   
 ERDCreatorCtrl                          ApexClass force-app/main/default/classes/ERDCreatorCtrl.cls-meta.xml                          
 ForgotPasswordController                ApexClass force-app/main/default/classes/ForgotPasswordController.cls                         
 ForgotPasswordController                ApexClass force-app/main/default/classes/ForgotPasswordController.cls-meta.xml                
 ForgotPasswordControllerTest            ApexClass force-app/main/default/classes/ForgotPasswordControllerTest.cls                     
 ForgotPasswordControllerTest            ApexClass force-app/main/default/classes/ForgotPasswordControllerTest.cls-meta.xml            
 Fruit                                   ApexClass force-app/main/default/classes/Fruit.cls                                            
 Fruit                                   ApexClass force-app/main/default/classes/Fruit.cls-meta.xml                                   
 FuritsInv                               ApexClass force-app/main/default/classes/FuritsInv.cls                                        
 FuritsInv                               ApexClass force-app/main/default/classes/FuritsInv.cls-meta.xml                               
 FuritsManger                            ApexClass force-app/main/default/classes/FuritsManger.cls                                     
 FuritsManger                            ApexClass force-app/main/default/classes/FuritsManger.cls-meta.xml                            
 GanttChartCtrl                          ApexClass force-app/main/default/classes/GanttChartCtrl.cls                                   
 GanttChartCtrl                          ApexClass force-app/main/default/classes/GanttChartCtrl.cls-meta.xml                          
 GanttData                               ApexClass force-app/main/default/classes/GanttData.cls                                        
 GanttData                               ApexClass force-app/main/default/classes/GanttData.cls-meta.xml                               
 GeocodingService                        ApexClass force-app/main/default/classes/GeocodingService.cls                                 
 GeocodingService                        ApexClass force-app/main/default/classes/GeocodingService.cls-meta.xml                        
 GeocodingServiceTest                    ApexClass force-app/main/default/classes/GeocodingServiceTest.cls                             
 GeocodingServiceTest                    ApexClass force-app/main/default/classes/GeocodingServiceTest.cls-meta.xml                    
 IdeaController                          ApexClass force-app/main/default/classes/IdeaController.cls                                   
 IdeaController                          ApexClass force-app/main/default/classes/IdeaController.cls-meta.xml                          
 IdeaCtrl                                ApexClass force-app/main/default/classes/IdeaCtrl.cls                                         
 IdeaCtrl                                ApexClass force-app/main/default/classes/IdeaCtrl.cls-meta.xml                                
 Jdt                                     ApexClass force-app/main/default/classes/Jdt.cls                                              
 Jdt                                     ApexClass force-app/main/default/classes/Jdt.cls-meta.xml                                     
 LightningForgotPasswordController       ApexClass force-app/main/default/classes/LightningForgotPasswordController.cls                
 LightningForgotPasswordController       ApexClass force-app/main/default/classes/LightningForgotPasswordController.cls-meta.xml       
 LightningForgotPasswordControllerTest   ApexClass force-app/main/default/classes/LightningForgotPasswordControllerTest.cls            
 LightningForgotPasswordControllerTest   ApexClass force-app/main/default/classes/LightningForgotPasswordControllerTest.cls-meta.xml   
 LightningLoginFormController            ApexClass force-app/main/default/classes/LightningLoginFormController.cls                     
 LightningLoginFormController            ApexClass force-app/main/default/classes/LightningLoginFormController.cls-meta.xml            
 LightningLoginFormControllerTest        ApexClass force-app/main/default/classes/LightningLoginFormControllerTest.cls                 
 LightningLoginFormControllerTest        ApexClass force-app/main/default/classes/LightningLoginFormControllerTest.cls-meta.xml        
 LightningSelfRegisterController         ApexClass force-app/main/default/classes/LightningSelfRegisterController.cls                  
 LightningSelfRegisterController         ApexClass force-app/main/default/classes/LightningSelfRegisterController.cls-meta.xml         
 LightningSelfRegisterControllerTest     ApexClass force-app/main/default/classes/LightningSelfRegisterControllerTest.cls              
 LightningSelfRegisterControllerTest     ApexClass force-app/main/default/classes/LightningSelfRegisterControllerTest.cls-meta.xml     
 MetadataService                         ApexClass force-app/main/default/classes/MetadataService.cls                                  
 MetadataService                         ApexClass force-app/main/default/classes/MetadataService.cls-meta.xml                         
 MetadataServiceTest                     ApexClass force-app/main/default/classes/MetadataServiceTest.cls                              
 MetadataServiceTest                     ApexClass force-app/main/default/classes/MetadataServiceTest.cls-meta.xml                     
 MicrobatchSelfRegController             ApexClass force-app/main/default/classes/MicrobatchSelfRegController.cls                      
 MicrobatchSelfRegController             ApexClass force-app/main/default/classes/MicrobatchSelfRegController.cls-meta.xml             
 MicrobatchSelfRegControllerTest         ApexClass force-app/main/default/classes/MicrobatchSelfRegControllerTest.cls                  
 MicrobatchSelfRegControllerTest         ApexClass force-app/main/default/classes/MicrobatchSelfRegControllerTest.cls-meta.xml         
 MultiselectController                   ApexClass force-app/main/default/classes/MultiselectController.cls                            
 MultiselectController                   ApexClass force-app/main/default/classes/MultiselectController.cls-meta.xml                   
 MultiselectControllerTest               ApexClass force-app/main/default/classes/MultiselectControllerTest.cls                        
 MultiselectControllerTest               ApexClass force-app/main/default/classes/MultiselectControllerTest.cls-meta.xml               
 MyProfilePageController                 ApexClass force-app/main/default/classes/MyProfilePageController.cls                          
 MyProfilePageController                 ApexClass force-app/main/default/classes/MyProfilePageController.cls-meta.xml                 
 MyProfilePageControllerTest             ApexClass force-app/main/default/classes/MyProfilePageControllerTest.cls                      
 MyProfilePageControllerTest             ApexClass force-app/main/default/classes/MyProfilePageControllerTest.cls-meta.xml             
 OpportunityController                   ApexClass force-app/main/default/classes/OpportunityController.cls                            
 OpportunityController                   ApexClass force-app/main/default/classes/OpportunityController.cls-meta.xml                   
 PagedResult                             ApexClass force-app/main/default/classes/PagedResult.cls                                      
 PagedResult                             ApexClass force-app/main/default/classes/PagedResult.cls-meta.xml                             
 PlantUMLClassDiagram                    ApexClass force-app/main/default/classes/PlantUMLClassDiagram.cls                             
 PlantUMLClassDiagram                    ApexClass force-app/main/default/classes/PlantUMLClassDiagram.cls-meta.xml                    
 PlantUMLERDiagram                       ApexClass force-app/main/default/classes/PlantUMLERDiagram.cls                                
 PlantUMLERDiagram                       ApexClass force-app/main/default/classes/PlantUMLERDiagram.cls-meta.xml                       
 PropertyController                      ApexClass force-app/main/default/classes/PropertyController.cls                               
 PropertyController                      ApexClass force-app/main/default/classes/PropertyController.cls-meta.xml                      
 SOQLControllerInjection                 ApexClass force-app/main/default/classes/SOQLControllerInjection.cls                          
 SOQLControllerInjection                 ApexClass force-app/main/default/classes/SOQLControllerInjection.cls-meta.xml                 
 SampleDataController                    ApexClass force-app/main/default/classes/SampleDataController.cls                             
 SampleDataController                    ApexClass force-app/main/default/classes/SampleDataController.cls-meta.xml                    
 SelectOptionSorter                      ApexClass force-app/main/default/classes/SelectOptionSorter.cls                               
 SelectOptionSorter                      ApexClass force-app/main/default/classes/SelectOptionSorter.cls-meta.xml                      
 ServiceWaveConfigurationModifier        ApexClass force-app/main/default/classes/ServiceWaveConfigurationModifier.cls                 
 ServiceWaveConfigurationModifier        ApexClass force-app/main/default/classes/ServiceWaveConfigurationModifier.cls-meta.xml        
 SiteLoginController                     ApexClass force-app/main/default/classes/SiteLoginController.cls                              
 SiteLoginController                     ApexClass force-app/main/default/classes/SiteLoginController.cls-meta.xml                     
 SiteLoginControllerTest                 ApexClass force-app/main/default/classes/SiteLoginControllerTest.cls                          
 SiteLoginControllerTest                 ApexClass force-app/main/default/classes/SiteLoginControllerTest.cls-meta.xml                 
 SiteRegisterController                  ApexClass force-app/main/default/classes/SiteRegisterController.cls                           
 SiteRegisterController                  ApexClass force-app/main/default/classes/SiteRegisterController.cls-meta.xml                  
 SiteRegisterControllerTest              ApexClass force-app/main/default/classes/SiteRegisterControllerTest.cls                       
 SiteRegisterControllerTest              ApexClass force-app/main/default/classes/SiteRegisterControllerTest.cls-meta.xml              
 SoftphoneContactSearchController        ApexClass force-app/main/default/classes/SoftphoneContactSearchController.cls                 
 SoftphoneContactSearchController        ApexClass force-app/main/default/classes/SoftphoneContactSearchController.cls-meta.xml        
 SoftphoneContactSearchControllerTest    ApexClass force-app/main/default/classes/SoftphoneContactSearchControllerTest.cls             
 SoftphoneContactSearchControllerTest    ApexClass force-app/main/default/classes/SoftphoneContactSearchControllerTest.cls-meta.xml    
 SoftphoneProviderController             ApexClass force-app/main/default/classes/SoftphoneProviderController.cls                      
 SoftphoneProviderController             ApexClass force-app/main/default/classes/SoftphoneProviderController.cls-meta.xml             
 SoftphoneProviderControllerTest         ApexClass force-app/main/default/classes/SoftphoneProviderControllerTest.cls                  
 SoftphoneProviderControllerTest         ApexClass force-app/main/default/classes/SoftphoneProviderControllerTest.cls-meta.xml         
 SoftphoneProviderHelper                 ApexClass force-app/main/default/classes/SoftphoneProviderHelper.cls                          
 SoftphoneProviderHelper                 ApexClass force-app/main/default/classes/SoftphoneProviderHelper.cls-meta.xml                 
 SoftphoneProviderHelperTest             ApexClass force-app/main/default/classes/SoftphoneProviderHelperTest.cls                      
 SoftphoneProviderHelperTest             ApexClass force-app/main/default/classes/SoftphoneProviderHelperTest.cls-meta.xml             
 Tasks                                   ApexClass force-app/main/default/classes/Tasks.cls                                            
 Tasks                                   ApexClass force-app/main/default/classes/Tasks.cls-meta.xml                                   
 TestApex                                ApexClass force-app/main/default/classes/TestApex.cls                                         
 TestApex                                ApexClass force-app/main/default/classes/TestApex.cls-meta.xml                                
 TestPropertyController                  ApexClass force-app/main/default/classes/TestPropertyController.cls                           
 TestPropertyController                  ApexClass force-app/main/default/classes/TestPropertyController.cls-meta.xml                  
 TestSampleDataController                ApexClass force-app/main/default/classes/TestSampleDataController.cls                         
 TestSampleDataController                ApexClass force-app/main/default/classes/TestSampleDataController.cls-meta.xml                
 UploadEMUserNotFoundException           ApexClass force-app/main/default/classes/UploadEMUserNotFoundException.cls                    
 UploadEMUserNotFoundException           ApexClass force-app/main/default/classes/UploadEMUserNotFoundException.cls-meta.xml           
 Upload_Init_EM                          ApexClass force-app/main/default/classes/Upload_Init_EM.cls                                   
 Upload_Init_EM                          ApexClass force-app/main/default/classes/Upload_Init_EM.cls-meta.xml                          
 Upload_Init_EMTest                      ApexClass force-app/main/default/classes/Upload_Init_EMTest.cls                               
 Upload_Init_EMTest                      ApexClass force-app/main/default/classes/Upload_Init_EMTest.cls-meta.xml                      
 Upload_ProcessTest_EM                   ApexClass force-app/main/default/classes/Upload_ProcessTest_EM.cls                            
 Upload_ProcessTest_EM                   ApexClass force-app/main/default/classes/Upload_ProcessTest_EM.cls-meta.xml                   
 Upload_Process_EM                       ApexClass force-app/main/default/classes/Upload_Process_EM.cls                                
 Upload_Process_EM                       ApexClass force-app/main/default/classes/Upload_Process_EM.cls-meta.xml                       
 Upload_controller_EM                    ApexClass force-app/main/default/classes/Upload_controller_EM.cls                             
 Upload_controller_EM                    ApexClass force-app/main/default/classes/Upload_controller_EM.cls-meta.xml                    
 Upload_controller_EMTest                ApexClass force-app/main/default/classes/Upload_controller_EMTest.cls                         
 Upload_controller_EMTest                ApexClass force-app/main/default/classes/Upload_controller_EMTest.cls-meta.xml                
 WrikeWebHook                            ApexClass force-app/main/default/classes/WrikeWebHook.cls                                     
 WrikeWebHook                            ApexClass force-app/main/default/classes/WrikeWebHook.cls-meta.xml                            
 Wrike_AbstractSectionController         ApexClass force-app/main/default/classes/Wrike_AbstractSectionController.cls                  
 Wrike_AbstractSectionController         ApexClass force-app/main/default/classes/Wrike_AbstractSectionController.cls-meta.xml         
 Wrike_AuthorizeController               ApexClass force-app/main/default/classes/Wrike_AuthorizeController.cls                        
 Wrike_AuthorizeController               ApexClass force-app/main/default/classes/Wrike_AuthorizeController.cls-meta.xml               
 Wrike_FolderController                  ApexClass force-app/main/default/classes/Wrike_FolderController.cls                           
 Wrike_FolderController                  ApexClass force-app/main/default/classes/Wrike_FolderController.cls-meta.xml                  
 Wrike_PrivilegedUtils                   ApexClass force-app/main/default/classes/Wrike_PrivilegedUtils.cls                            
 Wrike_PrivilegedUtils                   ApexClass force-app/main/default/classes/Wrike_PrivilegedUtils.cls-meta.xml                   
 Wrike_RemoteSettingsController          ApexClass force-app/main/default/classes/Wrike_RemoteSettingsController.cls                   
 Wrike_RemoteSettingsController          ApexClass force-app/main/default/classes/Wrike_RemoteSettingsController.cls-meta.xml          
 Wrike_SetupController                   ApexClass force-app/main/default/classes/Wrike_SetupController.cls                            
 Wrike_SetupController                   ApexClass force-app/main/default/classes/Wrike_SetupController.cls-meta.xml                   
 Wrike_TaskController                    ApexClass force-app/main/default/classes/Wrike_TaskController.cls                             
 Wrike_TaskController                    ApexClass force-app/main/default/classes/Wrike_TaskController.cls-meta.xml                    
 Wrike_Test                              ApexClass force-app/main/default/classes/Wrike_Test.cls                                       
 Wrike_Test                              ApexClass force-app/main/default/classes/Wrike_Test.cls-meta.xml                              
 datatableController                     ApexClass force-app/main/default/classes/datatableController.cls                              
 datatableController                     ApexClass force-app/main/default/classes/datatableController.cls-meta.xml                     
 uploadController                        ApexClass force-app/main/default/classes/uploadController.cls                                 
 uploadController                        ApexClass force-app/main/default/classes/uploadController.cls-meta.xml                        
total 32
-rw-r--r--  1 mchinnappan  staff  1251 Jul 19 17:07 README.md
drwxr-xr-x  3 mchinnappan  staff    96 Jul 19 17:07 config
drwxr-xr-x  3 mchinnappan  staff    96 Jul 19 17:07 force-app
-rw-r--r--  1 mchinnappan  staff   170 Jul 19 17:07 jest.config.js
-rw-r--r--  1 mchinnappan  staff  1386 Jul 19 17:07 package.json
drwxr-xr-x  4 mchinnappan  staff   128 Jul 19 17:07 scripts
-rw-r--r--  1 mchinnappan  staff   217 Jul 19 17:07 sfdx-project.json
=== Login into the Target org ===
Successfully authorized mohan.chinnappan.n_ea2@gmail.com with org ID 00D3h000007R1LuEAK
=== Validating the source for the quick deployment ... ===
*** Deploying with SOAP API v55.0 ***
Deploy ID: 0Af3h00000QZoegCAD
DEPLOY PROGRESS | ████████████████████████████████████████ | 174/174 Components

=== Component Failures [0]

 Type Name Problem 
 ──── ──── ─────── 


=== Test Results Summary

Passing: 69
Failing: 6
Total: 75
Time: 71194
ERROR running force:source:deploy:  Deploy failed.
=== Opening the org for checking the deployment status ... ===
Opening org 00D3h000007R1LuEAK as user mohan.chinnappan.n_ea2@gmail.com
Waiting to resolve the Lightning Experience-enabled custom domain...... done
</code></pre>
<p><img src="https://raw.githubusercontent.com/mohan-chinnappan-n/cli-dx/master/source/img/deploy-validation-2.png" alt="deploy-validation-2" /></p>
<hr />
<h2 id="deploy-using-this-id-0af3h00000qzoegcad"><a class="header" href="#deploy-using-this-id-0af3h00000qzoegcad">Deploy using this ID: 0Af3h00000QZoegCAD</a></h2>
<pre><code>sfdx force:source:deploy -q 0Af3h00000QZoegCAD -u  mohan.chinnappan.n_ea2@gmail.com --apiversion 55.0
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="taking-care-of-admin-changes"><a class="header" href="#taking-care-of-admin-changes">Taking care of Admin changes</a></h1>
<h2 id="topics-12"><a class="header" href="#topics-12">Topics</a></h2>
<ul>
<li><a href="deployments/admin-changes.html#usecase">Use case</a></li>
<li><a href="deployments/admin-changes.html#hotfix">Hotfix creation</a></li>
<li><a href="deployments/admin-changes.html#onnu">Using ONNU Chrome Extension</a></li>
<li><a href="deployments/admin-changes.html#cli">Using CLI</a></li>
<li><a href="deployments/../security/profile-ps.html">Retrieving Profile and Permission Set</a></li>
<li><a href="deployments/../security/setupAuditTrail.html">Viewing SetupAuditTrail</a></li>
<li><a href="deployments/admin-changes.html#pkggen">package.xml Generator</a></li>
</ul>
<p><a name='usecase'></a></p>
<h2 id="use-case-1"><a class="header" href="#use-case-1">Use case</a></h2>
<ul>
<li>Admin wants to make changes (like adding reports, adding custom fields, list views...) to a non-source tracked orgs like PROD</li>
<li>Admin not familiar with developer tools, version control</li>
</ul>
<pre class="mermaid">

sequenceDiagram
autonumber
Admin-&gt;&gt;ChangeControl: Create WorkItem
ChangeControl-&gt;&gt;Admin: Validate and approve
Admin-&gt;&gt;Org: Perform Changes
Admin-&gt;&gt;ChangeControl: Update WorkItem:&lt;br/&gt; Assign to right team member for hotfix branch creation
ChangeControl-&gt;&gt;TeamMember: Notify
TeamMember-&gt;&gt;VersionControl: Create hotfix branch based on the changes &lt;br/&gt; done by the Admin in the WorkItem

 
 
</pre>
<p><a name='hotfix'></a></p>
<h2 id="create-hotfix-based-on-the-changes-done-by-the-admin-in-the-workitem"><a class="header" href="#create-hotfix-based-on-the-changes-done-by-the-admin-in-the-workitem">Create hotfix based on the changes done by the Admin in the WorkItem</a></h2>
<ul>
<li>Options
<ul>
<li>Using Chrome Extension <a href="deployments/../chromeext/onnu.html">ONNU</a></li>
<li>Using CLI</li>
</ul>
</li>
<li><strong>This assumes the TeamMember has the access to this Org</strong></li>
</ul>
<p><a name='onnu'></a></p>
<h3 id="using-onnu"><a class="header" href="#using-onnu">Using ONNU</a></h3>
<ul>
<li>
<p>Assume Admin has added a CustomObject <code>FruitTree__c</code> as the WorkItem - WI-12345</p>
</li>
<li>
<p><img src="deployments/img/onnu-2.webm.gif" alt="Demo" /></p>
</li>
</ul>
<h3 id="zip-file-created"><a class="header" href="#zip-file-created">Zip file created</a></h3>
<pre><code>tree unpackaged\ 68
</code></pre>
<pre><code>unpackaged\ 68
├── objects
│   └── FruitTree__c.object
└── package.xml
</code></pre>
<pre><code>~/Downloads/unpackaged 68  &gt;cat objects/FruitTree__c.object 
</code></pre>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;CustomObject xmlns=&quot;http://soap.sforce.com/2006/04/metadata&quot;&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;Accept&lt;/actionName&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;Accept&lt;/actionName&gt;
        &lt;formFactor&gt;Large&lt;/formFactor&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;Accept&lt;/actionName&gt;
        &lt;formFactor&gt;Small&lt;/formFactor&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;CancelEdit&lt;/actionName&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;CancelEdit&lt;/actionName&gt;
        &lt;formFactor&gt;Large&lt;/formFactor&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;CancelEdit&lt;/actionName&gt;
        &lt;formFactor&gt;Small&lt;/formFactor&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;Clone&lt;/actionName&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;Clone&lt;/actionName&gt;
        &lt;formFactor&gt;Large&lt;/formFactor&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;Clone&lt;/actionName&gt;
        &lt;formFactor&gt;Small&lt;/formFactor&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;Delete&lt;/actionName&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;Delete&lt;/actionName&gt;
        &lt;formFactor&gt;Large&lt;/formFactor&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;Delete&lt;/actionName&gt;
        &lt;formFactor&gt;Small&lt;/formFactor&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;Edit&lt;/actionName&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;Edit&lt;/actionName&gt;
        &lt;formFactor&gt;Large&lt;/formFactor&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;Edit&lt;/actionName&gt;
        &lt;formFactor&gt;Small&lt;/formFactor&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;List&lt;/actionName&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;List&lt;/actionName&gt;
        &lt;formFactor&gt;Large&lt;/formFactor&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;List&lt;/actionName&gt;
        &lt;formFactor&gt;Small&lt;/formFactor&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;New&lt;/actionName&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;New&lt;/actionName&gt;
        &lt;formFactor&gt;Large&lt;/formFactor&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;New&lt;/actionName&gt;
        &lt;formFactor&gt;Small&lt;/formFactor&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;SaveEdit&lt;/actionName&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;SaveEdit&lt;/actionName&gt;
        &lt;formFactor&gt;Large&lt;/formFactor&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;SaveEdit&lt;/actionName&gt;
        &lt;formFactor&gt;Small&lt;/formFactor&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;Tab&lt;/actionName&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;Tab&lt;/actionName&gt;
        &lt;formFactor&gt;Large&lt;/formFactor&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;Tab&lt;/actionName&gt;
        &lt;formFactor&gt;Small&lt;/formFactor&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;View&lt;/actionName&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;View&lt;/actionName&gt;
        &lt;formFactor&gt;Large&lt;/formFactor&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;View&lt;/actionName&gt;
        &lt;formFactor&gt;Small&lt;/formFactor&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;allowInChatterGroups&gt;false&lt;/allowInChatterGroups&gt;
    &lt;compactLayoutAssignment&gt;SYSTEM&lt;/compactLayoutAssignment&gt;
    &lt;deploymentStatus&gt;Deployed&lt;/deploymentStatus&gt;
    &lt;enableActivities&gt;false&lt;/enableActivities&gt;
    &lt;enableBulkApi&gt;true&lt;/enableBulkApi&gt;
    &lt;enableFeeds&gt;false&lt;/enableFeeds&gt;
    &lt;enableHistory&gt;false&lt;/enableHistory&gt;
    &lt;enableLicensing&gt;false&lt;/enableLicensing&gt;
    &lt;enableReports&gt;false&lt;/enableReports&gt;
    &lt;enableSearch&gt;false&lt;/enableSearch&gt;
    &lt;enableSharing&gt;true&lt;/enableSharing&gt;
    &lt;enableStreamingApi&gt;true&lt;/enableStreamingApi&gt;
    &lt;externalSharingModel&gt;Private&lt;/externalSharingModel&gt;
    &lt;label&gt;FruitTree&lt;/label&gt;
    &lt;nameField&gt;
        &lt;label&gt;FruitTree Name&lt;/label&gt;
        &lt;type&gt;Text&lt;/type&gt;
    &lt;/nameField&gt;
    &lt;pluralLabel&gt;FruitTrees&lt;/pluralLabel&gt;
    &lt;searchLayouts/&gt;
    &lt;sharingModel&gt;ReadWrite&lt;/sharingModel&gt;
    &lt;visibility&gt;Public&lt;/visibility&gt;
&lt;/CustomObject&gt;

</code></pre>
<ul>
<li>TeamMember will create a hotfix branch say hotfix-WI-12345 to take of this so this change done by the Admin is back committed into the version control</li>
</ul>
<p><a name='cli'></a></p>
<h3 id="using-cli"><a class="header" href="#using-cli">Using CLI</a></h3>
<ul>
<li>Login</li>
</ul>
<pre><code>sfdx force:auth:web:login
Successfully authorized mohan.chinnappan.n.sel@gmail.com with org ID 00D4x000007rxoGEAQ
</code></pre>
<ul>
<li>Prepare package.xml</li>
</ul>
<pre><code>~/hotfix  &gt;cat hotfix_package.xml 
</code></pre>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;Package xmlns=&quot;http://soap.sforce.com/2006/04/metadata&quot;&gt;
    &lt;types&gt;
        &lt;members&gt;FruitTree__c&lt;/members&gt;
        &lt;name&gt;CustomObject&lt;/name&gt;
    &lt;/types&gt;
    &lt;version&gt;56.0&lt;/version&gt;
&lt;/Package&gt;

</code></pre>
<ul>
<li>Retrieve</li>
</ul>
<pre><code>sfdx force:mdapi:retrieve -k hotfix_package.xml -u mohan.chinnappan.n.sel@gmail.com -r .

</code></pre>
<pre><code>Retrieving v56.0 metadata from mohan.chinnappan.n.sel@gmail.com using the v56.0 SOAP API
Retrieve ID: 09S4x00000EyAenEAF
Retrieving metadata from mohan.chinnappan.n.sel@gmail.com... done
Wrote retrieve zip to /Users/mchinnappan/hotfix/unpackaged.zip
</code></pre>
<ul>
<li>Unzip</li>
</ul>
<pre><code>~/hotfix  &gt;jar xvf unpackaged.zip
</code></pre>
<pre><code> inflated: unpackaged/objects/FruitTree__c.object
 inflated: unpackaged/package.xml
</code></pre>
<pre><code> tree                  
.
├── hotfix_package.xml
├── unpackaged
│   ├── objects
│   │   └── FruitTree__c.object
│   └── package.xml
└── unpackaged.zip
2 directories, 4 files
</code></pre>
<pre><code>~/hotfix  &gt;cat hotfix_package.xml 
</code></pre>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;Package xmlns=&quot;http://soap.sforce.com/2006/04/metadata&quot;&gt;
    &lt;types&gt;
        &lt;members&gt;FruitTree__c&lt;/members&gt;
        &lt;name&gt;CustomObject&lt;/name&gt;
    &lt;/types&gt;
    &lt;version&gt;56.0&lt;/version&gt;
&lt;/Package&gt;
</code></pre>
<pre><code>~/hotfix  &gt;cat unpackaged/objects/FruitTree__c.object 
</code></pre>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;CustomObject xmlns=&quot;http://soap.sforce.com/2006/04/metadata&quot;&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;Accept&lt;/actionName&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;Accept&lt;/actionName&gt;
        &lt;formFactor&gt;Large&lt;/formFactor&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;Accept&lt;/actionName&gt;
        &lt;formFactor&gt;Small&lt;/formFactor&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;CancelEdit&lt;/actionName&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;CancelEdit&lt;/actionName&gt;
        &lt;formFactor&gt;Large&lt;/formFactor&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;CancelEdit&lt;/actionName&gt;
        &lt;formFactor&gt;Small&lt;/formFactor&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;Clone&lt;/actionName&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;Clone&lt;/actionName&gt;
        &lt;formFactor&gt;Large&lt;/formFactor&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;Clone&lt;/actionName&gt;
        &lt;formFactor&gt;Small&lt;/formFactor&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;Delete&lt;/actionName&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;Delete&lt;/actionName&gt;
        &lt;formFactor&gt;Large&lt;/formFactor&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;Delete&lt;/actionName&gt;
        &lt;formFactor&gt;Small&lt;/formFactor&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;Edit&lt;/actionName&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;Edit&lt;/actionName&gt;
        &lt;formFactor&gt;Large&lt;/formFactor&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;Edit&lt;/actionName&gt;
        &lt;formFactor&gt;Small&lt;/formFactor&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;List&lt;/actionName&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;List&lt;/actionName&gt;
        &lt;formFactor&gt;Large&lt;/formFactor&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;List&lt;/actionName&gt;
        &lt;formFactor&gt;Small&lt;/formFactor&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;New&lt;/actionName&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;New&lt;/actionName&gt;
        &lt;formFactor&gt;Large&lt;/formFactor&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;New&lt;/actionName&gt;
        &lt;formFactor&gt;Small&lt;/formFactor&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;SaveEdit&lt;/actionName&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;SaveEdit&lt;/actionName&gt;
        &lt;formFactor&gt;Large&lt;/formFactor&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;SaveEdit&lt;/actionName&gt;
        &lt;formFactor&gt;Small&lt;/formFactor&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;Tab&lt;/actionName&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;Tab&lt;/actionName&gt;
        &lt;formFactor&gt;Large&lt;/formFactor&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;Tab&lt;/actionName&gt;
        &lt;formFactor&gt;Small&lt;/formFactor&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;View&lt;/actionName&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;View&lt;/actionName&gt;
        &lt;formFactor&gt;Large&lt;/formFactor&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;actionOverrides&gt;
        &lt;actionName&gt;View&lt;/actionName&gt;
        &lt;formFactor&gt;Small&lt;/formFactor&gt;
        &lt;type&gt;Default&lt;/type&gt;
    &lt;/actionOverrides&gt;
    &lt;allowInChatterGroups&gt;false&lt;/allowInChatterGroups&gt;
    &lt;compactLayoutAssignment&gt;SYSTEM&lt;/compactLayoutAssignment&gt;
    &lt;deploymentStatus&gt;Deployed&lt;/deploymentStatus&gt;
    &lt;enableActivities&gt;false&lt;/enableActivities&gt;
    &lt;enableBulkApi&gt;true&lt;/enableBulkApi&gt;
    &lt;enableFeeds&gt;false&lt;/enableFeeds&gt;
    &lt;enableHistory&gt;false&lt;/enableHistory&gt;
    &lt;enableLicensing&gt;false&lt;/enableLicensing&gt;
    &lt;enableReports&gt;false&lt;/enableReports&gt;
    &lt;enableSearch&gt;false&lt;/enableSearch&gt;
    &lt;enableSharing&gt;true&lt;/enableSharing&gt;
    &lt;enableStreamingApi&gt;true&lt;/enableStreamingApi&gt;
    &lt;externalSharingModel&gt;Private&lt;/externalSharingModel&gt;
    &lt;label&gt;FruitTree&lt;/label&gt;
    &lt;nameField&gt;
        &lt;label&gt;FruitTree Name&lt;/label&gt;
        &lt;type&gt;Text&lt;/type&gt;
    &lt;/nameField&gt;
    &lt;pluralLabel&gt;FruitTrees&lt;/pluralLabel&gt;
    &lt;searchLayouts/&gt;
    &lt;sharingModel&gt;ReadWrite&lt;/sharingModel&gt;
    &lt;visibility&gt;Public&lt;/visibility&gt;
&lt;/CustomObject&gt;
</code></pre>
<p><a name='pkggen'></a></p>
<h2 id="packagexml-generator"><a class="header" href="#packagexml-generator">package.xml Generator</a></h2>
<ul>
<li>You can use <a href="https://mohan-chinnappan-n5.github.io/pkg/pkg-gen.html">this tool</a> to generate <code>package.xml</code> for your requirements</li>
</ul>
<p><img src="deployments/img/pkgxml-gen-1.webm.gif" alt="Demo" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="devops-center"><a class="header" href="#devops-center">DevOps Center</a></h1>
<p><img src="deployments/../img/cover/chromecast-arch-2.jpg" alt="Arch" /></p>
<p><img src="https://d259t2jj6zp7qm.cloudfront.net/images/20221208173010/Untitled-design-3-2000x777.png" alt="DOC-1" /></p>
<h2 id="devops-center-features"><a class="header" href="#devops-center-features">DevOps Center Features</a></h2>
<ul>
<li>DevOps Center brings best practices to the entire development community around
<ul>
<li>source management</li>
<li>change management</li>
<li>release management </li>
</ul>
</li>
</ul>
<p>through a click-based interface.</p>
<table><thead><tr><th>Feature</th><th>Comments</th></tr></thead><tbody>
<tr><td>Changes are tracked automatically</td><td></td></tr>
<tr><td>The source control repository is your source of truth for project changes, so you always know that everyone is working with a consistent set of metadata</td><td></td></tr>
<tr><td>Source control branches are <strong>created and managed</strong> for you. You can move the changes through the release pipeline by clicks</td><td></td></tr>
<tr><td>Provides visibility into each other’s changes regardless of how they’re doing their work</td><td></td></tr>
<tr><td>Uses DX under the hood, but you do not have to know them</td><td>DX Project, Metadata API, version control</td></tr>
</tbody></table>
<h2 id="how-to-release-changes-more-efficiently-using-devops-center"><a class="header" href="#how-to-release-changes-more-efficiently-using-devops-center">How to release changes more efficiently using DevOps center?</a></h2>
<table><thead><tr><th>Persona</th><th>Currently Using</th><th>Skill set</th></tr></thead><tbody>
<tr><td>Salesforce admin and <strong>declarative developer</strong></td><td>Change Sets</td><td>Not familiar with version control</td></tr>
<tr><td>Programmatic developer</td><td>DX tooling, likes to  more visibility into the admin’s changes</td><td>Familiar with using CLI</td></tr>
<tr><td>Release manager</td><td>Responsible for deploying changes for both teammates through the release pipeline</td><td>Familiar with version control, CLI and Change sets</td></tr>
</tbody></table>
<h2 id="work-item-wi-based"><a class="header" href="#work-item-wi-based">Work Item (WI) based</a></h2>
<p><img src="https://d259t2jj6zp7qm.cloudfront.net/images/20221208173141/Untitled-design-2-1.png" alt="DOC-WI" /></p>
<h2 id="flow-for-salesforce-admin-and-declarative-developer"><a class="header" href="#flow-for-salesforce-admin-and-declarative-developer">Flow for Salesforce admin and declarative developer</a></h2>
<ul>
<li>Performs following with clicks in DevOps Center</li>
</ul>
<pre class="mermaid">   graph TD;
        A[Declarative developer creates a Work Item \n in DevOps Center]--&gt;B[Performs her work in a Developer Sandbox];
        B--&gt;C[Pull her changes from the Developer Sandbox and\n commits them into version control\n and create review];
        C--&gt;D[Promote her changes];
     
</pre>
<h2 id="flow-for-programmatic-developer"><a class="header" href="#flow-for-programmatic-developer">Flow for Programmatic developer</a></h2>
<ul>
<li>Performs following with clicks in DevOps Center</li>
</ul>
<pre class="mermaid">   graph TD;
        A[Programmatic developer creates a Work Item \n in DevOps Center]--&gt;B[Performs his work in the 'work item feature branch'\n using IDE];
    
        B--&gt;C[Commits and merges those changes directly\n in the version control];
</pre>
<p><img src="https://d259t2jj6zp7qm.cloudfront.net/images/20221208173102/Untitled-design-1-1-2000x777.png" alt="DOC2" /></p>
<h2 id="flow-for-release-manager"><a class="header" href="#flow-for-release-manager">Flow for Release Manager</a></h2>
<ul>
<li>Performs following with clicks in DevOps Center</li>
</ul>
<pre class="mermaid">   graph TD;
        A[View the changes]--&gt;B[Promote changes either from within DevOps Center or \nusing Salesforce CLI];
    
</pre>
<h2 id="key-features"><a class="header" href="#key-features">Key features</a></h2>
<ul>
<li>
<p><strong>Work item</strong></p>
<ul>
<li>Defines the requirement for <strong>the change to be made</strong> </li>
<li>Tracks the associated metadata source files through the release lifecycle. </li>
<li>Increases visibility regarding where changes reside in each pipeline stage.</li>
</ul>
</li>
<li>
<p><strong>Conflict management</strong></p>
<ul>
<li>Identifies work items that <strong>have conflicts</strong> with other work items in the pipeline</li>
<li>Provides information to help you resolve the conflict.</li>
</ul>
</li>
<li>
<p><strong>Dev environment synchronization</strong> </p>
<ul>
<li>Detects when a development environment is out-of-date so you can ensure that you’re working against the latest source of truth. </li>
<li>Tells you what’s different, and enables you to synchronize it to avoid future conflicts.</li>
</ul>
</li>
<li>
<p><strong>Activity history</strong> </p>
<ul>
<li>Provides increased visibility, auditability, and error tracking in both work item and pipeline views. </li>
<li>Tells you what’s different, and enables you to synchronize it to avoid future conflicts.</li>
</ul>
</li>
<li>
<p><strong>Ability to delete metadata:</strong> </p>
<ul>
<li>Removes the component from the target stages, leveraging the Metadata API destructive changes functionality.</li>
</ul>
</li>
<li>
<p><strong>Validation-only deployments</strong></p>
<ul>
<li>Enables you to run a validation-only deployment, and, at a later time, perform a quick deployment</li>
</ul>
</li>
</ul>
<h2 id="installing-devops-center"><a class="header" href="#installing-devops-center">Installing DevOps Center</a></h2>
<p><img src="https://d259t2jj6zp7qm.cloudfront.net/images/20221208173232/image-16.png" alt="DOC-install" /></p>
<h2 id="references-12"><a class="header" href="#references-12">References</a></h2>
<ul>
<li><a href="https://trailhead.salesforce.com/content/learn/modules/devops-center-quick-look/say-hello-to-devops-center">Say Hello to DevOps Center</a></li>
<li><a href="https://developer.salesforce.com/blogs/2022/06/get-up-and-running-with-devops-center-today">Get Up and Running with DevOps Center Today</a></li>
</ul>
<h2 id="videos-1"><a class="header" href="#videos-1">Videos</a></h2>
<ul>
<li><a href="https://youtu.be/otvLf2eYlrk">Salesforce DevOps Center - Complete Setup and Demo</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="jenkins"><a class="header" href="#jenkins">Jenkins</a></h1>
<pre><code>The best part is no part.
Physics is the law and everything else is a recommendation.
The machine that makes the machine!

- Elon Musk
</code></pre>
<h2 id="topics-13"><a class="header" href="#topics-13">Topics</a></h2>
<ul>
<li><a href="deployments/jenkins.html#usecase">Use Case</a></li>
<li><a href="deployments/jenkins.html#master">Setting up Jenkins Master</a></li>
<li><a href="deployments/jenkins.html#worker">Setting up Worker Nodes</a></li>
</ul>
<hr />
<p><a name='usecase'></a></p>
<h2 id="use-case-2"><a class="header" href="#use-case-2">Use Case</a></h2>
<ul>
<li>Setup Jenkins Master and Worker Nodes to run SFDX  for the given org</li>
<li>Make use of JWT flow to login to a Salesforce org </li>
</ul>
<pre class="mermaid">graph TB;
JenkinsMaster--&gt;socat;
socat--&gt; Worker1--&gt;ORG;
socat--&gt; Worker2--&gt;ORG;
socat--&gt; Worker3--&gt;ORG;

</pre>
<p><a name='master'></a></p>
<h2 id="setting-up-jenkins-master"><a class="header" href="#setting-up-jenkins-master">Setting up Jenkins Master</a></h2>
<pre><code>docker network create jenkins
</code></pre>
<pre><code>37d113c8d79cd12a209822f0ccb12be7058b9c6ccdc62e2b298725537edd703d
</code></pre>
<pre><code>docker network ls
NETWORK ID     NAME      DRIVER    SCOPE
f8ca68549edb   bridge    bridge    local
145498352d20   host      host      local
37d113c8d79c   jenkins   bridge    local
3bdfaf921867   none      null      local
</code></pre>
<pre><code>docker run --name jenkins-docker --rm --detach \
  --privileged --network jenkins --network-alias docker \
  --env DOCKER_TLS_CERTDIR=/certs \
  --volume jenkins-docker-certs:/certs/client \
  --volume jenkins-data:/var/jenkins_home \
  --publish 2376:2376 \
  docker:dind --storage-driver overlay2
</code></pre>
<pre><code>Unable to find image 'docker:dind' locally
dind: Pulling from library/docker
63b65145d645: Pull complete 
67fecbccebe0: Pull complete 
2b3fda0e4f2a: Pull complete 
30dc96e58339: Pull complete 
8c007c9e333b: Pull complete 
c31b9f3137a1: Pull complete 
782206789a08: Pull complete 
e415889ffe25: Pull complete 
55134767123a: Pull complete 
36af3abb7351: Pull complete 
9e414f2e72f2: Pull complete 
4ccabe0725ae: Pull complete 
ca215d26ccb7: Pull complete 
Digest: sha256:e4d776dd1e0580dfb670559d887300aa08b53b8a59f5df2d4eaace936ef4d0e9
Status: Downloaded newer image for docker:dind
58b1537f513652de9951efd03766a2c9ad853e45341a18584f39565bb4beae14
</code></pre>
<pre><code>cat Dockerfile
</code></pre>
<pre><code>
FROM jenkins/jenkins:2.387.1
USER root
RUN apt-get update &amp;&amp; apt-get install -y lsb-release
RUN curl -fsSLo /usr/share/keyrings/docker-archive-keyring.asc \
  https://download.docker.com/linux/debian/gpg
RUN echo &quot;deb [arch=$(dpkg --print-architecture) \
  signed-by=/usr/share/keyrings/docker-archive-keyring.asc] \
  https://download.docker.com/linux/debian \
  $(lsb_release -cs) stable&quot; &gt; /etc/apt/sources.list.d/docker.list
RUN apt-get update &amp;&amp; apt-get install -y docker-ce-cli
USER jenkins
RUN jenkins-plugin-cli --plugins &quot;blueocean docker-workflow&quot;
</code></pre>
<pre><code>docker build -t myjenkins-blueocean:2.387.1-1 .
[+] Building 42.9s (10/10) FINISHED                                                                                                                    
 =&gt; [internal] load build definition from Dockerfile                                                                                              0.0s
 =&gt; =&gt; transferring dockerfile: 602B                                                                                                              0.0s
 =&gt; [internal] load .dockerignore                                                                                                                 0.0s
 =&gt; =&gt; transferring context: 2B                                                                                                                   0.0s
 =&gt; [internal] load metadata for docker.io/jenkins/jenkins:2.387.1                                                                                1.0s
 =&gt; [1/6] FROM docker.io/jenkins/jenkins:2.387.1@sha256:0944e18261a6547e89b700cec432949281a7419a6165a3906e78c97efde3bc86                         11.1s
 =&gt; =&gt; resolve docker.io/jenkins/jenkins:2.387.1@sha256:0944e18261a6547e89b700cec432949281a7419a6165a3906e78c97efde3bc86                          0.0s
 =&gt; =&gt; sha256:a56533012712c1db623da3e5e9c2d0276301c82db0a2e7a82debfb57e5d916f2 8.93MB / 8.93MB                                                    0.3s
 =&gt; =&gt; sha256:c09d5e9e1188f3fff7a4f8c3c7c330fde5184cba1c6f0c92526b8b7bd0ac7c26 51.63MB / 51.63MB                                                  3.4s
 =&gt; =&gt; sha256:0944e18261a6547e89b700cec432949281a7419a6165a3906e78c97efde3bc86 2.36kB / 2.36kB                                                    0.0s
 =&gt; =&gt; sha256:32fb02163b6bb519a30f909008e852354dae10bdfd6b34190dbdfe8f15403ea0 55.05MB / 55.05MB                                                  2.6s
 =&gt; =&gt; sha256:005fcb5c3017ef120d0d9d8d8925e9248ff6e2cf2b5e18b527b01459c7b2b3f4 2.77kB / 2.77kB                                                    0.0s
 =&gt; =&gt; sha256:d5ed2ceef0ec08e9044ebb39812f211d64dbcdfce775cc6b0460ca289193416f 13.13kB / 13.13kB                                                  0.0s
 =&gt; =&gt; sha256:7936e107ffe73b406a0d02edf9bb02b983534d803bb06fd03dc38dac4b6cfe2a 1.24kB / 1.24kB                                                    0.4s
 =&gt; =&gt; sha256:3ca683058265b99b65bbc69b9e8fa4c46e830db35aad614706200e6cf0c30d8a 189B / 189B                                                        0.5s
 =&gt; =&gt; sha256:c2ecd304b4b84ef6154bd85e13360f0b015e39057a329698617ce0a53ed6cf32 98.12MB / 98.12MB                                                  4.7s
 =&gt; =&gt; extracting sha256:32fb02163b6bb519a30f909008e852354dae10bdfd6b34190dbdfe8f15403ea0                                                         2.4s
 =&gt; =&gt; sha256:be3512d810d65f00f28af0885e2f30833263ee061528e20c7fee21664f1572b8 202B / 202B                                                        2.8s
 =&gt; =&gt; sha256:56b37d7c2a7a3c93fd013cb1ad5652f8cea3910ecc0274d73064bba27ab57864 5.84MB / 5.84MB                                                    3.4s
 =&gt; =&gt; sha256:99ed1e723e52507ce2d615e1682d673c3ffcec5f5b68c266db70d829ef4be208 76.93MB / 76.93MB                                                  5.8s
 =&gt; =&gt; sha256:256db5485b1399ecbd58c2558388fc9a4ff1caaaeacbdfe23127c7f13b1ee98b 1.93kB / 1.93kB                                                    3.5s
 =&gt; =&gt; sha256:ee8c7eaf5e6bd8c45e503756da48e80137def6765017148ce9f2af66ce97244b 1.17kB / 1.17kB                                                    3.7s
 =&gt; =&gt; sha256:509f66c2f3174642f0eb3e3b2e8a70da698f613042ec65f525c476afe0b6b7d5 374B / 374B                                                        3.9s
 =&gt; =&gt; sha256:820296a845d636be13276fdf3bdae7fdf2ac00d401182632d1ab450e26353674 271B / 271B                                                        4.1s
 =&gt; =&gt; extracting sha256:c09d5e9e1188f3fff7a4f8c3c7c330fde5184cba1c6f0c92526b8b7bd0ac7c26                                                         2.0s
 =&gt; =&gt; extracting sha256:a56533012712c1db623da3e5e9c2d0276301c82db0a2e7a82debfb57e5d916f2                                                         0.2s
 =&gt; =&gt; extracting sha256:7936e107ffe73b406a0d02edf9bb02b983534d803bb06fd03dc38dac4b6cfe2a                                                         0.0s
 =&gt; =&gt; extracting sha256:3ca683058265b99b65bbc69b9e8fa4c46e830db35aad614706200e6cf0c30d8a                                                         0.0s
 =&gt; =&gt; extracting sha256:c2ecd304b4b84ef6154bd85e13360f0b015e39057a329698617ce0a53ed6cf32                                                         0.6s
 =&gt; =&gt; extracting sha256:be3512d810d65f00f28af0885e2f30833263ee061528e20c7fee21664f1572b8                                                         0.0s
 =&gt; =&gt; extracting sha256:56b37d7c2a7a3c93fd013cb1ad5652f8cea3910ecc0274d73064bba27ab57864                                                         0.1s
 =&gt; =&gt; extracting sha256:99ed1e723e52507ce2d615e1682d673c3ffcec5f5b68c266db70d829ef4be208                                                         1.6s
 =&gt; =&gt; extracting sha256:256db5485b1399ecbd58c2558388fc9a4ff1caaaeacbdfe23127c7f13b1ee98b                                                         0.0s
 =&gt; =&gt; extracting sha256:ee8c7eaf5e6bd8c45e503756da48e80137def6765017148ce9f2af66ce97244b                                                         0.0s
 =&gt; =&gt; extracting sha256:509f66c2f3174642f0eb3e3b2e8a70da698f613042ec65f525c476afe0b6b7d5                                                         0.0s
 =&gt; =&gt; extracting sha256:820296a845d636be13276fdf3bdae7fdf2ac00d401182632d1ab450e26353674                                                         0.0s
 =&gt; [2/6] RUN apt-get update &amp;&amp; apt-get install -y lsb-release                                                                                    6.7s
 =&gt; [3/6] RUN curl -fsSLo /usr/share/keyrings/docker-archive-keyring.asc   https://download.docker.com/linux/debian/gpg                           0.7s
 =&gt; [4/6] RUN echo &quot;deb [arch=$(dpkg --print-architecture)   signed-by=/usr/share/keyrings/docker-archive-keyring.asc]   https://download.docker  0.2s
 =&gt; [5/6] RUN apt-get update &amp;&amp; apt-get install -y docker-ce-cli                                                                                  8.9s
 =&gt; [6/6] RUN jenkins-plugin-cli --plugins &quot;blueocean docker-workflow&quot;                                                                           13.5s
 =&gt; exporting to image                                                                                                                            0.8s
 =&gt; =&gt; exporting layers                                                                                                                           0.8s
 =&gt; =&gt; writing image sha256:fd428091db2d8149ed7ce13d7fe3ccd7d412e87a121f4a6850ec0cfd0ed91ce2                                                      0.0s
 =&gt; =&gt; naming to docker.io/library/myjenkins-blueocean:2.387.1-1                                                                                  0.0s

Use 'docker scan' to run Snyk tests against images to find vulnerabilities and learn how to fix them
</code></pre>
<pre><code>docker container ls
</code></pre>
<pre><code>CONTAINER ID   IMAGE         COMMAND                  CREATED         STATUS         PORTS                              NAMES
58b1537f5136   docker:dind   &quot;dockerd-entrypoint.…&quot;   2 minutes ago   Up 2 minutes   2375/tcp, 0.0.0.0:2376-&gt;2376/tcp   jenkins-docker
</code></pre>
<pre><code>docker run --name jenkins-blueocean --restart=on-failure --detach \
  --network jenkins --env DOCKER_HOST=tcp://docker:2376 \
  --env DOCKER_CERT_PATH=/certs/client --env DOCKER_TLS_VERIFY=1 \
  --publish 8080:8080 --publish 50000:50000 \
  --volume jenkins-data:/var/jenkins_home \
  --volume jenkins-docker-certs:/certs/client:ro \
  myjenkins-blueocean:2.387.1-1
</code></pre>
<pre><code>docker ps
</code></pre>
<pre><code>CONTAINER ID   IMAGE                           COMMAND                  CREATED         STATUS         PORTS                                              NAMES
c5ea234eee86   myjenkins-blueocean:2.387.1-1   &quot;/usr/bin/tini -- /u…&quot;   2 minutes ago   Up 2 minutes   0.0.0.0:8080-&gt;8080/tcp, 0.0.0.0:50000-&gt;50000/tcp   jenkins-blueocean
58b1537f5136   docker:dind                     &quot;dockerd-entrypoint.…&quot;   4 minutes ago   Up 4 minutes   2375/tcp, 0.0.0.0:2376-&gt;2376/tcp                   jenkins-docker
</code></pre>
<h2 id="getting-initialadminpassword"><a class="header" href="#getting-initialadminpassword">Getting initialAdminPassword</a></h2>
<pre><code>docker exec c5ea234eee86  cat /var/jenkins_home/secrets/initialAdminPassword
</code></pre>
<pre><code>600755197d9642a08d03aa294fb82344
</code></pre>
<h2 id="bash-into-docker-container"><a class="header" href="#bash-into-docker-container">bash into docker container</a></h2>
<pre><code>docker exec -it c5ea234eee86   bash
</code></pre>
<pre><code>jenkins@c5ea234eee86:~$ ls -l
total 112
-rw-r--r--   1 jenkins jenkins  1663 Mar 12 13:29 config.xml
-rw-r--r--   1 jenkins jenkins  5316 Mar 12 13:28 copy_reference_file.log
-rw-r--r--   1 jenkins jenkins   156 Mar 12 13:28 hudson.model.UpdateCenter.xml
-rw-r--r--   1 jenkins jenkins   370 Mar 12 13:28 hudson.plugins.git.GitTool.xml
-rw-------   1 jenkins jenkins  1680 Mar 12 13:28 identity.key.enc
-rw-r--r--   1 jenkins jenkins     7 Mar 12 13:34 jenkins.install.InstallUtil.lastExecVersion
-rw-r--r--   1 jenkins jenkins     7 Mar 12 13:34 jenkins.install.UpgradeWizard.state
-rw-r--r--   1 jenkins jenkins   179 Mar 12 13:34 jenkins.model.JenkinsLocationConfiguration.xml
-rw-r--r--   1 jenkins jenkins   171 Mar 12 13:28 jenkins.telemetry.Correlator.xml
drwxr-xr-x   3 jenkins jenkins  4096 Mar 12 13:51 jobs
drwxr-xr-x   4 jenkins jenkins  4096 Mar 12 14:33 logs
-rw-r--r--   1 jenkins jenkins   907 Mar 12 13:28 nodeMonitors.xml
drwxr-xr-x   2 jenkins jenkins  4096 Mar 12 13:28 nodes
drwxr-xr-x 114 jenkins jenkins 24576 Mar 12 13:33 plugins
-rw-r--r--   1 jenkins jenkins   129 Mar 12 13:54 queue.xml
-rw-r--r--   1 jenkins jenkins    64 Mar 12 13:28 secret.key
-rw-r--r--   1 jenkins jenkins     0 Mar 12 13:28 secret.key.not-so-secret
drwx------   2 jenkins jenkins  4096 Mar 12 13:53 secrets
drwxr-xr-x   2 jenkins jenkins  4096 Mar 12 13:33 updates
drwxr-xr-x   2 jenkins jenkins  4096 Mar 12 13:28 userContent
drwxr-xr-x   3 jenkins jenkins  4096 Mar 12 13:33 users
drwxr-xr-x  11 jenkins jenkins  4096 Mar 12 13:28 war
drwxr-xr-x   3 jenkins jenkins  4096 Mar 12 13:53 workspace
jenkins@c5ea234eee86:~$ pwd
/var/jenkins_home
jenkins@c5ea234eee86:~$ python3
Python 3.9.2 (default, Feb 28 2021, 17:03:44) 
[GCC 10.2.1 20210110] on linux
Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
&gt;&gt;&gt; exit()
</code></pre>
<h2 id="socat-container"><a class="header" href="#socat-container">socat container</a></h2>
<ul>
<li>
<p><a href="https://hub.docker.com/r/alpine/socat/">socat</a> provides proxy the connection between Jenkins master container and localhost</p>
</li>
<li>
<p>Steps</p>
</li>
</ul>
<ol>
<li>
<p>If you are running jenkins as container, in the docker host uri field you have to enter unix or tcp address of the docker host. But since you are running jenkins as container, the container can't reach docker host unix port</p>
</li>
<li>
<p>So we have to run another container that can mediate between docker host and jenkins container. It will publish docker host's unix port as its tcp port. Follow the instructions to create socat container https://hub.docker.com/r/alpine/socat/</p>
</li>
</ol>
<p>3)After the creating socat container, you can go back the docker configuration in jenkins and enter tcp://socat-container-ip:2375</p>
<ol start="4">
<li>Test Connection should succeed now</li>
</ol>
<pre><code>docker run -d --restart=always -p 127.0.0.1:2400:2375 --network jenkins -v /var/run/docker.sock:/var/run/docker.sock alpine/socat tcp-listen:2375,fork,reuseaddr unix-connect:/var/run/docker.sock
</code></pre>
<pre><code>b643f2a82b31e1f2ac9e5261badbb65d13447b94a92eaa0bb34202a9148f39b4


</code></pre>
<pre><code> docker container ls
</code></pre>
<pre><code>CONTAINER ID   IMAGE                           COMMAND                  CREATED              STATUS              PORTS                                              NAMES
b643f2a82b31   alpine/socat                    &quot;socat tcp-listen:23…&quot;   About a minute ago   Up About a minute   127.0.0.1:2400-&gt;2375/tcp                           silly_hopper
c5ea234eee86   myjenkins-blueocean:2.387.1-1   &quot;/usr/bin/tini -- /u…&quot;   3 hours ago          Up 12 minutes       0.0.0.0:8080-&gt;8080/tcp, 0.0.0.0:50000-&gt;50000/tcp   jenkins-blueocean
58b1537f5136   docker:dind                     &quot;dockerd-entrypoint.…&quot;   3 hours ago          Up 3 hours          2375/tcp, 0.0.0.0:2376-&gt;2376/tcp                   jenkins-docker


</code></pre>
<pre><code>docker inspect b643f2a82b31e1f2ac9e5261badbb65d13447b94a92eaa0bb34202a9148f39b4 | grep IPAddress
</code></pre>
<pre><code>&quot;SecondaryIPAddresses&quot;: null,
            &quot;IPAddress&quot;: &quot;&quot;,
                    &quot;IPAddress&quot;: &quot;172.18.0.4&quot;,
</code></pre>
<pre><code>
docker ps
</code></pre>
<pre><code>CONTAINER ID   IMAGE                           COMMAND                  CREATED         STATUS          PORTS                                              NAMES
b643f2a82b31   alpine/socat                    &quot;socat tcp-listen:23…&quot;   2 minutes ago   Up 2 minutes    127.0.0.1:2400-&gt;2375/tcp                           silly_hopper
c5ea234eee86   myjenkins-blueocean:2.387.1-1   &quot;/usr/bin/tini -- /u…&quot;   3 hours ago     Up 13 minutes   0.0.0.0:8080-&gt;8080/tcp, 0.0.0.0:50000-&gt;50000/tcp   jenkins-blueocean
58b1537f5136   docker:dind                     &quot;dockerd-entrypoint.…&quot;   3 hours ago     Up 3 hours      2375/tcp, 0.0.0.0:2376-&gt;2376/tcp                   jenkins-docker
</code></pre>
<h3 id="inspect-socat"><a class="header" href="#inspect-socat">Inspect socat</a></h3>
<pre><code>
docker inspect  silly_hopper 
</code></pre>
<pre><code class="language-json">[
    {
        &quot;Id&quot;: &quot;b643f2a82b31e1f2ac9e5261badbb65d13447b94a92eaa0bb34202a9148f39b4&quot;,
        &quot;Created&quot;: &quot;2023-03-12T16:08:27.933374909Z&quot;,
        &quot;Path&quot;: &quot;socat&quot;,
        &quot;Args&quot;: [
            &quot;tcp-listen:2375,fork,reuseaddr&quot;,
            &quot;unix-connect:/var/run/docker.sock&quot;
        ],
        &quot;State&quot;: {
            &quot;Status&quot;: &quot;running&quot;,
            &quot;Running&quot;: true,
            &quot;Paused&quot;: false,
            &quot;Restarting&quot;: false,
            &quot;OOMKilled&quot;: false,
            &quot;Dead&quot;: false,
            &quot;Pid&quot;: 8609,
            &quot;ExitCode&quot;: 0,
            &quot;Error&quot;: &quot;&quot;,
            &quot;StartedAt&quot;: &quot;2023-03-12T16:08:28.362760818Z&quot;,
            &quot;FinishedAt&quot;: &quot;0001-01-01T00:00:00Z&quot;
        },
        &quot;Image&quot;: &quot;sha256:f0bbf8a4f6a0e25e06fe69c284e6e0494948e8de21ef933d72732b7858da3110&quot;,
        &quot;ResolvConfPath&quot;: &quot;/var/lib/docker/containers/b643f2a82b31e1f2ac9e5261badbb65d13447b94a92eaa0bb34202a9148f39b4/resolv.conf&quot;,
        &quot;HostnamePath&quot;: &quot;/var/lib/docker/containers/b643f2a82b31e1f2ac9e5261badbb65d13447b94a92eaa0bb34202a9148f39b4/hostname&quot;,
        &quot;HostsPath&quot;: &quot;/var/lib/docker/containers/b643f2a82b31e1f2ac9e5261badbb65d13447b94a92eaa0bb34202a9148f39b4/hosts&quot;,
        &quot;LogPath&quot;: &quot;/var/lib/docker/containers/b643f2a82b31e1f2ac9e5261badbb65d13447b94a92eaa0bb34202a9148f39b4/b643f2a82b31e1f2ac9e5261badbb65d13447b94a92eaa0bb34202a9148f39b4-json.log&quot;,
        &quot;Name&quot;: &quot;/silly_hopper&quot;,
        &quot;RestartCount&quot;: 0,
        &quot;Driver&quot;: &quot;overlay2&quot;,
        &quot;Platform&quot;: &quot;linux&quot;,
        &quot;MountLabel&quot;: &quot;&quot;,
        &quot;ProcessLabel&quot;: &quot;&quot;,
        &quot;AppArmorProfile&quot;: &quot;&quot;,
        &quot;ExecIDs&quot;: null,
        &quot;HostConfig&quot;: {
            &quot;Binds&quot;: [
                &quot;/var/run/docker.sock:/var/run/docker.sock&quot;
            ],
            &quot;ContainerIDFile&quot;: &quot;&quot;,
            &quot;LogConfig&quot;: {
                &quot;Type&quot;: &quot;json-file&quot;,
                &quot;Config&quot;: {}
            },
            &quot;NetworkMode&quot;: &quot;jenkins&quot;,
            &quot;PortBindings&quot;: {
                &quot;2375/tcp&quot;: [
                    {
                        &quot;HostIp&quot;: &quot;127.0.0.1&quot;,
                        &quot;HostPort&quot;: &quot;2400&quot;
                    }
                ]
            },
            &quot;RestartPolicy&quot;: {
                &quot;Name&quot;: &quot;always&quot;,
                &quot;MaximumRetryCount&quot;: 0
            },
            &quot;AutoRemove&quot;: false,
            &quot;VolumeDriver&quot;: &quot;&quot;,
            &quot;VolumesFrom&quot;: null,
            &quot;CapAdd&quot;: null,
            &quot;CapDrop&quot;: null,
            &quot;CgroupnsMode&quot;: &quot;private&quot;,
            &quot;Dns&quot;: [],
            &quot;DnsOptions&quot;: [],
            &quot;DnsSearch&quot;: [],
            &quot;ExtraHosts&quot;: null,
            &quot;GroupAdd&quot;: null,
            &quot;IpcMode&quot;: &quot;private&quot;,
            &quot;Cgroup&quot;: &quot;&quot;,
            &quot;Links&quot;: null,
            &quot;OomScoreAdj&quot;: 0,
            &quot;PidMode&quot;: &quot;&quot;,
            &quot;Privileged&quot;: false,
            &quot;PublishAllPorts&quot;: false,
            &quot;ReadonlyRootfs&quot;: false,
            &quot;SecurityOpt&quot;: null,
            &quot;UTSMode&quot;: &quot;&quot;,
            &quot;UsernsMode&quot;: &quot;&quot;,
            &quot;ShmSize&quot;: 67108864,
            &quot;Runtime&quot;: &quot;runc&quot;,
            &quot;ConsoleSize&quot;: [
                0,
                0
            ],
            &quot;Isolation&quot;: &quot;&quot;,
            &quot;CpuShares&quot;: 0,
            &quot;Memory&quot;: 0,
            &quot;NanoCpus&quot;: 0,
            &quot;CgroupParent&quot;: &quot;&quot;,
            &quot;BlkioWeight&quot;: 0,
            &quot;BlkioWeightDevice&quot;: [],
            &quot;BlkioDeviceReadBps&quot;: null,
            &quot;BlkioDeviceWriteBps&quot;: null,
            &quot;BlkioDeviceReadIOps&quot;: null,
            &quot;BlkioDeviceWriteIOps&quot;: null,
            &quot;CpuPeriod&quot;: 0,
            &quot;CpuQuota&quot;: 0,
            &quot;CpuRealtimePeriod&quot;: 0,
            &quot;CpuRealtimeRuntime&quot;: 0,
            &quot;CpusetCpus&quot;: &quot;&quot;,
            &quot;CpusetMems&quot;: &quot;&quot;,
            &quot;Devices&quot;: [],
            &quot;DeviceCgroupRules&quot;: null,
            &quot;DeviceRequests&quot;: null,
            &quot;KernelMemory&quot;: 0,
            &quot;KernelMemoryTCP&quot;: 0,
            &quot;MemoryReservation&quot;: 0,
            &quot;MemorySwap&quot;: 0,
            &quot;MemorySwappiness&quot;: null,
            &quot;OomKillDisable&quot;: null,
            &quot;PidsLimit&quot;: null,
            &quot;Ulimits&quot;: null,
            &quot;CpuCount&quot;: 0,
            &quot;CpuPercent&quot;: 0,
            &quot;IOMaximumIOps&quot;: 0,
            &quot;IOMaximumBandwidth&quot;: 0,
            &quot;MaskedPaths&quot;: [
                &quot;/proc/asound&quot;,
                &quot;/proc/acpi&quot;,
                &quot;/proc/kcore&quot;,
                &quot;/proc/keys&quot;,
                &quot;/proc/latency_stats&quot;,
                &quot;/proc/timer_list&quot;,
                &quot;/proc/timer_stats&quot;,
                &quot;/proc/sched_debug&quot;,
                &quot;/proc/scsi&quot;,
                &quot;/sys/firmware&quot;
            ],
            &quot;ReadonlyPaths&quot;: [
                &quot;/proc/bus&quot;,
                &quot;/proc/fs&quot;,
                &quot;/proc/irq&quot;,
                &quot;/proc/sys&quot;,
                &quot;/proc/sysrq-trigger&quot;
            ]
        },
        &quot;GraphDriver&quot;: {
            &quot;Data&quot;: {
                &quot;LowerDir&quot;: &quot;/var/lib/docker/overlay2/ac59c4bb642c204d52676ea5a3f38ab123aa55c28e7c4d32885c29798685bf6c-init/diff:/var/lib/docker/overlay2/33c335c0d0c0267bc8a0de4b181fa6a67212ef993d5b23cc2d932eccd87da979/diff:/var/lib/docker/overlay2/0b76f458f2092bfa7d73629e242e320299fb159448bf52a18647959f1637387c/diff&quot;,
                &quot;MergedDir&quot;: &quot;/var/lib/docker/overlay2/ac59c4bb642c204d52676ea5a3f38ab123aa55c28e7c4d32885c29798685bf6c/merged&quot;,
                &quot;UpperDir&quot;: &quot;/var/lib/docker/overlay2/ac59c4bb642c204d52676ea5a3f38ab123aa55c28e7c4d32885c29798685bf6c/diff&quot;,
                &quot;WorkDir&quot;: &quot;/var/lib/docker/overlay2/ac59c4bb642c204d52676ea5a3f38ab123aa55c28e7c4d32885c29798685bf6c/work&quot;
            },
            &quot;Name&quot;: &quot;overlay2&quot;
        },
        &quot;Mounts&quot;: [
            {
                &quot;Type&quot;: &quot;bind&quot;,
                &quot;Source&quot;: &quot;/var/run/docker.sock&quot;,
                &quot;Destination&quot;: &quot;/var/run/docker.sock&quot;,
                &quot;Mode&quot;: &quot;&quot;,
                &quot;RW&quot;: true,
                &quot;Propagation&quot;: &quot;rprivate&quot;
            }
        ],
        &quot;Config&quot;: {
            &quot;Hostname&quot;: &quot;b643f2a82b31&quot;,
            &quot;Domainname&quot;: &quot;&quot;,
            &quot;User&quot;: &quot;&quot;,
            &quot;AttachStdin&quot;: false,
            &quot;AttachStdout&quot;: false,
            &quot;AttachStderr&quot;: false,
            &quot;ExposedPorts&quot;: {
                &quot;2375/tcp&quot;: {}
            },
            &quot;Tty&quot;: false,
            &quot;OpenStdin&quot;: false,
            &quot;StdinOnce&quot;: false,
            &quot;Env&quot;: [
                &quot;PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin&quot;
            ],
            &quot;Cmd&quot;: [
                &quot;tcp-listen:2375,fork,reuseaddr&quot;,
                &quot;unix-connect:/var/run/docker.sock&quot;
            ],
            &quot;Image&quot;: &quot;alpine/socat&quot;,
            &quot;Volumes&quot;: null,
            &quot;WorkingDir&quot;: &quot;&quot;,
            &quot;Entrypoint&quot;: [
                &quot;socat&quot;
            ],
            &quot;OnBuild&quot;: null,
            &quot;Labels&quot;: {}
        },
        &quot;NetworkSettings&quot;: {
            &quot;Bridge&quot;: &quot;&quot;,
            &quot;SandboxID&quot;: &quot;a818d2616cbaced18798c777a02b95d53c16765842f392151d39272ed0e4be37&quot;,
            &quot;HairpinMode&quot;: false,
            &quot;LinkLocalIPv6Address&quot;: &quot;&quot;,
            &quot;LinkLocalIPv6PrefixLen&quot;: 0,
            &quot;Ports&quot;: {
                &quot;2375/tcp&quot;: [
                    {
                        &quot;HostIp&quot;: &quot;127.0.0.1&quot;,
                        &quot;HostPort&quot;: &quot;2400&quot;
                    }
                ]
            },
            &quot;SandboxKey&quot;: &quot;/var/run/docker/netns/a818d2616cba&quot;,
            &quot;SecondaryIPAddresses&quot;: null,
            &quot;SecondaryIPv6Addresses&quot;: null,
            &quot;EndpointID&quot;: &quot;&quot;,
            &quot;Gateway&quot;: &quot;&quot;,
            &quot;GlobalIPv6Address&quot;: &quot;&quot;,
            &quot;GlobalIPv6PrefixLen&quot;: 0,
            &quot;IPAddress&quot;: &quot;&quot;,
            &quot;IPPrefixLen&quot;: 0,
            &quot;IPv6Gateway&quot;: &quot;&quot;,
            &quot;MacAddress&quot;: &quot;&quot;,
            &quot;Networks&quot;: {
                &quot;jenkins&quot;: {
                    &quot;IPAMConfig&quot;: null,
                    &quot;Links&quot;: null,
                    &quot;Aliases&quot;: [
                        &quot;b643f2a82b31&quot;
                    ],
                    &quot;NetworkID&quot;: &quot;37d113c8d79cd12a209822f0ccb12be7058b9c6ccdc62e2b298725537edd703d&quot;,
                    &quot;EndpointID&quot;: &quot;08bc7021dd48b6993f51b08a0d0e9333276c64311b4487361b02c476a3a1e3f9&quot;,
                    &quot;Gateway&quot;: &quot;172.18.0.1&quot;,
                    &quot;IPAddress&quot;: &quot;172.18.0.4&quot;,
                    &quot;IPPrefixLen&quot;: 16,
                    &quot;IPv6Gateway&quot;: &quot;&quot;,
                    &quot;GlobalIPv6Address&quot;: &quot;&quot;,
                    &quot;GlobalIPv6PrefixLen&quot;: 0,
                    &quot;MacAddress&quot;: &quot;02:42:ac:12:00:04&quot;,
                    &quot;DriverOpts&quot;: null
                }
            }
        }
    }
]
</code></pre>
<p><a name='worker'></a></p>
<h2 id="worker-node-setup"><a class="header" href="#worker-node-setup">Worker node setup</a></h2>
<h3 id="build-docker-image"><a class="header" href="#build-docker-image">Build Docker image</a></h3>
<pre><code>cat Dockerfile
</code></pre>
<pre><code class="language-dockerfile">FROM jenkins/agent:alpine-jdk11
# author: mchinnappan

USER root
# install python3
RUN apk add python3
RUN apk add py3-pip

# install vim
RUN apk add  vim




# install nodejs and sfdx cli
RUN apk add nodejs 
RUN apk add npm 
RUN apk add yarn 



ARG SALESFORCE_CLI_VERSION=latest
RUN npm install --global sfdx-cli@${SALESFORCE_CLI_VERSION}


RUN apk add jq 

USER jenkins

# install required plugins
RUN  echo 'y' |  sfdx plugins:install sfdx-mohanc-plugins
RUN  echo 'y' |  sfdx plugins:install sfdx-git-delta



</code></pre>
<pre><code>docker build -t docker-agent-sfdx .
</code></pre>
<pre><code>[+] Building 160.6s (15/15) FINISHED                                                                                                                                                      
 =&gt; [internal] load build definition from Dockerfile                                                                                                                                 0.0s
 =&gt; =&gt; transferring dockerfile: 557B                                                                                                                                                 0.0s
 =&gt; [internal] load .dockerignore                                                                                                                                                    0.0s
 =&gt; =&gt; transferring context: 2B                                                                                                                                                      0.0s
 =&gt; [internal] load metadata for docker.io/jenkins/agent:alpine-jdk11                                                                                                                0.9s
 =&gt; [ 1/11] FROM docker.io/jenkins/agent:alpine-jdk11@sha256:fdf4d5e79b3645be5779130bf3239cf9344b5b1929d538b7d2980be8868550f6                                                        0.0s
 =&gt; CACHED [ 2/11] RUN apk add python3                                                                                                                                               0.0s
 =&gt; CACHED [ 3/11] RUN apk add py3-pip                                                                                                                                               0.0s
 =&gt; [ 4/11] RUN apk add  vim                                                                                                                                                         1.4s
 =&gt; [ 5/11] RUN apk add nodejs                                                                                                                                                       1.3s
 =&gt; [ 6/11] RUN apk add npm                                                                                                                                                          1.0s 
 =&gt; [ 7/11] RUN apk add yarn                                                                                                                                                         0.8s 
 =&gt; [ 8/11] RUN npm install --global sfdx-cli@latest                                                                                                                                30.6s 
 =&gt; [ 9/11] RUN apk add jq                                                                                                                                                           0.9s 
 =&gt; [10/11] RUN  echo 'y' |  sfdx plugins:install sfdx-mohanc-plugins                                                                                                               63.6s 
 =&gt; [11/11] RUN  echo 'y' |  sfdx plugins:install sfdx-git-delta                                                                                                                    38.8s 
 =&gt; exporting to image                                                                                                                                                              21.2s 
 =&gt; =&gt; exporting layers                                                                                                                                                             21.1s 
 =&gt; =&gt; writing image sha256:5d988bfa62b447ffe80a0421417b9f6329656f4d78722ea65969d32cdc13b5d4                                                                                         0.0s 
 =&gt; =&gt; naming to docker.io/library/docker-agent-sfdx 
</code></pre>
<h2 id="run-the-image"><a class="header" href="#run-the-image">run the image</a></h2>
<pre><code>docker run -it --entrypoint bash   --name  docker-agent-sfdx-app docker-agent-sfdx 
</code></pre>
<pre><code> 17ded65a422c:~$ sfdx plugins
sfdx-git-delta 5.13.3
sfdx-mohanc-plugins 0.0.343

</code></pre>
<pre><code>exit
</code></pre>
<h2 id="publish-this-image--5d988bfa62b447ffe80a0421417b9f6329656f4d78722ea65969d32cdc13b5d4"><a class="header" href="#publish-this-image--5d988bfa62b447ffe80a0421417b9f6329656f4d78722ea65969d32cdc13b5d4">Publish this image : 5d988bfa62b447ffe80a0421417b9f6329656f4d78722ea65969d32cdc13b5d4</a></h2>
<pre><code>docker tag 5d988bfa62b447ffe80a0421417b9f6329656f4d78722ea65969d32cdc13b5d4    mohanchinnappan/mc-sfdx 
</code></pre>
<pre><code>docker images
</code></pre>
<pre><code>REPOSITORY                       TAG            IMAGE ID       CREATED          SIZE
mohanchinnappan/mc-sfdx          latest         5d988bfa62b4   24 minutes ago   1.51GB
myjenkins-blueocean              2.387.1-1      fd428091db2d   4 hours ago      805MB
docker                           dind           c365741dcfc2   4 days ago       311MB
alpine/socat                     latest         f0bbf8a4f6a0   2 weeks ago      8.5MB
</code></pre>
<h3 id="push"><a class="header" href="#push">Push</a></h3>
<pre><code>docker push   mohanchinnappan/mc-sfdx 
</code></pre>
<pre><code>Using default tag: latest
The push refers to repository [docker.io/mohanchinnappan/mc-sfdx]
3c3548e6efa9: Pushed 
c991a1b7df1a: Pushed 
018486e93789: Pushed 
96d7750030cc: Pushed 
17ec9d53bd65: Pushed 
cc4f6cce9ed0: Pushed 
e5fc35b10359: Pushed 
26cde4efb06b: Pushed 
a91d2cf08b0f: Pushed 
0970af15e418: Pushed 
5f70bf18a086: Mounted from mohanchinnappan/jupyter-rust 
639d13e0e024: Mounted from jenkins/agent 
b910852e976b: Mounted from jenkins/agent 
bc4c636cd02f: Mounted from jenkins/agent 
99b5df13238c: Mounted from jenkins/agent 
10009e9661e3: Mounted from jenkins/agent 
abc8eda4da3a: Mounted from jenkins/agent 
591e5beaaae8: Mounted from jenkins/agent 
a34e3a797aad: Mounted from jenkins/agent 
7cd52847ad77: Mounted from jenkins/agent 
latest: digest: sha256:cf4b1d93c8833298cec8fa5897d22ede339b53193a606c69448ac8ee76a0c90b size: 4532
</code></pre>
<h3 id="published-docker-image"><a class="header" href="#published-docker-image">Published Docker Image</a></h3>
<ul>
<li><a href="https://hub.docker.com/repository/docker/mohanchinnappan/mc-sfdx/general">mohanchinnappan/mc-sfdxDocker</a></li>
</ul>
<h2 id="run-it"><a class="header" href="#run-it">Run it</a></h2>
<pre><code>docker run -it --entrypoint bash    mohanchinnappan/mc-sfdx  


</code></pre>
<pre><code>9900abaf79d2:~$ sfdx plugins
sfdx-git-delta 5.13.3
sfdx-mohanc-plugins 0.0.343

python3 
Python 3.10.10 (main, Feb  9 2023, 02:08:14) [GCC 12.2.1 20220924] on linux
Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
&gt;&gt;&gt; exit()

9900abaf79d2:~$ pwd
/home/jenkins


9900abaf79d2:~$ vim
9900abaf79d2:~$ java --version
openjdk 11.0.18 2023-01-17
OpenJDK Runtime Environment Temurin-11.0.18+10 (build 11.0.18+10)
OpenJDK 64-Bit Server VM Temurin-11.0.18+10 (build 11.0.18+10, mixed mode)



</code></pre>
<pre><code>docker ps       
</code></pre>
<pre><code>CONTAINER ID   IMAGE                           COMMAND                  CREATED          STATUS          PORTS                                              NAMES
bd6b56f8666f   mohanchinnappan/mc-sfdx         &quot;bash&quot;                   36 seconds ago   Up 35 seconds                                                      reverent_beaver
b643f2a82b31   alpine/socat                    &quot;socat tcp-listen:23…&quot;   2 hours ago      Up 2 hours      127.0.0.1:2400-&gt;2375/tcp                           silly_hopper
c5ea234eee86   myjenkins-blueocean:2.387.1-1   &quot;/usr/bin/tini -- /u…&quot;   5 hours ago      Up 2 hours      0.0.0.0:8080-&gt;8080/tcp, 0.0.0.0:50000-&gt;50000/tcp   jenkins-blueocean
58b1537f5136   docker:dind                     &quot;dockerd-entrypoint.…&quot;   5 hours ago      Up 5 hours      2375/tcp, 0.0.0.0:2376-&gt;2376/tcp                   jenkins-docker
</code></pre>
<h2 id="running-build-on-this"><a class="header" href="#running-build-on-this">Running build on this</a></h2>
<pre><code> Started by user Mohan Chinnappan
Running as SYSTEM
Building remotely on docker-node-sfdx-00006mp66sdok on docker (docker-node-sfdx) in workspace /home/jenkins/workspace/HelloWorldPython
The recommended git tool is: NONE
No credentials specified
Cloning the remote Git repository
Cloning repository https://github.com/mohan-chinnappan-n/jenkins-cicd
 &gt; git init /home/jenkins/workspace/HelloWorldPython # timeout=10
Fetching upstream changes from https://github.com/mohan-chinnappan-n/jenkins-cicd
 &gt; git --version # timeout=10
 &gt; git --version # 'git version 2.38.4'
 &gt; git fetch --tags --force --progress -- https://github.com/mohan-chinnappan-n/jenkins-cicd +refs/heads/*:refs/remotes/origin/* # timeout=10
 &gt; git config remote.origin.url https://github.com/mohan-chinnappan-n/jenkins-cicd # timeout=10
 &gt; git config --add remote.origin.fetch +refs/heads/*:refs/remotes/origin/* # timeout=10
Avoid second fetch
 &gt; git rev-parse refs/remotes/origin/main^{commit} # timeout=10
Checking out Revision b34f09b31c3cc64d716a6e9ff613e7b71de5fe4c (refs/remotes/origin/main)
 &gt; git config core.sparsecheckout # timeout=10
 &gt; git checkout -f b34f09b31c3cc64d716a6e9ff613e7b71de5fe4c # timeout=10
Commit message: &quot;init&quot;
 &gt; git rev-list --no-walk b34f09b31c3cc64d716a6e9ff613e7b71de5fe4c # timeout=10
[HelloWorldPython] $ /bin/sh -xe /tmp/jenkins15310274698032643005.sh
+ python3 py/hw.py
Hello World!
Finished: SUCCESS

</code></pre>
<h2 id="sfdx-xml-project"><a class="header" href="#sfdx-xml-project">sfdx XML project</a></h2>
<pre><code>Started by user Mohan Chinnappan
Running as SYSTEM
Building remotely on docker-node-sfdx-00006t9wamykj on docker (docker-node-sfdx) in workspace /home/jenkins/workspace/sfdc-project-xml
The recommended git tool is: NONE
No credentials specified
Cloning the remote Git repository
Cloning repository https://github.com/mohan-chinnappan-n/jenkins-cicd
 &gt; git init /home/jenkins/workspace/sfdc-project-xml # timeout=10
Fetching upstream changes from https://github.com/mohan-chinnappan-n/jenkins-cicd
 &gt; git --version # timeout=10
 &gt; git --version # 'git version 2.38.4'
 &gt; git fetch --tags --force --progress -- https://github.com/mohan-chinnappan-n/jenkins-cicd +refs/heads/*:refs/remotes/origin/* # timeout=10
 &gt; git config remote.origin.url https://github.com/mohan-chinnappan-n/jenkins-cicd # timeout=10
 &gt; git config --add remote.origin.fetch +refs/heads/*:refs/remotes/origin/* # timeout=10
Avoid second fetch
 &gt; git rev-parse refs/remotes/origin/main^{commit} # timeout=10
Checking out Revision 12763086762b99f46569a109d06c03a4e8cfd65d (refs/remotes/origin/main)
 &gt; git config core.sparsecheckout # timeout=10
 &gt; git checkout -f 12763086762b99f46569a109d06c03a4e8cfd65d # timeout=10
Commit message: &quot;xml added&quot;
First time build. Skipping changelog.
[sfdc-project-xml] $ /bin/sh -xe /tmp/jenkins13699243142254465595.sh
+ sfdx mohanc:xml:transform -i xml/Admin.profile-meta.xml -m Profile
=== Writing the output into file : xml/Admin.profile-meta.xml.html ===
Finished: SUCCESS

</code></pre>
<h3 id="pipeline"><a class="header" href="#pipeline">Pipeline</a></h3>
<p><img src="deployments/img/cron.png" alt="Cron" /></p>
<table><thead><tr><th>Field</th><th>Format of valid values</th></tr></thead><tbody>
<tr><td>Min</td><td>0-59</td></tr>
<tr><td>Hour</td><td>0-23</td></tr>
<tr><td>Day of the month</td><td>1-31</td></tr>
<tr><td>Month</td><td>1-12 (or JAN to DEC)</td></tr>
<tr><td>Day of the week</td><td>0-6 (or SUN to SAT; or 7 for Sunday)</td></tr>
</tbody></table>
<p><img src="deployments/img/jenkiins-cred-1.png" alt="server.key credential" /></p>
<h4 id="script"><a class="header" href="#script">Script</a></h4>
<pre><code class="language-groovy">pipeline {
    agent { 
        node { label 'docker-node-sfdx' }
    }
    triggers {
            pollSCM '*/5 * * * *'
    }

     environment { 
        SF_USERNAME = 'mohan.chinnappan.n.sel2@gmail.com'
        SF_INSTANCE_URL = 'https://login.salesforce.com'
        SF_CONSUMER_KEY = '3MVG9vp1McGXQBYGcnDR0UfAip.JjJVJUbccWajKPlMgbFIV.C9g3FdmKaKfOYlrJ6iY4QUQKnC1F8dzu8YAz'
        SERVER_KEY_CREDENTALS_ID='cb689b37-ff89-490c-87b0-da6983e03854'
         
    }

     
    stages {


        stage('Prepare') {

            steps {
                withCredentials([file(credentialsId: SERVER_KEY_CREDENTALS_ID, variable: 'server_key_file')]) {

                echo &quot;pip install&quot;
                sh '''
                    cd py
                    pip3 install -r requirements.txt
                    echo ${SF_USERNAME}
                    sfdx force:auth:jwt:grant -u  ${SF_USERNAME} -f ${server_key_file} -i ${SF_CONSUMER_KEY} 
                    sfdx force:data:soql:query --query  &quot;SELECT Id, Name, Account.Name FROM Contact&quot; -u  ${SF_USERNAME} 

                    sfdx mohanc:org:viz -u ${SF_USERNAME} 
                    
                    wc -l Org.json
                '''
             }
            }
        }

        stage('Test') {
            steps {
                echo &quot;Testing it&quot;
                sh '''

                cd py
                python3 double.py double 27
                
                '''
            }
        }
        stage('Deploy') {
            steps {
                echo 'Deploy....'
                sh '''
                echo &quot;Deploying...&quot;
                '''
            }
        }
    }
}


</code></pre>
<h4 id="setup"><a class="header" href="#setup">Setup</a></h4>
<p><img src="deployments/img/jenkins-sfdx-setup-1.webm.gif" alt="Setup JWT" /></p>
<h4 id="demo-7"><a class="header" href="#demo-7">Demo</a></h4>
<p><img src="deployments/img/jenkins-sfdx-jwt-1.webm.gif" alt="Demo JWT" /></p>
<pre><code>Started by user Mohan Chinnappan
Obtained py/Jenkinsfile from git https://github.com/mohan-chinnappan-n/jenkins-cicd
[Pipeline] Start of Pipeline
[Pipeline] node
Still waiting to schedule task
‘Jenkins’ doesn’t have label ‘docker-node-sfdx’
Running on docker-node-sfdx-0000ejftdsk7i on docker in /home/jenkins/workspace/Pipeline-Python-CLI-Test
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Declarative: Checkout SCM)
[Pipeline] checkout
The recommended git tool is: git
No credentials specified
Cloning the remote Git repository
Cloning repository https://github.com/mohan-chinnappan-n/jenkins-cicd
 &gt; git init /home/jenkins/workspace/Pipeline-Python-CLI-Test # timeout=10
Fetching upstream changes from https://github.com/mohan-chinnappan-n/jenkins-cicd
 &gt; git --version # timeout=10
 &gt; git --version # 'git version 2.38.4'
 &gt; git fetch --tags --force --progress -- https://github.com/mohan-chinnappan-n/jenkins-cicd +refs/heads/*:refs/remotes/origin/* # timeout=10
 &gt; git config remote.origin.url https://github.com/mohan-chinnappan-n/jenkins-cicd # timeout=10
 &gt; git config --add remote.origin.fetch +refs/heads/*:refs/remotes/origin/* # timeout=10
Avoid second fetch
Checking out Revision a53c0b8dfdfa5617d000ee07a6b8e2172370a933 (refs/remotes/origin/main)
Commit message: &quot;py fire test added&quot;
 &gt; git rev-parse refs/remotes/origin/main^{commit} # timeout=10
 &gt; git config core.sparsecheckout # timeout=10
 &gt; git checkout -f a53c0b8dfdfa5617d000ee07a6b8e2172370a933 # timeout=10
 &gt; git rev-list --no-walk a53c0b8dfdfa5617d000ee07a6b8e2172370a933 # timeout=10
[Pipeline] }
[Pipeline] // stage
[Pipeline] withEnv
[Pipeline] {
[Pipeline] withEnv
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Prepare)
[Pipeline] withCredentials
Masking supported pattern matches of $server_key_file
[Pipeline] {
[Pipeline] echo
pip install
[Pipeline] sh
+ cd py
+ pip3 install -r requirements.txt
Defaulting to user installation because normal site-packages is not writeable
Collecting fire==0.5.0
  Downloading fire-0.5.0.tar.gz (88 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 88.3/88.3 kB 2.2 MB/s eta 0:00:00
  Preparing metadata (setup.py): started
  Preparing metadata (setup.py): finished with status 'done'
Requirement already satisfied: six in /usr/lib/python3.10/site-packages (from fire==0.5.0-&gt;-r requirements.txt (line 1)) (1.16.0)
Collecting termcolor
  Downloading termcolor-2.2.0-py3-none-any.whl (6.6 kB)
Installing collected packages: termcolor, fire
  DEPRECATION: fire is being installed using the legacy 'setup.py install' method, because it does not have a 'pyproject.toml' and the 'wheel' package is not installed. pip 23.1 will enforce this behaviour change. A possible replacement is to enable the '--use-pep517' option. Discussion can be found at https://github.com/pypa/pip/issues/8559
  Running setup.py install for fire: started
  Running setup.py install for fire: finished with status 'done'
Successfully installed fire-0.5.0 termcolor-2.2.0
+ echo mohan.chinnappan.n.sel2@gmail.com
mohan.chinnappan.n.sel2@gmail.com
+ sfdx force:auth:jwt:grant -u mohan.chinnappan.n.sel2@gmail.com -f **** -i 3MVG9vp1McGXQBYGcnDR0UfAip.JjJVJUbccWajKPlMgbFIV.C9g3FdmKaKfOYlrJ6iY4QUQKnC1F8dzu8YAz
Warning: The &quot;-u&quot; flag has been deprecated. Use &quot;--username&quot; instead.
Successfully authorized mohan.chinnappan.n.sel2@gmail.com with org ID 00D8W000004LymuUAC
+ sfdx force:data:soql:query --query 'SELECT Id, Name, Account.Name FROM Contact' -u mohan.chinnappan.n.sel2@gmail.com
Warning: The &quot;force data soql query&quot; command has been deprecated. Use &quot;data query&quot; instead.
Warning: The &quot;-u&quot; flag has been deprecated. Use &quot;--target-org&quot; instead.
Querying Data...
 ID                 NAME              ACCOUNT.NAME                        
 ────────────────── ───────────────── ─────────────────────────────────── 
 0038W00001ulzMpQAI Rose Gonzalez     Edge Communications                 
 0038W00001ulzMqQAI Sean Forbes       Edge Communications                 
 0038W00001ulzMrQAI Jack Rogers       Burlington Textiles Corp of America 
 0038W00001ulzMsQAI Pat Stumuller     Pyramid Construction Inc.           
 0038W00001ulzMtQAI Andy Young        Dickenson plc                       
 0038W00001ulzMuQAI Tim Barr          Grand Hotels &amp; Resorts Ltd          
 0038W00001ulzMvQAI John Bond         Grand Hotels &amp; Resorts Ltd          
 0038W00001ulzMwQAI Stella Pavlova    United Oil &amp; Gas Corp.              
 0038W00001ulzMxQAI Lauren Boyle      United Oil &amp; Gas Corp.              
 0038W00001ulzMyQAI Josh Davis        Express Logistics and Transport     
 0038W00001ulzMzQAI Jane Grey         University of Arizona               
 0038W00001ulzN0QAI Arthur Song       United Oil &amp; Gas Corp.              
 0038W00001ulzN1QAI Avi Green         United Oil &amp; Gas Corp.              
 0038W00001ulzN2QAI Babara Levy       Express Logistics and Transport     
 0038W00001ulzN3QAI Ashley James      United Oil &amp; Gas, UK                
 0038W00001ulzN4QAI Tom Ripley        United Oil &amp; Gas, Singapore         
 0038W00001ulzN5QAI Liz D'Cruz        United Oil &amp; Gas, Singapore         
 0038W00001ulzN6QAI Edna Frank        GenePoint                           
 0038W00001ulzN7QAI Siddartha Nedaerk sForce                              
 0038W00001ulzN8QAI Jake Llorrac      sForce                              
Total number of records retrieved: 20.
Querying Data... done
+ sfdx mohanc:org:viz -u mohan.chinnappan.n.sel2@gmail.com
=== Working on getOrgData ===
=== Working on getOrgLimits ===
=== Working on getCount:ApexClass ===
=== Working on getCount:ApexPage ===
=== Working on getCount:ConnectedApplication ===
=== Working on getCount:CustomPermission ===
=== Working on getCount:ExternalDataSource ===
=== Working on getCount:FieldPermissions ===
=== Working on getCount:FieldSecurityClassification ===
=== Working on getCount:Group ===
=== Working on getCount:GroupMember ===
=== Working on getCount:NamedCredential ===
=== Working on getCount:ObjectPermissions ===
=== Working on getCount:PackageLicense ===
=== Working on getCount:PermissionSet ===
=== Working on getCount:PermissionSetAssignment ===
=== Working on getCount:PermissionSetGroup ===
=== Working on getCount:PermissionSetLicense ===
=== Working on getCount:Profile ===
=== Working on getCount:QueueSobject ===
=== Working on getCount:SetupAssistantStep ===
=== Working on getCount:SetupEntityAccess ===
=== Working on getCount:User ===
=== Working on getCount:UserLicense ===
=== Working on getCount:UserPackageLicense ===
=== Working on getCount:UserRole ===
=== Working on getCount:Account ===
=== Working on getCount:AccountContactRole ===
=== Working on getCount:Asset ===
=== Working on getCount:Campaign ===
=== Working on getCount:CampaignMember ===
=== Working on getCount:Case ===
=== Working on getCount:CaseStatus ===
=== Working on getCount:Contact ===
=== Working on getCount:Contract ===
=== Working on getCount:ContractContactRole ===
=== Working on getCount:Lead ===
=== Working on getCount:Opportunity ===
=== Working on getCount:OpportunityCompetitor ===
=== Working on getCount:OpportunityContactRole ===
=== Working on getCount:OpportunityStage ===
=== Working on getCount:Order ===
=== Working on getCount:Partner ===
=== Working on getCount:PartnerRole ===
=== Working on getCount:Account ===
=== Working on getCount:Case ===
=== Working on getCount:CaseComment ===
=== Working on getCount:CaseHistory ===
=== Working on getCount:CaseSolution ===
=== Working on getCount:Contact ===
=== Working on getCount:Solution ===
=== Working on getPackageInfo ===
=== Working on EntityDefinitionSummary:Account ===
=== Working on EntityDefinitionSummary:Contact ===
=== Working on EntityDefinitionSummary:AccountContactRole ===
=== Working on EntityDefinitionSummary:Opportunity ===
=== Working on EntityDefinitionSummary:OpportunityContactRole ===
=== Working on EntityDefinitionSummary:OpportunityCompetitor ===
=== Working on EntityDefinitionSummary:Lead ===
=== Working on EntityDefinitionSummary:Case ===
=== Working on EntityDefinitionSummary:Campaign ===
=== Working on EntityDefinitionSummary:CampaignMember ===
=== Working on EntityDefinitionSummary:Asset ===
=== Working on EntityDefinitionSummary:Contract ===
=== Working on EntityDefinitionSummary:ContractContactRole ===
=== Working on EntityDefinitionSummary:Order ===
=== Working on getApexCodeCoverage ===
=== Working on getBusinessProcess ===
=== Working on getCertificate ===
=== Working on CspTrustedSite ===
=== Working on getOauthToken ===
=== Working on getSetupAuditTrail ===
=== Working on getInactiveUsers ===
=== Working on getUnusedProfiles ===
=== Working on getUsedProfiles ===
=== Working on getUsedPermissionSets ===
=== Working on getUnusedPermissionSets ===
=== Working on getUsedProfiles ===
=== Working on getUsedRoles ===
=== Working on getSysAdminUsers ===
=== Working on getProfileInfo:System Administrator ===
Error: {
    &quot;name&quot;: &quot;INVALID_FIELD&quot;,
    &quot;errorCode&quot;: &quot;INVALID_FIELD&quot;
}
=== Working on getProfileInfo:Customer Community Login User ===
Error: {
    &quot;name&quot;: &quot;INVALID_FIELD&quot;,
    &quot;errorCode&quot;: &quot;INVALID_FIELD&quot;
}
=== Working on getPermissionSetInfo:Sales_Ops ===
Error: {
    &quot;name&quot;: &quot;INVALID_FIELD&quot;,
    &quot;errorCode&quot;: &quot;INVALID_FIELD&quot;
}
=== Working on getProfileForUserLicense:Guest ===
Error: {
    &quot;name&quot;: &quot;INVALID_FIELD&quot;,
    &quot;errorCode&quot;: &quot;INVALID_FIELD&quot;
}
=== Working on getUserLicenseInfo ===
=== Working on getNetworkMemberInfo ===
Error: {
    &quot;name&quot;: &quot;INVALID_TYPE&quot;,
    &quot;errorCode&quot;: &quot;INVALID_TYPE&quot;
}
=== Working on getHasEinsteinDataDiscovery ===
=== Working on getHasEDD ===
=== Working on getHasEinsteinDataDiscovery ===
=== Working on getCountTooling:flow ===
=== Working on getFlows ===
=== Working on getFlowMetadata ===
=== Writing Org JSON in file Org.json ...
=== Writing visualization in file Org.svg ...
Visualization done. &quot;open  Org.svg&quot; in Chrome Browser to view the Visualization.
+ wc -l Org.json
2726 Org.json
[Pipeline] }
[Pipeline] // withCredentials
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Test)
[Pipeline] echo
Testing it
[Pipeline] sh
+ cd py
+ python3 double.py double 27
54
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Deploy)
[Pipeline] echo
Deploy....
[Pipeline] sh
+ echo Deploying...
Deploying...
[Pipeline] }
[Pipeline] // stage
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // node
[Pipeline] End of Pipeline
Finished: SUCCESS

</code></pre>
<h2 id="resources-2"><a class="header" href="#resources-2">Resources</a></h2>
<ul>
<li><a href="https://github.com/mohan-chinnappan-n/cli-dx/blob/master/jwt.md">How to use OAuth2.0 based JWT flow to login to a Salesforce org using DX</a></li>
<li><a href="https://github.com/mohan-chinnappan-n/jenkins-cicd">Sample Pipelines</a></li>
<li><a href="https://developer.salesforce.com/docs/atlas.en-us.sfdx_dev.meta/sfdx_dev/sfdx_dev_ci_jenkins_config_env.htm">Configure Your Environment for Jenkins</a></li>
<li><a href="https://www.youtube.com/watch?v=6YZvp2GwT0A">Learn Jenkins! Complete Jenkins Course - Zero to Hero</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="git"><a class="header" href="#git">git</a></h1>
<p><img src="deployments/../img/cover/chromecast-sea-3.jpg" alt="sea 3" /></p>
<ul>
<li>Well designed branching strategy is key to the success of your deployments</li>
</ul>
<h2 id="topic"><a class="header" href="#topic">Topic</a></h2>
<ul>
<li><a href="deployments/git.html#ops">Git Basic Operations</a></li>
<li><a href="deployments/git.html#cheatsheet">Git Cheat Sheet</a></li>
<li><a href="deployments/git.html#gitdwg">Git Graph Editor</a></li>
<li><a href="deployments/git.html#mergeConflicts">VS Code - Merge Editor</a></li>
<li><a href="deployments/git.html#gitlogs">Using git logs</a></li>
</ul>
<p><a name='ops'></a></p>
<h2 id="basic-operations"><a class="header" href="#basic-operations">Basic Operations</a></h2>
<p><img src="deployments/img/git-basic-ops.svg" alt="Basic operations" /></p>
<h2 id="cheat-sheet---click-to-view-the-documentation"><a class="header" href="#cheat-sheet---click-to-view-the-documentation"><a href="https://education.github.com/git-cheat-sheet-education.pdf">Cheat Sheet</a> - click to view the documentation</a></h2>
<p><a name='cheatsheet'></a></p>
<table><thead><tr><th></th><th></th><th></th></tr></thead><tbody>
<tr><td></td><td><a href="https://git-scm.com/docs/git-config"><img src="deployments/img/git-setup.png" alt="setup" /></a></td><td><a href="https://git-scm.com/docs/git-init"><img src="deployments/img/git-steup-init.png" alt="setup and init" /></a></td></tr>
<tr><td></td><td><a href="https://git-scm.com/docs/git-status"><img src="deployments/img/git-stage-snapshot.png" alt="status" /></a></td><td><a href="https://git-scm.com/docs/git-merge"><img src="deployments/img/git-branch-merge.png" alt="merge" /></a></td></tr>
<tr><td></td><td><a href="https://git-scm.com/docs/git-log"><img src="deployments/img/git-inspec-compare.png" alt="inspect" /></a></td><td><a href="https://git-scm.com/docs/git-pull"><img src="deployments/img/git-share-update.png" alt="share" /></a></td></tr>
<tr><td></td><td><a href="https://git-scm.com/docs/git-log"><img src="deployments/img/git-tracking-path-changes.png" alt="tracking" /></a></td><td><a href="https://git-scm.com/docs/git-rebase"><img src="deployments/img/git-rewrite-history.png" alt="rewrite history" /></a></td></tr>
<tr><td></td><td><a href="https://git-scm.com/docs/gitignore"><img src="deployments/img/git-ignore-patterns.png" alt="ignore" /></a></td><td><a href="https://git-scm.com/docs/git-stash"><img src="deployments/img/git-temp-commits.png" alt="temp commits" /></a></td></tr>
</tbody></table>
<p><a name='gitdwg'></a></p>
<iframe id="inlineFrameExample"
    title="Inline Frame Example"
    width="1100"
    height="800"
    src="https://mohan-chinnappan-n5.github.io//2021/dwg/pg/dwg2.html?d=LS0tCnRpdGxlOiBFeGFtcGxlIEdpdCBkaWFncmFtCi0tLQpnaXRHcmFwaAogICBjb21taXQgaWQ6ICIxMDAwIgogICBjb21taXQKICAgYnJhbmNoIGRldmVsb3AKICAgY2hlY2tvdXQgZGV2ZWxvcAogICBjb21taXQKICAgY29tbWl0CiAgIGNoZWNrb3V0IG1haW4KICAgbWVyZ2UgZGV2ZWxvcAogICBjb21taXQKICAgY29tbWl0Cgo=">
</iframe>
<p><a name='mergeConflicts'></a></p>
<h2 id="merge-conflicts"><a class="header" href="#merge-conflicts">Merge Conflicts</a></h2>
<iframe width="920" height="500" src="https://www.youtube.com/embed/HosPml1qkrg" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<p><a name='gitlogs'></a></p>
<h2 id="using-git-logs"><a class="header" href="#using-git-logs">Using git logs</a></h2>
<h3 id="my-gitconfig-1"><a class="header" href="#my-gitconfig-1">my .gitconfig</a></h3>
<pre><code>[alias]
    lg = lg1
    lg1 = lg1-specific --all
    lg2 = lg2-specific --all
    lg3 = lg3-specific --all
    lg1-specific = log --graph --abbrev-commit --decorate --format=format:'%C(bold blue)%h%C(reset) - %C(bold green)(%ar)%C(reset) %C(white)%s%C(reset) %C(dim white)- %an%C(reset)%C(auto)%d%C(reset)'
    lg2-specific = log --graph --abbrev-commit --decorate --format=format:'%C(bold blue)%h%C(reset) - %C(bold cyan)%aD%C(reset) %C(bold green)(%ar)%C(reset)%C(auto)%d%C(reset)%n''          %C(white)%s%C(reset) %C(dim white)- %an%C(reset)'
    lg3-specific = log --graph --abbrev-commit --decorate --format=format:'%C(bold blue)%h%C(reset) - %C(bold cyan)%aD%C(reset) %C(bold green)(%ar)%C(reset) %C(bold cyan)(committed: %cD)%C(reset) %C(auto)%d%C(reset)%n''          %C(white)%s%C(reset)%n''          %C(dim white)- %an &lt;%ae&gt; %C(reset) %C(dim white)(committer: %cn &lt;%ce&gt;)%C(reset)'
</code></pre>
<h3 id="let-us-git-lg3-on-tensorflow-repo"><a class="header" href="#let-us-git-lg3-on-tensorflow-repo">Let us git lg3 on tensorflow repo</a></h3>
<pre><code>~/tf/tensorflow [master] &gt;git lg3 
* 0d4d75bc2b7 - Sun, 22 Jan 2023 01:31:56 -0800 (8 hours ago) (committed: Sun, 22 Jan 2023 01:36:16 -0800)  (HEAD -&gt; master, origin/master, origin/HEAD)
|           Add no_pip tag for `pywrap_quantize_model_test`.
|           - Dan Suh &lt;dansuh@google.com&gt;  (committer: TensorFlower Gardener &lt;gardener@tensorflow.org&gt;)
* 0b9a85fa851 - Sun, 22 Jan 2023 01:01:52 -0800 (8 hours ago) (committed: Sun, 22 Jan 2023 01:12:11 -0800) 
|           compat: Update forward compatibility horizon to 2023-01-22
|           - A. Unique TensorFlower &lt;gardener@tensorflow.org&gt;  (committer: TensorFlower Gardener &lt;gardener@tensorflow.org&gt;)
* a35dac30a05 - Sun, 22 Jan 2023 01:01:52 -0800 (8 hours ago) (committed: Sun, 22 Jan 2023 01:06:31 -0800) 
|           Update GraphDef version to 1384.
|           - A. Unique TensorFlower &lt;gardener@tensorflow.org&gt;  (committer: TensorFlower Gardener &lt;gardener@tensorflow.org&gt;)
* 7a0e6f3a58c - Sat, 21 Jan 2023 14:45:12 -0800 (18 hours ago) (committed: Sat, 21 Jan 2023 14:49:53 -0800)  (origin/nightly)
|           Use tensor.extract_slice instead of gml_st.materialize.
|           - Alexander Belyaev &lt;pifon@google.com&gt;  (committer: TensorFlower Gardener &lt;gardener@tensorflow.org&gt;)
* 114579d598c - Sat, 21 Jan 2023 14:15:52 -0800 (19 hours ago) (committed: Sat, 21 Jan 2023 14:19:18 -0800) 
|           [StableHLO to MHLO] Handle bounds in the CholeskyOp shape function
|           - Gunhyun Park &lt;gunhyun@google.com&gt;  (committer: TensorFlower Gardener &lt;gardener@tensorflow.org&gt;)
* 5c880d3ebe3 - Sat, 21 Jan 2023 13:41:09 -0800 (20 hours ago) (committed: Sat, 21 Jan 2023 13:46:12 -0800) 
|           [StableHLO to MHLO] Handle bounds in the ReduceWindowOp shape function
|           - Gunhyun Park &lt;gunhyun@google.com&gt;  (committer: TensorFlower Gardener &lt;gardener@tensorflow.org&gt;)
* 421205cd514 - Sat, 21 Jan 2023 13:30:20 -0800 (20 hours ago) (committed: Sat, 21 Jan 2023 13:33:14 -0800) 
|           Hotfix for breakage
|           - Johannes Reifferscheid &lt;jreiffers@google.com&gt;  (committer: TensorFlower Gardener &lt;gardener@tensorflow.org&gt;)
* 6ca0c86111d - Sat, 21 Jan 2023 13:02:20 -0800 (20 hours ago) (committed: Sat, 21 Jan 2023 13:06:28 -0800) 
|           Replace 0l with int64_t{0}.
|           - Johannes Reifferscheid &lt;jreiffers@google.com&gt;  (committer: TensorFlower Gardener &lt;gardener@tensorflow.org&gt;)
* 5d9c9ba31d6 - Sat, 21 Jan 2023 12:31:25 -0800 (21 hours ago) (committed: Sat, 21 Jan 2023 12:40:01 -0800) 
|           [StableHLO to MHLO] Verify exponent and mantissa in ReducePrecisionOp
|           - Gunhyun Park &lt;gunhyun@google.com&gt;  (committer: TensorFlower Gardener &lt;gardener@tensorflow.org&gt;)
* 4a67ff1bfd4 - Sat, 21 Jan 2023 12:30:41 -0800 (21 hours ago) (committed: Sat, 21 Jan 2023 12:34:19 -0800) 
|           [StableHLO to MHLO] Handle bounds in the SelectAndScatterOp shape function
|           - Gunhyun Park &lt;gunhyun@google.com&gt;  (committer: TensorFlower Gardener &lt;gardener@tensorflow.org&gt;)
* 0c4eb3ace86 - Sat, 21 Jan 2023 11:18:46 -0800 (22 hours ago) (committed: Sat, 21 Jan 2023 11:21:55 -0800) 
|           [StableHLO to MHLO] Fix typos in infer_stablehlo.mlir tests
:

</code></pre>
<h3 id="script-extract-git-logs-into-a-tsv-file"><a class="header" href="#script-extract-git-logs-into-a-tsv-file">Script extract git logs into a TSV file</a></h3>
<pre><code class="language-bash"># gitLogs.sh
# Script to  produce git logs from the current branch
# Run this command when you are in the branch for which you need gitlogs
# mchinnappan

branch=&quot;$(git branch | sed -n -e 's/^\* \(.*\)/\1/p')&quot;
echo &quot;=== branch: ${branch} ===&quot;
tsvoutput=&quot;${branch}-$(date +&quot;%Y_%m_%d_%I_%M_%p&quot;).tsv&quot;
echo &quot;=== Output file: $tsvoutput ===&quot;

git log --pretty='format:%h|%an|%ae|%s' | sed 's/|/\t/g' &gt; &quot;${tsvoutput}&quot;
open &quot;${output}&quot; 

</code></pre>
<ul>
<li>Run it on Tensorflow master</li>
</ul>
<pre><code>bash gitLogs.sh 
=== branch: master ===
=== Output file: master-2023_01_22_12_13_PM.tsv ===
</code></pre>
<pre><code>wc -l master-2023_01_22_12_13_PM.tsv 
  141977 master-2023_01_22_12_13_PM.tsv
</code></pre>
<h3 id="word-cloud-on-tensorflow-git-logs"><a class="header" href="#word-cloud-on-tensorflow-git-logs">Word Cloud on Tensorflow git logs</a></h3>
<p><img src="deployments/img/gitlog-viz-tf-1.svg" alt="tf git commits word cloud" /></p>
<h3 id="using-sf-land-data-viz-to-visualize-the-tensorflow-git-logs"><a class="header" href="#using-sf-land-data-viz-to-visualize-the-tensorflow-git-logs">Using SF-LAND Data Viz to visualize the tensorflow git logs</a></h3>
<h3 id="using-sf-land-data-viz-to-view-the-model-file-1"><a class="header" href="#using-sf-land-data-viz-to-view-the-model-file-1">Using SF-LAND Data Viz to view the model file</a></h3>
<iframe id="inlineFrameExample"
    title="Inline Frame Example"
    width="1100"
    height="800"
    src="https://mohan-chinnappan-n5.github.io/dfv/dfv.html?d=data/git/tf_master-2023_01_22_12_13_PM_10k.tsv&c=0&wc=3">
</iframe>
<h2 id="references-13"><a class="header" href="#references-13">References</a></h2>
<ul>
<li><a href="https://education.github.com/git-cheat-sheet-education.pdf">git cheat sheet</a></li>
<li><a href="https://git-scm.com/book/en/v2">git --fast-version-control</a></li>
<li><a href="https://trailhead.salesforce.com/content/learn/modules/git-and-git-hub-basics">Git and GitHub Basics</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="git-internals"><a class="header" href="#git-internals">git internals</a></h1>
<p><img src="deployments/../img/cover/chromecast-builiding-2.jpg" alt="Buildings" /></p>
<h2 id="git-is-a-content-addressable-system"><a class="header" href="#git-is-a-content-addressable-system">Git is a content addressable system</a></h2>
<ul>
<li>It is  a simple key-value data store</li>
<li>You can insert any kind of <strong>content</strong> into a Git Repo.
<ul>
<li>Git will hand you back a unique key you can use later to retrieve that <strong>content</strong></li>
</ul>
</li>
<li><code>git hash-object</code> command 
<ul>
<li>takes in some data and stores in <code>.git/objects</code> folder -- this object database</li>
<li>gives back an unique key which references this object</li>
</ul>
</li>
</ul>
<h3 id="let-us-play-with-git-hash-object"><a class="header" href="#let-us-play-with-git-hash-object">Let us play with git hash-object</a></h3>
<pre><code>~  &gt;git init git-playground
hint: Using 'master' as the name for the initial branch. This default branch name
hint: is subject to change. To configure the initial branch name to use in all
hint: of your new repositories, which will suppress this warning, call:
hint: 
hint: 	git config --global init.defaultBranch &lt;name&gt;
hint: 
hint: Names commonly chosen instead of 'master' are 'main', 'trunk' and
hint: 'development'. The just-created branch can be renamed via this command:
hint: 
hint: 	git branch -m &lt;name&gt;
Initialized empty Git repository in /Users/mchinnappan/git-playground/.git/

~  &gt;cd git-playground 

~/git-playground [master] &gt;tree
.

0 directories, 0 files
~/git-playground [master] &gt;tree .git 
.git
├── HEAD
├── config
├── description
├── hooks
│   ├── applypatch-msg.sample
│   ├── commit-msg.sample
│   ├── fsmonitor-watchman.sample
│   ├── post-update.sample
│   ├── pre-applypatch.sample
│   ├── pre-commit.sample
│   ├── pre-merge-commit.sample
│   ├── pre-push.sample
│   ├── pre-rebase.sample
│   ├── pre-receive.sample
│   ├── prepare-commit-msg.sample
│   ├── push-to-checkout.sample
│   └── update.sample
├── info
│   └── exclude
├── objects
│   ├── info
│   └── pack
└── refs
    ├── heads
    └── tags

8 directories, 17 files

</code></pre>
<h3 id="let-us-add-content-to-object-database"><a class="header" href="#let-us-add-content-to-object-database">Let us add content to object database</a></h3>
<pre><code>~/git-playground [master] &gt;echo 'test content' | git hash-object -w --stdin
d670460b4b4aece5915caf5c68d12f560a9fe3e4

</code></pre>
<pre><code>~/git-playground [master] &gt;tree
.

0 directories, 0 files
~/git-playground [master] &gt;tree .git                                       
.git
├── HEAD
├── config
├── description
├── hooks
│   ├── applypatch-msg.sample
│   ├── commit-msg.sample
│   ├── fsmonitor-watchman.sample
│   ├── post-update.sample
│   ├── pre-applypatch.sample
│   ├── pre-commit.sample
│   ├── pre-merge-commit.sample
│   ├── pre-push.sample
│   ├── pre-rebase.sample
│   ├── pre-receive.sample
│   ├── prepare-commit-msg.sample
│   ├── push-to-checkout.sample
│   └── update.sample
├── info
│   └── exclude
├── objects
│   ├── d6 &lt;----- first 2 characters of the SHA-1
│   │   └── 70460b4b4aece5915caf5c68d12f560a9fe3e4 &lt;------- SHA-1 checksum of the content and its header.
│   ├── info
│   └── pack
└── refs
    ├── heads
    └── tags

9 directories, 18 files
~/git-playground [master] &gt;
</code></pre>
<pre><code>find .git/objects -type f
.git/objects/d6/70460b4b4aece5915caf5c68d12f560a9fe3e4
</code></pre>
<h3 id="let-us-examine-the-content-of-the-content-with-git-cat-file"><a class="header" href="#let-us-examine-the-content-of-the-content-with-git-cat-file">Let us examine the content of the content with git cat-file</a></h3>
<pre><code>git cat-file -p d670460b4b4aece5915caf5c68d12f560a9fe3e4 

test content


</code></pre>
<h3 id="let-us-add-a-file-to-the-object-database"><a class="header" href="#let-us-add-a-file-to-the-object-database">Let us add a file to the object database</a></h3>
<pre><code>echo 'Version: 1' &gt; test.txt 
git hash-object -w test.txt
f8acaeb421037571491c643e96acc09faea03b24

# Let us the object created by this:
find .git/objects -type f
.git/objects/d6/70460b4b4aece5915caf5c68d12f560a9fe3e4
.git/objects/f8/acaeb421037571491c643e96acc09faea03b24 &lt;------

</code></pre>
<h3 id="let-us-add-version-2-of-the-testtxt"><a class="header" href="#let-us-add-version-2-of-the-testtxt">Let us add version 2 of the test.txt</a></h3>
<pre><code>echo 'Version: 2' &gt; test.txt 
git hash-object -w test.txt
939ba388fd33e17497577f5cfacd6aa84ef219b9

# Let us the object created by this:
find .git/objects -type f

.git/objects/93/9ba388fd33e17497577f5cfacd6aa84ef219b9 &lt;-----
.git/objects/d6/70460b4b4aece5915caf5c68d12f560a9fe3e4
.git/objects/f8/acaeb421037571491c643e96acc09faea03b24

</code></pre>
<ul>
<li>Now you can delete your local copy of that test.txt file, then use Git to retrieve, from the object database, either the first version or second version you saved</li>
</ul>
<pre><code>rm test.txt

ls -l

git cat-file -p 939ba388fd33e17497577f5cfacd6aa84ef219b9
Version: 2

# Version 1:
git cat-file -p f8acaeb421037571491c643e96acc09faea03b24 


</code></pre>
<h3 id="type-of-this-sha-1-is-blob"><a class="header" href="#type-of-this-sha-1-is-blob">Type of this SHA-1 is blob</a></h3>
<pre><code>git cat-file -t f8acaeb421037571491c643e96acc09faea03b24 
blob

</code></pre>
<ul>
<li>All the content in git is stored as tree and blob objects
<ul>
<li>with trees corresponding to UNIX directory entries </li>
<li>blobs corresponding more or less to i-nodes or file contents</li>
</ul>
</li>
</ul>
<h3 id="tree-objects"><a class="header" href="#tree-objects">Tree Objects</a></h3>
<ul>
<li>Tree object solves the problem of storing the filename and also allows you to store a group of files together</li>
</ul>
<pre><code>~/git-playground [master] &gt;mkdir src
~/git-playground [master] &gt;touch README.md
~/git-playground [master] &gt;touch src/hello.js
</code></pre>
<pre><code>tree
.
├── README.md --&gt; blob
└── src --&gt; tree
    └── hello.js --&gt; blob

</code></pre>
<pre><code>~/git-playground [master] &gt;git add -A                 
~/git-playground [master] &gt;git commit -m init
[master (root-commit) 27c4b42] init
 2 files changed, 0 insertions(+), 0 deletions(-)
 create mode 100644 README.md
 create mode 100644 src/hello.js
~/git-playground [master] &gt;tree .git         
.git
├── COMMIT_EDITMSG
├── HEAD
├── config
├── description
├── hooks
│   ├── applypatch-msg.sample
│   ├── commit-msg.sample
│   ├── fsmonitor-watchman.sample
│   ├── post-update.sample
│   ├── pre-applypatch.sample
│   ├── pre-commit.sample
│   ├── pre-merge-commit.sample
│   ├── pre-push.sample
│   ├── pre-rebase.sample
│   ├── pre-receive.sample
│   ├── prepare-commit-msg.sample
│   ├── push-to-checkout.sample
│   └── update.sample
├── index
├── info
│   └── exclude
├── logs
│   ├── HEAD
│   └── refs
│       └── heads
│           └── master
├── objects
│   ├── 27
│   │   └── c4b42327458637549fb9d00170bdc7b07ed77b
│   ├── 5a
│   │   └── 38b439d9a9e0a7d8d12f1e88cad5f881968a6b
│   ├── 93
│   │   └── 9ba388fd33e17497577f5cfacd6aa84ef219b9
│   ├── d6
│   │   └── 70460b4b4aece5915caf5c68d12f560a9fe3e4
│   ├── e1
│   │   └── 52c4c52532fda392dece4c503567d30a9ae059
│   ├── e6
│   │   └── 9de29bb2d1d6434b8b29ae775ad8c2e48c5391
│   ├── f8
│   │   └── acaeb421037571491c643e96acc09faea03b24
│   ├── info
│   └── pack
└── refs
    ├── heads
    │   └── master
    └── tags

18 directories, 29 files
</code></pre>
<ul>
<li><code>master^{tree}</code> syntax specifies the tree object that is pointed to by the <strong>last commit</strong> on your master branch.</li>
</ul>
<pre><code>~/git-playground [master] &gt;git cat-file -p master^{tree}
100644 blob e69de29bb2d1d6434b8b29ae775ad8c2e48c5391	README.md
040000 tree e152c4c52532fda392dece4c503567d30a9ae059	src

</code></pre>
<pre><code>~/git-playground [master] &gt;vi src/hello.js 
~/git-playground [master] &gt;cat src/hello.js 
console.log('hello');

git add -A
~/git-playground [master] &gt;git commit -m 'hello added'

</code></pre>
<pre><code>
&gt;tree
.
├── README.md
└── src
    └── hello.js

</code></pre>
<h2 id="references-14"><a class="header" href="#references-14">References</a></h2>
<ul>
<li><a href="https://git-scm.com/book/en/v2/Git-Internals-Plumbing-and-Porcelain">Git Internals - Plumbing and Porcelain</a></li>
</ul>
<h2 id="videos-2"><a class="header" href="#videos-2">Videos</a></h2>
<iframe width="840" height="600" src="https://www.youtube.com/embed/4XpnKHJAok8" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<div style="break-before: page; page-break-before: always;"></div><h1 id="git-hooks"><a class="header" href="#git-hooks">git hooks</a></h1>
<p><img src="deployments/../img/cover/chromecast-builiding-1.jpg" alt="Buildings" /></p>
<h2 id="good-projects-have-good-git-hooks"><a class="header" href="#good-projects-have-good-git-hooks">Good Projects have good git hooks!</a></h2>
<hr />
<pre class="mermaid">

sequenceDiagram
autonumber
Developer-&gt;&gt;VSCode: VSCode extension: &lt;br/&gt; Validates code on-the-fly
Developer-&gt;&gt;git: Prepare for commit
git-&gt;&gt;Developer: Using git hooks: &lt;br&gt;Validates commit message &lt;br/&gt;Performs code-scan&lt;br/&gt;
Rio-AutoDeltaDeployer-&gt;&gt;Org: Every 30 min perform:&lt;br/&gt;Code-scan&lt;br/&gt; Bails out if threshold is reached

 
 
</pre>
<iframe width="920" height="500" src="https://www.youtube.com/embed/F5t_1_C3SP8" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<h2 id="pre-requisites"><a class="header" href="#pre-requisites">Pre-requisites</a></h2>
<ul>
<li>Make sure your PMD tools are installed according to <a href="deployments/../cq/pmd.html">this</a> </li>
<li>Check python is already installed in your system by typing following in the terminal:</li>
</ul>
<pre><code class="language-bash">   python
</code></pre>
<p>Or</p>
<pre><code class="language-bash">   python3
</code></pre>
<ul>
<li>
<p>If you are successful in above command, you have already python installed if not continue to next steps:</p>
</li>
<li>
<p>Python is installed in <strong>one of these 2 ways</strong></p>
<ul>
<li>Install from <a href="https://www.python.org/downloads/">python.org</a></li>
</ul>
<hr />
<ul>
<li>Install via Homebrew</li>
</ul>
<pre><code class="language-bash"> /bin/bash -c &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install.sh)&quot;
</code></pre>
<ul>
<li>After Homebrew is installed install python</li>
</ul>
<pre><code class="language-bash">brew install python
</code></pre>
</li>
<li>
<p>Required <a href="https://mohan-chinnappan-n.github.io/dx/plugins.html#/1">SFDX Plugin</a> is installed:</p>
<pre><code class="language-bash">sfdx plugins:install sfdx-mohanc-plugins
</code></pre>
</li>
<li>
<p>All the hooks have to be made executable. For example:</p>
</li>
</ul>
<pre><code>chmod +x  prepare-commit-msg pre-commit commit-msg 
</code></pre>
<ul>
<li>You can view this :</li>
</ul>
<pre><code class="language-bash">/treeprj/.git/hooks [patch1] &gt;ls -l prepare-commit-msg pre-commit commit-msg 
-rwxr-xr-x  1 mchinnappan  staff   522 Jan 25 08:43 commit-msg
-rwxr-xr-x  1 mchinnappan  staff  1050 Feb  8 03:47 pre-commit
-rwxr-xr-x  1 mchinnappan  staff   177 Jan 25 05:54 prepare-commit-msg
</code></pre>
<hr />
<p><img src="https://wac-cdn.atlassian.com/dam/jcr:e068ea71-a552-4d07-9917-49104f4d382e/02.svg?cdnVersion=745" alt="githook" /></p>
<ul>
<li>
<p>Here we explain how to use the power of git hooks to check/enforce:</p>
<ul>
<li>commit comments quality </li>
<li>the committed code is deployable</li>
</ul>
</li>
<li>
<p>Git hooks can be run:</p>
</li>
<li>
<p><strong>locally</strong></p>
<ul>
<li>
<p>prepare-commit-msg</p>
</li>
<li>
<p>pre-commit</p>
</li>
<li>
<p>commit-msg</p>
</li>
<li>
<p>post-commit</p>
</li>
<li>
<p>They are not copied over to the new repository when you run git clone. And, since hooks are local, they can be altered by anybody with access to the repository.</p>
</li>
</ul>
</li>
<li>
<p><strong>on git server</strong></p>
<ul>
<li>pre-receive </li>
<li>update</li>
<li>post-receive</li>
</ul>
</li>
</ul>
<hr />
<ul>
<li>
<p><strong>Local hooks</strong> can only serve as a guidance and should not be relied upon for enforcements.</p>
<ul>
<li>
<p>They are <strong>not copied</strong> over to the new repository when you run git clone.</p>
</li>
<li>
<p>Can be altered by anybody with access to the repository.</p>
</li>
<li>
<p><code>.git/hooks directory</code> isn’t cloned with the rest of your project, nor is it under version control.</p>
<ul>
<li>Easily disabled by the user - by deleting the <code>.git/hook/</code> directory or <code>--no-verify</code> with git cli</li>
<li>We need to  find a way to make sure hooks stay <strong>up-to-date amongst your team members</strong>. </li>
<li>You <strong>can’t force developers</strong> to create commits that look a certain way
<ul>
<li>You can <strong>only encourage</strong> them to do so. </li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Solution</strong></p>
<ul>
<li>
<p>A simple solution to these local problems is to:</p>
<ul>
<li>Store your hooks in the actual project directory (above the <code>.git</code> directory)</li>
<li>This lets you edit them like any other version-controlled file</li>
<li>To install a hook, you can  create a symlink to it in <code>.git/hooks</code></li>
</ul>
</li>
<li>
<p>Git Templates Directory</p>
<ul>
<li>Git's <a href="http://git-scm.com/docs/git-init#_template_directory">Template Directory</a> mechanism that makes it easier to <strong>install hooks automatically</strong>.</li>
<li>All of the files and directories contained in this template directory are copied into the <code>.git</code> directory every time you use <code>git init</code> or <code>git clone</code>.</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr />
<ul>
<li><strong>Server hooks</strong> are a better choice for enforcing rules.</li>
</ul>
<h2 id="topics-we-will-cover-here"><a class="header" href="#topics-we-will-cover-here">Topics we will cover here:</a></h2>
<ul>
<li><a href="deployments/git-hooks.html#prepare-commit-msg">prepare-commit-msg</a></li>
<li><a href="deployments/git-hooks.html#commit-msg">commit-msg</a></li>
<li><a href="deployments/git-hooks.html#pre-commit">pre-commit</a></li>
</ul>
<p><a name='prepare-commit-msg'></a></p>
<h2 id="sample-prepare-commit-msg"><a class="header" href="#sample-prepare-commit-msg">Sample prepare-commit-msg</a></h2>
<pre><code class="language-bash">cat .git/hooks/prepare-commit-msg
</code></pre>
<pre><code class="language-py">#!/usr/bin/env python3
import sys
import subprocess

# Run the git command to get the current branch name
result = subprocess.run(['git', 'rev-parse', '--abbrev-ref', 'HEAD'], stdout=subprocess.PIPE)

# Extract the branch name from the command output
branch_name = result.stdout.decode('utf-8').strip()
#print(branch_name)

# read .git/COMMIT_EDITMSG
commit_msg_filepath = sys.argv[1]
with open(commit_msg_filepath, &quot;w&quot;) as f:
    #  change the following as needed
    f.write(f&quot;{branch_name} your info\n#You must include Ticket reference in the first line&quot;)

</code></pre>
<h3 id="prepare-commit-msg-in-action"><a class="header" href="#prepare-commit-msg-in-action">prepare-commit-msg in action</a></h3>
<pre><code class="language-bash">git branch WI-123456
git checkout WI-123456
Switched to branch 'WI-123456'
touch r3.md
[WI-123456]- &gt;git add .
[WI-123456]- &gt;git commit 
[WI-123456 e855e40] WI-123456 added to support training
 1 file changed, 0 insertions(+), 0 deletions(-)
 create mode 100644 r3.md

[WI-123456]- &gt; git lg
* e855e40 - (3 minutes ago) WI-123456 added to support training - mohan-chinnappan-n (HEAD -&gt; WI-123456)
</code></pre>
<img src="deployments/img/prepare-commit-msg-2c.png" width='400'/>  
<pre><code>git lg
* 8ba0da4 - (3 minutes ago) WI-12345 added supported for new filed xyz - mohan-chinnappan-n (HEAD -&gt; WI-12345)
</code></pre>
<hr />
<p><a name='commit-msg'></a></p>
<h2 id="commit-msg"><a class="header" href="#commit-msg">commit-msg</a></h2>
<ul>
<li>With commit-msg we can enforce commit message</li>
</ul>
<pre><code class="language-py">#!/usr/bin/env python3

# python script check the format of the commit with a regex
# valid: WI-123456 adding new docs
#  echo $? -&gt; 0
# invalid: &quot; adding more docs&quot;  
#   echo $? -&gt; 1
# TODO: change the regex to fit your needs

import re,sys
input = sys.argv[1]
print('INPUT', 	input)

prefix='==='
with open(input, 'r') as file:
    data = file.read()

p = re.compile(&quot;^WI-([0-9]*){1,6}\s[a-zA-Z0-9\s]{1,30}&quot;)

print (f'{prefix} commit msg: {data} ')
if bool(p.match(data)):
	print (f'{prefix} Valid commit message!{prefix}')
else:
	print (f'{prefix} Invalid commit message! bailing out... {prefix}')
	exit(1)




</code></pre>
<h3 id="testing"><a class="header" href="#testing">Testing</a></h3>
<pre><code>cat &quot;.git/COMMIT_EDITMSG&quot;  
WI-123456 adding new docs
</code></pre>
<pre><code>~/treeprj [patch1] &gt;python .git/hooks/commit-msg &quot;.git/COMMIT_EDITMSG&quot;  
Invalid commit message! bailing out...
~/treeprj [patch1] &gt;echo $?
1
</code></pre>
<pre><code>~/treeprj [patch1] &gt;python .git/hooks/commit-msg &quot;.git/COMMIT_EDITMSG&quot;  
Valid commit message!
~/treeprj [patch1] &gt;echo $?                                                
0

</code></pre>
<h3 id="demo-8"><a class="header" href="#demo-8">Demo</a></h3>
<pre><code>git commit                                        
Jan 25, 2023 8:45:02 AM net.sourceforge.pmd.PMD encourageToUseIncrementalAnalysis
WARNING: This analysis could be faster, please consider using Incremental Analysis: https://pmd.github.io/pmd-6.47.0/pmd_userdocs_incremental_analysis.html
SELECT COUNT(*) AS CNT   FROM CSV(&quot;results.csv&quot;, {headers:true}) WHERE Priority &lt; 3
nerrors: 0
Continue the deployment...
Deploying v55.0 metadata to test-uzsmfdqkhtk7@example.com using the v56.0 SOAP API
Deploy ID: 0AfDM000016PncS0AS
DEPLOY PROGRESS | ████████████████████████████████████████ | 1/1 Components

=== Deployed Source

 FULL NAME  TYPE      PROJECT PATH                                           
 ────────── ───────── ────────────────────────────────────────────────────── 
 HelloPeach ApexClass force-app/main/default/classes/HelloPeach.cls          
 HelloPeach ApexClass force-app/main/default/classes/HelloPeach.cls-meta.xml 
Successfully validated the deployment.
('INPUT', '.git/COMMIT_EDITMSG')
Valid commit message!
[patch1 9fd2000] WI-123456 adding new docs
 3 files changed, 3 insertions(+), 2 deletions(-)
 create mode 100644 docs/12.md
~/treeprj [patch1] &gt;git lg | head -n 1
* 9fd2000 - (53 seconds ago) WI-123456 adding new docs - mohan-chinnappan-n (HEAD -&gt; patch1)
</code></pre>
<p><a name='pre-commit'></a></p>
<h2 id="pre-commit-hook"><a class="header" href="#pre-commit-hook">pre-commit hook</a></h2>
<ul>
<li>Note this will increase time to do the commit but you will be assured of what is committed is deployable</li>
<li>Here I have explained for deploy check for classes, but you can add it as needed.</li>
</ul>
<pre><code>cat .git/hooks/pre-commit
</code></pre>
<pre><code class="language-bash">#!/usr/bin/env bash
sfdx force:source:deploy -p /Users/mchinnappan/treeprj/force-app/main/default/classes/ -u test-uzsmfdqkhtk7@example.com -c --verbose

</code></pre>
<h2 id="pre-commit-hook-in-action"><a class="header" href="#pre-commit-hook-in-action">pre-commit hook in action</a></h2>
<ul>
<li>Script used for this</li>
</ul>
<pre><code>~/treeprj [patch1] &gt;
sfdx force:source:deploy -p /Users/mchinnappan/treeprj/force-app/main/default/classes/ -u test-uzsmfdqkhtk7@example.com -c --verbose
Deploying v55.0 metadata to test-uzsmfdqkhtk7@example.com using the v56.0 SOAP API
Deploy ID: 0AfDM000016PUr90AG
DEPLOY PROGRESS | ████████████████████████████████████████ | 1/1 Components

=== Deployed Source

 FULL NAME  TYPE      PROJECT PATH                                           
 ────────── ───────── ────────────────────────────────────────────────────── 
 HelloPeach ApexClass force-app/main/default/classes/HelloPeach.cls          
 HelloPeach ApexClass force-app/main/default/classes/HelloPeach.cls-meta.xml 
Successfully validated the deployment.
~/treeprj [patch1] &gt;echo $?                                                                                                  
0
</code></pre>
<hr />
<ul>
<li>Note here the validation deploy is run to make sure that code is deployable </li>
</ul>
<pre><code>~/treeprj [patch1] &gt;vi docs/9.md 
~/treeprj [patch1] &gt;git add -A                    
~/treeprj [patch1] &gt;git commit
Deploying v55.0 metadata to test-uzsmfdqkhtk7@example.com using the v56.0 SOAP API
Deploy ID: 0AfDM000016PUwn0AG
DEPLOY PROGRESS | ████████████████████████████████████████ | 1/1 Components

=== Deployed Source

 FULL NAME  TYPE      PROJECT PATH                                           
 ────────── ───────── ────────────────────────────────────────────────────── 
 HelloPeach ApexClass force-app/main/default/classes/HelloPeach.cls          
 HelloPeach ApexClass force-app/main/default/classes/HelloPeach.cls-meta.xml 
Successfully validated the deployment.
[patch1 9f3ce34] PATCH1 WI-2345 - more docs added
 1 file changed, 2 insertions(+)
 create mode 100644 docs/9.md

</code></pre>
<h3 id="adding-pmd-code-scan-in-pre-commit"><a class="header" href="#adding-pmd-code-scan-in-pre-commit">Adding PMD code scan in pre-commit</a></h3>
<pre><code>~/treeprj [patch1] &gt;vi docs/10.md
~/treeprj [patch1] &gt;git add -A
~/treeprj [patch1] &gt;git commit
Jan 25, 2023 6:41:18 AM net.sourceforge.pmd.PMD encourageToUseIncrementalAnalysis
WARNING: This analysis could be faster, please consider using Incremental Analysis: https://pmd.github.io/pmd-6.47.0/pmd_userdocs_incremental_analysis.html
SELECT COUNT(*) AS CNT   FROM CSV(&quot;results.csv&quot;, {headers:true}) WHERE Priority &lt; 4
nerrors: 3
Number of P1,P2 and P3 issues are:  3. Stopping the deployment!

</code></pre>
<pre><code class="language-bash">cat .git/hooks/pre-commit
</code></pre>
<pre><code class="language-bash">#!/usr/bin/env bash
# Script for pipeline
# Bails out if count of P1,P2 and P3 are not zero
# -----------------------------------------

#----- configure the following to meet your needs ----
RULESET=~/.pmd/apex_ruleset.xml
MSG=&quot;Number of P1,P2 and P3 issues are&quot;
THRESHOLD=3
CODE=/Users/mchinnappan/treeprj/force-app/main/default/classes/
#-----------------------------------------------------
PREFIX=&quot;===&quot;
# Run the pmd
echo &quot;$PREFIX Running PMD scan on ${CODE} ${PREFIX}...&quot;
echo &quot;Going to run: pmd-run.sh pmd -R  $RULESET -d $CODE  -f csv &gt; results.csv ...&quot;
pmd-run.sh pmd -R  $RULESET -d $CODE  -f csv &gt; results.csv


# query the results using SQL
echo &quot;SELECT COUNT(*) AS CNT   FROM CSV(\&quot;results.csv\&quot;, {headers:true}) WHERE Priority &lt; $THRESHOLD&quot; &gt; q.sql
cat q.sql
sfdx mohanc:data:query:sql -q q.sql  &gt; out.json

# check for the errors
echo &quot;$PREFIX Checking for PMD  violations ... $PREFIX&quot;
nerrors=`sfdx mohanc:data:jq -f  '.[].CNT'  -i out.json`
echo &quot;nerrors: $nerrors&quot;

if [ &quot;$nerrors&quot; != 0 ]
then
  echo &quot;$PREFIX $MSG:  $nerrors. Stopping the deployment! $PREFIX &quot;
  exit 2
else 
  echo &quot;$PREFIX No PMD violations! $PREFIX&quot;
fi
echo &quot;$PREFIX Continue the deployment...$PREFIX&quot;
echo sfdx force:source:deploy -p $CODE -u test-uzsmfdqkhtk7@example.com -c --verbose

</code></pre>
<h3 id="demo-of-successful-commit"><a class="header" href="#demo-of-successful-commit">Demo of successful commit</a></h3>
<pre><code>~/treeprj [patch1] &gt;git add -A              
~/treeprj [patch1] &gt;git commit               
Jan 25, 2023 6:51:23 AM net.sourceforge.pmd.PMD encourageToUseIncrementalAnalysis
WARNING: This analysis could be faster, please consider using Incremental Analysis: https://pmd.github.io/pmd-6.47.0/pmd_userdocs_incremental_analysis.html
SELECT COUNT(*) AS CNT   FROM CSV(&quot;results.csv&quot;, {headers:true}) WHERE Priority &lt; 3
nerrors: 0
Continue the deployment...
Deploying v55.0 metadata to test-uzsmfdqkhtk7@example.com using the v56.0 SOAP API
Deploy ID: 0AfDM000016PX2w0AG
DEPLOY PROGRESS | ████████████████████████████████████████ | 1/1 Components

=== Deployed Source

 FULL NAME  TYPE      PROJECT PATH                                           
 ────────── ───────── ────────────────────────────────────────────────────── 
 HelloPeach ApexClass force-app/main/default/classes/HelloPeach.cls          
 HelloPeach ApexClass force-app/main/default/classes/HelloPeach.cls-meta.xml 
Successfully validated the deployment.
[patch1 b1ebf5a] PATCH1 WI-4567 - add more docs
 5 files changed, 9 insertions(+)
 create mode 100644 docs/10.md
 create mode 100644 docs/11.md
 ...
</code></pre>
<pre><code>~/treeprj [patch1] &gt;git lg   
* b1ebf5a - (2 minutes ago) PATCH1 WI-4567 - add more docs - mohan-chinnappan-n (HEAD -&gt; patch1)
</code></pre>
<p><img src="deployments/./img/githooks-demo-1.webm.gif" alt="demo in vsc" /></p>
<h2 id="references-15"><a class="header" href="#references-15">References</a></h2>
<ul>
<li><a href="https://git-scm.com/book/en/v2/Customizing-Git-An-Example-Git-Enforced-Policy">8.4 Customizing Git - An Example Git-Enforced Policy</a></li>
<li><a href="https://www.atlassian.com/git/tutorials/git-hooks">Git Hooks</a></li>
<li><a href="https://www.atlassian.com/git/tutorials/git-hooks#server-side-hooks">Server side hooks</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="git-operations"><a class="header" href="#git-operations">git operations</a></h1>
<ul>
<li>Refer <a href="deployments/./git.html">git</a> chapter before starting this.</li>
</ul>
<h2 id="topics-14"><a class="header" href="#topics-14">Topics</a></h2>
<ul>
<li><a href="deployments/git-ops.html#init">init</a></li>
<li><a href="deployments/git-ops.html#stage">stage</a></li>
<li><a href="deployments/git-ops.html#commit">commit</a></li>
<li><a href="deployments/git-ops.html#logs">logs</a></li>
<li><a href="deployments/git-ops.html#branch">branch</a></li>
<li><a href="deployments/git-ops.html#fb">work in feature branch</a></li>
<li><a href="deployments/git-ops.html#switch">switch back to main</a></li>
<li><a href="deployments/git-ops.html#cherry-pick">cheery-pick</a></li>
</ul>
<hr />
<p><a name='init'></a></p>
<h2 id="init"><a class="header" href="#init">init</a></h2>
<pre><code>~/git-playground [master] &gt;cd 
~  &gt;mkdir git-demo
~  &gt;cd git-demo 
~/git-demo  &gt;ls
~/git-demo  &gt;git init .
hint: Using 'master' as the name for the initial branch. This default branch name
hint: is subject to change. To configure the initial branch name to use in all
hint: of your new repositories, which will suppress this warning, call:
hint: 
hint: 	git config --global init.defaultBranch &lt;name&gt;
hint: 
hint: Names commonly chosen instead of 'master' are 'main', 'trunk' and
hint: 'development'. The just-created branch can be renamed via this command:
hint: 
hint: 	git branch -m &lt;name&gt;
Initialized empty Git repository in /Users/mchinnappan/git-demo/.git/
~/git-demo [master] &gt;git config --global init.defaultBranch  
~/git-demo [master] &gt;git config --global init.defaultBranch main
~/git-demo [master] &gt;git branch -m main
~/git-demo [main] &gt;code .
~/git-demo [main] &gt;git status
On branch main

No commits yet

Untracked files:
  (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)
	greet.js

nothing added to commit but untracked files present (use &quot;git add&quot; to track)
</code></pre>
<p><a name='stage'></a></p>
<h2 id="stage"><a class="header" href="#stage">stage</a></h2>
<pre><code>~/git-demo [main] &gt;git add greet.js 
</code></pre>
<p><a name='status'></a></p>
<h2 id="status"><a class="header" href="#status">status</a></h2>
<pre><code>~/git-demo [main] &gt;git status
On branch main

No commits yet

Changes to be committed:
  (use &quot;git rm --cached &lt;file&gt;...&quot; to unstage)
	new file:   greet.js
</code></pre>
<p><a name='commit'></a></p>
<h2 id="commit"><a class="header" href="#commit">commit</a></h2>
<pre><code>~/git-demo [main] &gt;git commit -m 'init'
[main (root-commit) 6738865] init
 1 file changed, 2 insertions(+)
 create mode 100644 greet.js
~/git-demo [main] &gt;git status
On branch main
nothing to commit, working tree clean
</code></pre>
<p><a name='logs'></a></p>
<h2 id="logs"><a class="header" href="#logs">logs</a></h2>
<pre><code>git log 
commit 6738865ba8b8549b62b9fbadf4b4041ac891e36e (HEAD -&gt; main)
Author: mohan-chinnappan-n &lt;mohan.chinnappan.n@gmail.com&gt;
Date:   Fri Feb 3 07:27:03 2023 -0500

    init

</code></pre>
<pre><code>~/git-demo [main] &gt;git lg
* 6738865 - (12 seconds ago) init - mohan-chinnappan-n (HEAD -&gt; main)
~/git-demo [main] &gt;

</code></pre>
<p><a name='branch'></a></p>
<h2 id="branch"><a class="header" href="#branch">branch</a></h2>
<pre><code>~/git-demo [main] &gt;git branch feature-0001
``
</code></pre>
<p>~/git-demo [main] &gt;git branch
feature-0001</p>
<ul>
<li>main</li>
</ul>
<pre><code>
</code></pre>
<p>~/git-demo [main] &gt;git checkout feature-0001
Switched to branch 'feature-0001'</p>
<pre><code>~/git-demo [feature-0001] &gt;git lg                   
* 6738865 - (24 minutes ago) init - mohan-chinnappan-n (HEAD -&gt; feature-0001, main)

</code></pre>
<pre><code>~/git-demo [feature-0001] &gt;git branch
* feature-0001
  main

</code></pre>
<p><a name='fb'></a></p>
<h2 id="work-in-feature-0001-branch"><a class="header" href="#work-in-feature-0001-branch">work in feature-0001 branch</a></h2>
<pre><code>~/git-demo [feature-0001] &gt;vi greet.js 

~/git-demo [feature-0001] &gt;cat greet.js 

const msg = 'hello world';
console.log(msg);
</code></pre>
<pre><code>~/git-demo [feature-0001] &gt;node greet.js 
hello world
</code></pre>
<h3 id="commit-the-changes"><a class="header" href="#commit-the-changes">commit the changes</a></h3>
<pre><code>~/git-demo [feature-0001] &gt;git add greet.js 
~/git-demo [feature-0001] &gt;git commit -m 'msg updated'
[feature-0001 4f8fbaa] msg updated
 1 file changed, 3 insertions(+), 2 deletions(-)
</code></pre>
<pre><code>~/git-demo [feature-0001] &gt;git lg  
* 4f8fbaa - (9 seconds ago) msg updated - mohan-chinnappan-n (HEAD -&gt; feature-0001)
* 6738865 - (25 minutes ago) init - mohan-chinnappan-n (main)
</code></pre>
<h3 id="keep-working-on-feature-0001"><a class="header" href="#keep-working-on-feature-0001">Keep working on feature-0001</a></h3>
<pre><code>~/git-demo [feature-0001] &gt;vi greet.js 
~/git-demo [feature-0001] &gt;cat greet.js 

const msg = process.argv[2] || 'hello world';
console.log(msg);
~/git-demo [feature-0001] &gt;node greet.js HelloWorld
HelloWorld

~/git-demo [feature-0001] &gt;node greet.js           
hello world

</code></pre>
<pre><code>/git-demo [feature-0001] &gt;git add greet.js 
~/git-demo [feature-0001] &gt;git commit -m 'added msg from commandline param'
[feature-0001 6aff16d] added msg from commandline param
 1 file changed, 1 insertion(+), 1 deletion(-)

</code></pre>
<h3 id="logs-1"><a class="header" href="#logs-1">logs</a></h3>
<pre><code>~/git-demo [feature-0001] &gt;git lg2
* 6aff16d - Fri, 3 Feb 2023 07:57:30 -0500 (69 seconds ago) (HEAD -&gt; feature-0001)
|           added msg from commandline param - mohan-chinnappan-n
* 4f8fbaa - Fri, 3 Feb 2023 07:52:23 -0500 (6 minutes ago)
|           msg updated - mohan-chinnappan-n
* 6738865 - Fri, 3 Feb 2023 07:27:03 -0500 (32 minutes ago) (main)
            init - mohan-chinnappan-n

</code></pre>
<p><a name='switch'></a></p>
<h3 id="switch-back-to-main-and-make-few-updates-and-commit"><a class="header" href="#switch-back-to-main-and-make-few-updates-and-commit">switch back to main and make few updates and commit</a></h3>
<pre><code>~/git-demo [feature-0001] &gt;git checkout main
Switched to branch 'main'
~/git-demo [main] &gt;vi greet.js 
~/git-demo [main] &gt;cat greet.js 
const msg = 'Greetings';
console.log(msg);
~/git-demo [main] &gt;node greet.js 
Greetings

</code></pre>
<pre><code>~/git-demo [feature-0001] &gt;git checkout main
Switched to branch 'main'
~/git-demo [main] &gt;vi greet.js 
~/git-demo [main] &gt;cat greet.js 
const msg = 'Greetings';
console.log(msg);
~/git-demo [main] &gt;node greet.js 
Greetings
~/git-demo [main] &gt;git add greet.js 
~/git-demo [main] &gt;git commit -m 'msg is changed'
[main 972c964] msg is changed
 1 file changed, 2 insertions(+), 2 deletions(-)
~/git-demo [main] &gt;git lg2
* 972c964 - Fri, 3 Feb 2023 08:00:54 -0500 (6 seconds ago) (HEAD -&gt; main)
|           msg is changed - mohan-chinnappan-n
| * 6aff16d - Fri, 3 Feb 2023 07:57:30 -0500 (4 minutes ago) (feature-0001)
| |           added msg from commandline param - mohan-chinnappan-n
| * 4f8fbaa - Fri, 3 Feb 2023 07:52:23 -0500 (9 minutes ago)
|/            msg updated - mohan-chinnappan-n
* 6738865 - Fri, 3 Feb 2023 07:27:03 -0500 (34 minutes ago)
            init - mohan-chinnappan-n

</code></pre>
<p><a name='merge'></a></p>
<h2 id="let-us-merge-feature-001-with-main-to-the-conflicts"><a class="header" href="#let-us-merge-feature-001-with-main-to-the-conflicts">let us merge feature-001 with main to the conflicts</a></h2>
<pre><code>~/git-demo [main] &gt;git merge feature-0001
Auto-merging greet.js
CONFLICT (content): Merge conflict in greet.js
Automatic merge failed; fix conflicts and then commit the result.
</code></pre>
<h3 id="use-merge-editor-in-vscode-to-resolve-the-conflicts"><a class="header" href="#use-merge-editor-in-vscode-to-resolve-the-conflicts">use merge editor in VSCode to resolve the conflicts</a></h3>
<p><img src="deployments/img/git-conflict-mege.webm.gif" alt="git merge conflict" /></p>
<pre><code>~/git-demo  (git)-[main|merge]- &gt;git status
On branch main
All conflicts fixed but you are still merging.
  (use &quot;git commit&quot; to conclude merge)

Changes to be committed:
	modified:   greet.js

</code></pre>
<pre><code>~/git-demo  (git)-[main|merge]- &gt;git add greet.js 

~/git-demo  (git)-[main|merge]- &gt;git commit -m 'merged with feature-0001'
[main 50fa27f] merged with feature-0001
</code></pre>
<pre><code>~/git-demo [main] &gt;git lg2
*   50fa27f - Fri, 3 Feb 2023 08:09:16 -0500 (6 seconds ago) (HEAD -&gt; main)
|\            merged with feature-0001 - mohan-chinnappan-n
| * 6aff16d - Fri, 3 Feb 2023 07:57:30 -0500 (12 minutes ago) (feature-0001)
| |           added msg from commandline param - mohan-chinnappan-n
| * 4f8fbaa - Fri, 3 Feb 2023 07:52:23 -0500 (17 minutes ago)
| |           msg updated - mohan-chinnappan-n
* | 972c964 - Fri, 3 Feb 2023 08:00:54 -0500 (8 minutes ago)
|/            msg is changed - mohan-chinnappan-n
* 6738865 - Fri, 3 Feb 2023 07:27:03 -0500 (42 minutes ago)
            init - mohan-chinnappan-n
~/git-demo [main] &gt;cat greet.js 

const msg = process.argv[2] || 'hello world';
console.log(msg);

</code></pre>
<h2 id="some-more-update-on-feature-0001"><a class="header" href="#some-more-update-on-feature-0001">Some more update on feature-0001</a></h2>
<pre><code>git checkout feature-0001
M	greet.js
Switched to branch 'feature-0001'
</code></pre>
<pre><code>~/git-demo [main] &gt;vi greet.js 
~/git-demo [main] &gt;vi greet.js
~/git-demo [main] &gt;node greet.js  
hello world
30
~/git-demo [main] &gt;cat greet.js 

const msg = process.argv[2] || 'hello world';
console.log(msg);

const add = (a,b) =&gt; a+b;
console.log(add(10,20));

</code></pre>
<pre><code>~/git-demo [feature-0001] &gt;git status
On branch feature-0001
Changes not staged for commit:
  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)
  (use &quot;git restore &lt;file&gt;...&quot; to discard changes in working directory)
	modified:   greet.js

no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)
~/git-demo [feature-0001] &gt;git add greet.js 
~/git-demo [feature-0001] &gt;git commit -m 'add function added'
[feature-0001 af3e5f4] add function added
 1 file changed, 3 insertions(+)
~/git-demo [feature-0001] &gt;git lg3
* af3e5f4 - Sat, 4 Feb 2023 04:40:59 -0500 (4 seconds ago) (committed: Sat, 4 Feb 2023 04:40:59 -0500)  (HEAD -&gt; feature-0001)
|           add function added
|           - mohan-chinnappan-n &lt;mohan.chinnappan.n@gmail.com&gt;  (committer: mohan-chinnappan-n &lt;mohan.chinnappan.n@gmail.com&gt;)
| *   50fa27f - Fri, 3 Feb 2023 08:09:16 -0500 (21 hours ago) (committed: Fri, 3 Feb 2023 08:09:16 -0500)  (main)
| |\            merged with feature-0001
| |/            - mohan-chinnappan-n &lt;mohan.chinnappan.n@gmail.com&gt;  (committer: mohan-chinnappan-n &lt;mohan.chinnappan.n@gmail.com&gt;)
|/|   
* | 6aff16d - Fri, 3 Feb 2023 07:57:30 -0500 (21 hours ago) (committed: Fri, 3 Feb 2023 07:57:30 -0500) 
| |           added msg from commandline param
| |           - mohan-chinnappan-n &lt;mohan.chinnappan.n@gmail.com&gt;  (committer: mohan-chinnappan-n &lt;mohan.chinnappan.n@gmail.com&gt;)
* | 4f8fbaa - Fri, 3 Feb 2023 07:52:23 -0500 (21 hours ago) (committed: Fri, 3 Feb 2023 07:52:23 -0500) 
| |           msg updated
| |           - mohan-chinnappan-n &lt;mohan.chinnappan.n@gmail.com&gt;  (committer: mohan-chinnappan-n &lt;mohan.chinnappan.n@gmail.com&gt;)
| * 972c964 - Fri, 3 Feb 2023 08:00:54 -0500 (21 hours ago) (committed: Fri, 3 Feb 2023 08:00:54 -0500) 
|/            msg is changed
|             - mohan-chinnappan-n &lt;mohan.chinnappan.n@gmail.com&gt;  (committer: mohan-chinnappan-n &lt;mohan.chinnappan.n@gmail.com&gt;)
* 6738865 - Fri, 3 Feb 2023 07:27:03 -0500 (21 hours ago) (committed: Fri, 3 Feb 2023 07:27:03 -0500) 
            init
            - mohan-chinnappan-n &lt;mohan.chinnappan.n@gmail.com&gt;  (committer: mohan-chinnappan-n &lt;mohan.chinnappan.n@gmail.com&gt;)

</code></pre>
<pre><code>~/git-demo [feature-0001] &gt;vi greet.js 
~/git-demo [feature-0001] &gt;node greet.js 
hello world
30
200
~/git-demo [feature-0001] &gt;cat greet.js 

const msg = process.argv[2] || 'hello world';
console.log(msg);

const add = (a,b) =&gt; a+b;
console.log(add(10,20));

const mul = (a,b) =&gt; a*b;
console.log(mul(10,20));
~/git-demo [feature-0001] &gt;git add greet.js 
~/git-demo [feature-0001] &gt;git commit -m 'mul function added'
[feature-0001 d99c263] mul function added
 1 file changed, 3 insertions(+)
~/git-demo [feature-0001] &gt;git lg
* d99c263 - (36 seconds ago) mul function added - mohan-chinnappan-n (HEAD -&gt; feature-0001)
* af3e5f4 - (3 minutes ago) add function added - mohan-chinnappan-n
| *   50fa27f - (21 hours ago) merged with feature-0001 - mohan-chinnappan-n (main)
| |\  
| |/  
|/|   
* | 6aff16d - (21 hours ago) added msg from commandline param - mohan-chinnappan-n
* | 4f8fbaa - (21 hours ago) msg updated - mohan-chinnappan-n
| * 972c964 - (21 hours ago) msg is changed - mohan-chinnappan-n
|/  
* 6738865 - (21 hours ago) init - mohan-chinnappan-n
~/git-demo [feature-0001] &gt;git lg2
* d99c263 - Sat, 4 Feb 2023 04:43:06 -0500 (43 seconds ago) (HEAD -&gt; feature-0001)
|           mul function added - mohan-chinnappan-n
* af3e5f4 - Sat, 4 Feb 2023 04:40:59 -0500 (3 minutes ago)
|           add function added - mohan-chinnappan-n
| *   50fa27f - Fri, 3 Feb 2023 08:09:16 -0500 (21 hours ago) (main)
| |\            merged with feature-0001 - mohan-chinnappan-n
| |/  
|/|   
* | 6aff16d - Fri, 3 Feb 2023 07:57:30 -0500 (21 hours ago)
| |           added msg from commandline param - mohan-chinnappan-n
* | 4f8fbaa - Fri, 3 Feb 2023 07:52:23 -0500 (21 hours ago)
| |           msg updated - mohan-chinnappan-n
| * 972c964 - Fri, 3 Feb 2023 08:00:54 -0500 (21 hours ago)
|/            msg is changed - mohan-chinnappan-n
* 6738865 - Fri, 3 Feb 2023 07:27:03 -0500 (21 hours ago)
            init - mohan-chinnappan-n
</code></pre>
<pre><code>~/git-demo [feature-0001] &gt;git log --pretty='format:%h|%an|%ae|%s'
d99c263|mohan-chinnappan-n|mohan.chinnappan.n@gmail.com|mul function added
af3e5f4|mohan-chinnappan-n|mohan.chinnappan.n@gmail.com|add function added
6aff16d|mohan-chinnappan-n|mohan.chinnappan.n@gmail.com|added msg from commandline param
4f8fbaa|mohan-chinnappan-n|mohan.chinnappan.n@gmail.com|msg updated
6738865|mohan-chinnappan-n|mohan.chinnappan.n@gmail.com|init
</code></pre>
<p><a name='cherry-pick'></a></p>
<h3 id="cherry-pick-af3e5f4-into-main"><a class="header" href="#cherry-pick-af3e5f4-into-main">cherry-pick af3e5f4 into main</a></h3>
<pre><code>~/git-demo [feature-0001] &gt;cat greet.js 

const msg = process.argv[2] || 'hello world';
console.log(msg);

const add = (a,b) =&gt; a+b;
console.log(add(10,20));

const mul = (a,b) =&gt; a*b;
console.log(mul(10,20));
</code></pre>
<pre><code>~/git-demo [feature-0001] &gt;git checkout main
Switched to branch 'main'
</code></pre>
<pre><code>~/git-demo [main] &gt;cat greet.js     

const msg = process.argv[2] || 'hello world';
console.log(msg);
</code></pre>
<pre><code>~/git-demo [main] &gt;git cherry-pick af3e5f4
[main befe251] add function added
 Date: Sat Feb 4 04:40:59 2023 -0500
 1 file changed, 3 insertions(+)
</code></pre>
<pre><code>~/git-demo [main] &gt;cat greet.js           

const msg = process.argv[2] || 'hello world';
console.log(msg);

const add = (a,b) =&gt; a+b;
console.log(add(10,20));

</code></pre>
<pre><code>~/git-demo [main] &gt;node greet.js 
hello world
30
</code></pre>
<pre><code>~/git-demo [main] &gt;git lg2
* befe251 - Sat, 4 Feb 2023 04:40:59 -0500 (10 minutes ago) (HEAD -&gt; main)
|           add function added - mohan-chinnappan-n
*   50fa27f - Fri, 3 Feb 2023 08:09:16 -0500 (21 hours ago)
|\            merged with feature-0001 - mohan-chinnappan-n
* | 972c964 - Fri, 3 Feb 2023 08:00:54 -0500 (21 hours ago)
| |           msg is changed - mohan-chinnappan-n
| | * d99c263 - Sat, 4 Feb 2023 04:43:06 -0500 (7 minutes ago) (feature-0001)
| | |           mul function added - mohan-chinnappan-n
| | * af3e5f4 - Sat, 4 Feb 2023 04:40:59 -0500 (10 minutes ago)&lt;---------- cheery-pick
| |/            add function added - mohan-chinnappan-n
| * 6aff16d - Fri, 3 Feb 2023 07:57:30 -0500 (21 hours ago)
| |           added msg from commandline param - mohan-chinnappan-n
| * 4f8fbaa - Fri, 3 Feb 2023 07:52:23 -0500 (21 hours ago)
|/            msg updated - mohan-chinnappan-n
* 6738865 - Fri, 3 Feb 2023 07:27:03 -0500 (21 hours ago)
            init - mohan-chinnappan-n


</code></pre>
<h2 id="references-16"><a class="header" href="#references-16">References</a></h2>
<ul>
<li><a href="https://www.atlassian.com/git/tutorials/cherry-pick">cheery-pick</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="pull-request-pr-template"><a class="header" href="#pull-request-pr-template">pull request (PR) template</a></h1>
<ul>
<li>All good projects have PR template</li>
</ul>
<h2 id="steps"><a class="header" href="#steps">Steps</a></h2>
<ul>
<li>Create <code>.github/pull_request_template.md</code> in your project repo </li>
<li>Here is a sample <a href="https://raw.githubusercontent.com/mohan-chinnappan-n/quotes/main/.github/pull_request_template.md">.github/pull_request_template.md</a></li>
</ul>
<pre><code>- [ ] I completed my code review with my peers
- [ ] I completed code scan as explained [here](https://github.com/mohan-chinnappan-n/cli-dx/blob/master/mdapi/pmd-codescan.md)
- [ ] I validated the test code coverage for correctness and any shortcuts to increase test code coverage **not** presented in the code
- [ ] I completed a checkOnly (-c) deployment and this code is deployable

</code></pre>
<h2 id="demo-9"><a class="header" href="#demo-9">Demo</a></h2>
<ul>
<li>Here we can see how a pull request goes thru this PR template
-<img src="deployments/img/pr-templates.web.gif" alt="Demo" /></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="git-diff"><a class="header" href="#git-diff">git diff</a></h1>
<ul>
<li>
<p>Takes two input data sets and outputs the changes between them. Runs a diff function on Git data sources. Displays the sections of the file that have changes</p>
</li>
<li>
<p>Our example:</p>
</li>
<li>
<p>HEAD^ (one before HEAD)</p>
</li>
</ul>
<pre><code>Hello World
Hello Earth
</code></pre>
<ul>
<li>HEAD :</li>
</ul>
<pre><code>Hello World
Hello Earth
Hello Mars
Hello Venus
</code></pre>
<table><thead><tr><th>Git diff output line</th><th>Comments</th></tr></thead><tbody>
<tr><td>git diff HEAD^..HEAD</td><td>Our command</td></tr>
<tr><td>diff --git a/greet.txt b/greet.txt</td><td>input sources of the diff</td></tr>
<tr><td>index cb896b5..712612f 100644</td><td>internal Git metadata</td></tr>
<tr><td>--- a/greet.txt</td><td>Markers for the changes</td></tr>
<tr><td>+++ b/greet.txt</td><td>Markers for the changes</td></tr>
<tr><td>@@ -1,2 +1,4 @@</td><td>Diff chunks: <strong>2</strong> lines have been extracted starting from line number <strong>1</strong>. Additionally, <strong>4</strong> lines have been added starting at line number <strong>1</strong>.</td></tr>
<tr><td>Hello World</td><td>Each changed line is prepended with a + or - symbol indicating which version of the diff input the changes come from.</td></tr>
<tr><td>Hello Earth</td><td></td></tr>
<tr><td>+Hello Mars</td><td></td></tr>
<tr><td>+Hello Venus</td><td></td></tr>
</tbody></table>
<h2 id="using-diff-to-compare-head-and-file"><a class="header" href="#using-diff-to-compare-head-and-file">Using diff to compare HEAD^ and file</a></h2>
<pre><code>git diff HEAD^ greet.txt
diff --git a/greet.txt b/greet.txt
index cb896b5..712612f 100644
--- a/greet.txt
+++ b/greet.txt
@@ -1,2 +1,4 @@
 Hello World
 Hello Earth
+Hello Mars
+Hello Venus

</code></pre>
<h2 id="compare-2-branches"><a class="header" href="#compare-2-branches">Compare 2 branches</a></h2>
<pre><code>git diff main..featureBranch
</code></pre>
<h2 id="compare-a-file-in-2-branches"><a class="header" href="#compare-a-file-in-2-branches">Compare a file in 2 branches</a></h2>
<pre><code>~/git-experiments [main] &gt;git branch feature
~/git-experiments [main] &gt;git checkout feature
Switched to branch 'feature'
~/git-experiments [feature] &gt;vi greet.txt 
~/git-experiments [feature] &gt;cat greet.txt 
Hello World
Hello Earth
Hello Mars
Hello Venus
Hello Farms
~/git-experiments [feature] &gt;git add -A
~/git-experiments [feature] &gt;git commit -m 'farms added'
[feature b3359ea] farms added
 1 file changed, 1 insertion(+)
~/git-experiments [feature] &gt;git diff main feature greet.txt 
diff --git a/greet.txt b/greet.txt
index 712612f..3cacf68 100644
--- a/greet.txt
+++ b/greet.txt
@@ -2,3 +2,4 @@ Hello World
 Hello Earth
 Hello Mars
 Hello Venus
+Hello Farms
</code></pre>
<h2 id="how-to-compare-a-file-in-2-branches"><a class="header" href="#how-to-compare-a-file-in-2-branches">How to compare a file in 2 branches</a></h2>
<pre><code>~/git-experiments [feature] &gt; git diff main greet.txt
diff --git a/greet.txt b/greet.txt
index 712612f..3cacf68 100644
--- a/greet.txt
+++ b/greet.txt
@@ -2,3 +2,4 @@ Hello World
 Hello Earth
 Hello Mars
 Hello Venus
+Hello Farms

</code></pre>
<h2 id="how-to-find-the-files-got-changed-between-2-git-commits"><a class="header" href="#how-to-find-the-files-got-changed-between-2-git-commits">How to find the files got changed between 2 git commits</a></h2>
<pre><code>~/git-experiments [feature] &gt;git diff --name-only HEAD..HEAD^
greet.txt
</code></pre>
<h2 id="how-find-deleted-files-between-2-commits"><a class="header" href="#how-find-deleted-files-between-2-commits">How find deleted files between 2 commits</a></h2>
<pre><code>git diff --diff-filter=D commit1..commit2


</code></pre>
<h2 id="more-on---diff-filter"><a class="header" href="#more-on---diff-filter">More on --diff-filter</a></h2>
<ul>
<li>
<p>The --diff-filter option is used with the git diff command to filter the differences that are displayed based on the type of change that has occurred. Here are some examples of how to use the --diff-filter option:</p>
</li>
<li>
<p>git diff --diff-filter=M: Shows only the files that have been modified between two commits.</p>
</li>
<li>
<p>git diff --diff-filter=A: Shows only the files that have been added between two commits.</p>
</li>
<li>
<p>git diff --diff-filter=D: Shows only the files that have been deleted between two commits.</p>
</li>
<li>
<p>git diff --diff-filter=R: Shows only the files that have been renamed between two commits.</p>
</li>
<li>
<p>git diff --diff-filter=C: Shows only the files that have been copied between two commits.</p>
</li>
<li>
<p>git diff --diff-filter=T: Shows only the files that have had their type (mode) changed between two commits.</p>
</li>
<li>
<p>git diff --diff-filter=B: Shows only the files that have had their binary content changed between two commits.</p>
</li>
<li>
<p>You can also combine the --diff-filter option with other options, such as --name-only or --name-status, to further refine the output of the git diff command.</p>
</li>
<li>
<p>For example, git diff --name-only --diff-filter=M would show only the names of the files that have been modified between two commits. Similarly, git diff --name-status --diff-filter=D would show the names of the files that have been deleted, along with a status indicator.</p>
</li>
</ul>
<pre><code>
--diff-filter values, combination of these :
A Added

-- list filename(s) which got added between 2 commits
    ~/git-experiments [feature] &gt;git diff --name-only --diff-filter=A  HEAD..HEAD^
    welcome.txt

C Copied
D Deleted
-- list files got deleted between 2 commits

M Modified
R Renamed
T have their type (mode) changed
U Unmerged
X Unknown
B have had their pairing Broken
* All-or-none
</code></pre>
<h2 id="compare-a-file-between-develop-and-main-branch"><a class="header" href="#compare-a-file-between-develop-and-main-branch">Compare a file between develop and main branch</a></h2>
<pre><code class="language-bash">
~/treeprj [patch1] &gt;git commit
=== Running PMD scan on /Users/mchinnappan/treeprj/force-app/main/default/classes/ ===...
Going to run: pmd-run.sh pmd -R  /Users/mchinnappan/.pmd/apex_ruleset.xml -d /Users/mchinnappan/treeprj/force-app/main/default/classes/  -f csv &gt; results.csv ...
Feb 26, 2023 1:17:01 PM net.sourceforge.pmd.PMD encourageToUseIncrementalAnalysis
WARNING: This analysis could be faster, please consider using Incremental Analysis: https://pmd.github.io/pmd-6.47.0/pmd_userdocs_incremental_analysis.html
SELECT COUNT(*) AS CNT   FROM CSV(&quot;results.csv&quot;, {headers:true}) WHERE Priority &lt; 3
=== Checking for PMD  violations ... ===
nerrors: 0
=== No PMD violations! ===
=== Continue the deployment...===
sfdx force:source:deploy -p /Users/mchinnappan/treeprj/force-app/main/default/classes/ -u test-uzsmfdqkhtk7@example.com -c --verbose
INPUT .git/COMMIT_EDITMSG
=== commit msg: WI-123456 fixing the doc format
 
=== Valid commit message!===
[patch1 dd63730] WI-123456 fixing the doc format
 1 file changed, 1 insertion(+), 1 deletion(-)
</code></pre>
<pre><code class="language-bash"># list all the branches including remotes

~/treeprj [master] &gt;git branch -a
* master
  patch1
  remotes/origin/master
</code></pre>
<pre><code class="language-bash">
# list the file content in both branches master and patch1
~/treeprj [master] &gt;git checkout patch1
Switched to branch 'patch1'
~/treeprj [patch1] &gt;cat docs/9.md 
# adding more docs
doc9  added

~/treeprj [master] &gt;cat docs/9.md 
# adding more docs
doc9  added
add more line item here

</code></pre>
<pre><code>
# compare what is in patch1 (a) with what is in the master (b)
git diff patch1 docs/9.md 
diff --git a/docs/9.md b/docs/9.md
index 1f8cc7c..89dd9f3 100644
--- a/docs/9.md
+++ b/docs/9.md
@@ -1,3 +1,4 @@
 # adding more docs
 doc9  added
+add more line item here




</code></pre>
<h2 id="python-to-do-the-diff-stuff"><a class="header" href="#python-to-do-the-diff-stuff">python to do the diff stuff</a></h2>
<pre><code class="language-py">import subprocess

# Replace these with the commit hashes or branch names you want to compare
old_commit = &quot;HEAD&quot;
new_commit = &quot;HEAD^&quot;

# Get a list of all files that were changed between the two commits
changed_files = subprocess.check_output(
    [&quot;git&quot;, &quot;diff&quot;, &quot;--name-only&quot;, old_commit, new_commit]
).decode(&quot;utf-8&quot;).splitlines()

# Get a list of all files that were deleted between the two commits
deleted_files = subprocess.check_output(
    [&quot;git&quot;, &quot;diff&quot;, &quot;--diff-filter=D&quot;, &quot;--name-only&quot;, old_commit, new_commit]
).decode(&quot;utf-8&quot;).splitlines()

# Print the results
print(&quot;Changed files:&quot;)
for filename in changed_files:
    print(filename)

print(&quot;\nDeleted files:&quot;)
for filename in deleted_files:
    print(filename)

</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="git-merge"><a class="header" href="#git-merge">git merge</a></h1>
<ul>
<li>The command used to integrate changes from one branch into another. Merging combines changes made in separate branches and creates a new commit that includes the changes from both branches.</li>
<li>Merging is a powerful feature of git that allows multiple developers to work on the same codebase simultaneously and combine their changes in a controlled and efficient way.</li>
</ul>
<h2 id="git-branch-merge-demo"><a class="header" href="#git-branch-merge-demo">Git Branch Merge Demo</a></h2>
<h3 id="create-git-repo"><a class="header" href="#create-git-repo">Create Git Repo</a></h3>
<ul>
<li><a href="https://raw.githubusercontent.com/mohan-chinnappan-n/shell-scripts/master/git/git-branch-merge.sh">script</a></li>
</ul>
<pre><code class="language-bash">merge_branches() {
  local branch1=&quot;$1&quot;
  local branch2=&quot;$2&quot;
  
  # Validate branch names
  if ! git rev-parse --quiet --verify &quot;$branch1&quot; &gt;/dev/null; then
    echo &quot;Error: Branch '$branch1' does not exist.&quot;
    return 1
  fi
  
  if ! git rev-parse --quiet --verify &quot;$branch2&quot; &gt;/dev/null; then
    echo &quot;Error: Branch '$branch2' does not exist.&quot;
    return 1
  fi
  
  # Checkout branch2
  git checkout &quot;$branch2&quot;
  
  # Merge branch1 into branch2
  git merge &quot;$branch1&quot;
  
  # Check if merge was successful
  if [ $? -eq 0 ]; then
    echo &quot;Merge completed successfully.&quot;
  else
    echo &quot;Error: Merge failed.&quot;
    return 1
  fi
}

merge_branches $1 $2

</code></pre>
<pre><code>~/proj1  &gt;git init
Initialized empty Git repository in /Users/mchinnappan/proj1/.git/
~/proj1  (git)-[main]- &gt;vi notes.md
~/proj1  (git)-[main]- &gt;git add -A
~/proj1  (git)-[main]- &gt;git commit -m init
[main (root-commit) d2fdd7b] init
 1 file changed, 2 insertions(+)
 create mode 100644 notes.md
~/proj1  (git)-[main]- &gt;git log
commit d2fdd7b25355531e93dca4fcc6c5457d6596f7f8 (HEAD -&gt; main)
Author: mohan chinnappan &lt;mohan.chinnappan.n@gmail.com&gt;
Date:   Tue May 16 09:29:44 2023 -0400

    init
</code></pre>
<h3 id="create-branch-dev"><a class="header" href="#create-branch-dev">Create branch dev</a></h3>
<pre><code>~/proj1  (git)-[main]- &gt;git branch dev

</code></pre>
<h3 id="list-the-branches"><a class="header" href="#list-the-branches">List the branches</a></h3>
<pre><code>~/proj1  (git)-[main]- &gt;git branch -a
  dev
* main
</code></pre>
<h3 id="edit-notesmd--in-main-branch"><a class="header" href="#edit-notesmd--in-main-branch">Edit notes.md  in main branch</a></h3>
<pre><code>~/proj1  (git)-[main]- &gt;vi notes.md
~/proj1  (git)-[main]- &gt;git add -A
~/proj1  (git)-[main]- &gt; cat notes.md
one
two

~/proj1  (git)-[main]- &gt;git commit -m update_on_notes
[main 61fb145] update_on_notes
 1 file changed, 1 insertion(+)
</code></pre>
<h3 id="checkout-dev"><a class="header" href="#checkout-dev">Checkout dev</a></h3>
<pre><code> ~/proj1  (git)-[main]- &gt;git checkout dev
Switched to branch 'dev'
~/proj1  (git)-[dev]- &gt;cat notes.md
one

</code></pre>
<h3 id="merge-from-main-to-dev"><a class="header" href="#merge-from-main-to-dev">merge from main to dev</a></h3>
<pre><code>~/proj1  (git)-[dev]- &gt;bash git-branch-merge.sh main dev
Already on 'dev'
Updating d2fdd7b..61fb145
Fast-forward
 notes.md | 1 +
 1 file changed, 1 insertion(+)
Merge completed successfully.
</code></pre>
<h3 id="check-merge"><a class="header" href="#check-merge">Check merge</a></h3>
<pre><code>~/proj1  (git)-[dev]- &gt;cat notes.md
one
two
</code></pre>
<hr />
<h2 id="how-to-list-the-merges-done-on-the-branch-by-an-author"><a class="header" href="#how-to-list-the-merges-done-on-the-branch-by-an-author">How to list the merges done on the branch by an author</a></h2>
<pre><code>git log --merges --author=&quot;Ken&quot;

</code></pre>
<h3 id="example---list-the-merges-done-by-the-author-mohan"><a class="header" href="#example---list-the-merges-done-by-the-author-mohan">Example - list the merges done by the author: mohan</a></h3>
<pre><code>git log --merges --author=&quot;mohan&quot;

commit e307a67fec2e3af51d9361ef17f5c2153cbaf83a
Merge: c5c7a82 e6881af
Author: mohan chinnappan &lt;mohan.chinnappan.n@gmail.com&gt;
Date:   Fri May 5 18:10:43 2023 -0400

    Merge branch 'feature-0002'

commit c5c7a82be50820c548353f731881ef562c2c3aa5
Merge: b7353b8 a78f1a5
Author: mohan chinnappan &lt;mohan.chinnappan.n@gmail.com&gt;
Date:   Fri May 5 18:06:14 2023 -0400

    Merge branch 'feature-0002'

commit 50fa27fed0f56d1de8588aadd42db00cf522b24c
Merge: 972c964 6aff16d
Author: mohan-chinnappan-n &lt;mohan.chinnappan.n@gmail.com&gt;
Date:   Fri Feb 3 08:09:16 2023 -0500

    merged with feature-0001
3

</code></pre>
<h2 id="steps-in-performing-merge"><a class="header" href="#steps-in-performing-merge">Steps in performing merge</a></h2>
<ol>
<li>git checkout <current-branch></li>
</ol>
<pre><code>~/git-demo  (git)-[feature-0002]- &gt;git checkout main
Switched to branch 'main'
</code></pre>
<ol start="2">
<li>git merge <source-branch-for-merge></li>
</ol>
<pre><code>
git merge feature-0002
</code></pre>
<pre><code>Auto-merging iris.csv
Merge made by the 'ort' strategy.
 iris.csv | 1 +
 1 file changed, 1 insertion(+)

</code></pre>
<pre><code>head iris.csv 
sepal_length,sepal_width,petal_length,petal_width,species
5.1,3.5,1.4,0.2,Iris-setosa
5.1,3.5,1.4,0.2,Iris-setosa
5.1,3.5,1.4,0.2,Iris-setosa
4.9,3,1.4,0.2,Iris-setosa
4.9,3,1.4,0.2,Iris-setosa
4.7,3.2,1.3,0.2,Iris-setosa
4.6,3.1,1.5,0.2,Iris-setosa
5,3.6,1.4,0.2,Iris-setosa
5.4,3.9,1.7,0.4,Iris-setosa
</code></pre>
<ul>
<li>This command merges the changes from <strong><source-branch-for-merge></strong> (<code>feature-0002</code>) into the <strong>current branch</strong> (<code>main</code>).</li>
<li>Before performing the merge, git checks whether there are any conflicts between the two branches. If there are conflicts, git will prompt you to resolve them manually.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="git-log"><a class="header" href="#git-log">git log</a></h1>
<h2 id="customizing-the-git-log"><a class="header" href="#customizing-the-git-log">Customizing the git log</a></h2>
<ul>
<li>Since: last year</li>
</ul>
<pre><code>/lwc-recipes  (git)-[main]- &gt;
</code></pre>
<pre><code>git logs-csv 'last year' 
</code></pre>
<pre><code>=== Getting logs for since:last year with the filter: ADM ===
===       50 /tmp/_gitlog_.csv lines.  Opening in the your web browser to view the logs ===

</code></pre>
<p><img src="deployments/img/git-log-1.png" alt="git-log" /></p>
<ul>
<li>Since: 2022-01-01</li>
</ul>
<pre><code>git logs-csv '2022-01-01'
</code></pre>
<pre><code>=== Getting logs for since:2023-01-01 with the filter: ADM ===
===       89 /tmp/_gitlog_.csv lines.  Opening in the your web browser to view the logs ===
</code></pre>
<h2 id="how-to-setup-this---extending-git-with-alias"><a class="header" href="#how-to-setup-this---extending-git-with-alias">How to setup this - extending git with alias</a></h2>
<ul>
<li>Get the script <a href="https://github.com/mohan-chinnappan-n/git-scripts/blob/main/git-logs-csv">git-logs-csv</a></li>
<li>Store it in your local folder say <code>~/git-scripts</code></li>
<li>Make it executable </li>
</ul>
<pre><code>chmod +x /path/to/git-logs-csv
</code></pre>
<ul>
<li>Configure it to run by git</li>
</ul>
<pre><code>git config --global alias.logs-csv '!/path/to/git-logs-csv'
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="git-stash"><a class="header" href="#git-stash">git stash</a></h1>
<ul>
<li>
<p>In git, a &quot;stash&quot; is a feature that allows you to <strong>temporarily save changes</strong> that are not yet ready to be committed to the repository.</p>
</li>
<li>
<p>Stashing is useful when you need to switch branches or work on a different feature, but you don't want to commit your changes yet.</p>
</li>
<li>
<p>When you stash changes in git, you create a &quot;stash&quot; object that contains all the changes you've made since your last commit.</p>
</li>
<li>
<p>You can then switch to a different branch or work on a different feature, and when you're ready to resume work on the original changes, you can apply the stash and restore your changes.</p>
</li>
</ul>
<p>Here's how to stash changes in git:</p>
<p>Make sure your working directory is clean (i.e., no changes are staged or committed).</p>
<pre><code>git pull
</code></pre>
<pre><code>remote: Enumerating objects: 20, done.
remote: Counting objects: 100% (20/20), done.
remote: Compressing objects: 100% (3/3), done.
remote: Total 20 (delta 16), reused 20 (delta 16), pack-reused 0
Unpacking objects: 100% (20/20), 2.94 KiB | 100.00 KiB/s, done.
From :xxxxx

error: Your local changes to the following files would be overwritten by merge:
....
Please commit your changes or stash them before you merge.
Aborting


</code></pre>
<p>Run the following command:</p>
<pre><code>git stash save &quot;message&quot;
</code></pre>
<pre><code>Saved working directory and index state On develop: stashed

</code></pre>
<p>This will create a new stash object with a message describing the changes you've stashed.</p>
<p>You can now switch to a different branch or work on a different feature.</p>
<p>When you're ready to restore your stashed changes, run the following command:</p>
<pre><code>git stash apply

</code></pre>
<pre><code>

error: Your local changes to the following files would be overwritten by merge:

...
Please commit your changes or stash them before you merge.


</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="git-config"><a class="header" href="#git-config">git config</a></h1>
<h2 id="table-of-contents-1"><a class="header" href="#table-of-contents-1">Table of contents</a></h2>
<ul>
<li><a href="deployments/./git-log.html">Customizing the git log</a></li>
<li><a href="deployments/git-config.html#git-pmd-scan">git pmd-scan</a></li>
<li><a href="deployments/git-config.html#git-cpd">git pmd-cpd</a></li>
</ul>
<p><a name='git-pmd-scan'></a></p>
<h2 id="git-pmd-scan"><a class="header" href="#git-pmd-scan">git pmd-scan</a></h2>
<ul>
<li>Running PMD Scan as git alias</li>
</ul>
<pre><code>git pmd-scan ~/lwc-recipes/force-app/main/default/classes  4
</code></pre>
<pre><code>  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100  9657  100  9657    0     0  80105      0 --:--:-- --:--:-- --:--:-- 84710
=== Running PMD scan on /Users/mchinnappan/lwc-recipes/force-app/main/default/classes === and THRESHOLD: 4 ...
Going to run: pmd-run.sh pmd -R  /Users/mchinnappan/.pmd/apex_ruleset.xml -d /Users/mchinnappan/lwc-recipes/force-app/main/default/classes  -f csv &gt; /tmp/results.csv ...
Mar 19, 2023 7:26:23 AM net.sourceforge.pmd.PMD encourageToUseIncrementalAnalysis
WARNING: This analysis could be faster, please consider using Incremental Analysis: https://pmd.github.io/pmd-6.47.0/pmd_userdocs_incremental_analysis.html
Mar 19, 2023 7:26:24 AM net.sourceforge.pmd.PMD runPmd
WARNING: Some deprecated options were used on the command-line, including -property
Mar 19, 2023 7:26:24 AM net.sourceforge.pmd.PMD runPmd
WARNING: Consider replacing it with --property
Mar 19, 2023 7:26:24 AM net.sourceforge.pmd.PMD encourageToUseIncrementalAnalysis
WARNING: This analysis could be faster, please consider using Incremental Analysis: https://pmd.github.io/pmd-6.47.0/pmd_userdocs_incremental_analysis.html
SELECT COUNT(*) AS CNT   FROM CSV(&quot;/tmp/results.csv&quot;, {headers:true}) WHERE Priority &lt; 4
=== Checking for PMD  violations ... ===
nerrors: 23
===       24 /tmp/results.csv lines.  Opening in the your web browser to view the logs ===
=== Number of P1,P2 and P3 issues are:  23. Can't continue! === 

</code></pre>
<p><img src="deployments/img/git-pmd-scan-1.png" alt="git-pmd-scan" /></p>
<h3 id="how-to-setup-git-pmd-scan---extending-git-with-alias"><a class="header" href="#how-to-setup-git-pmd-scan---extending-git-with-alias">How to setup git pmd-scan - extending git with alias</a></h3>
<ul>
<li>Get the script <a href="https://github.com/mohan-chinnappan-n/git-scripts/blob/main/git-pmd">git-pmd</a></li>
<li>Store it in your local folder say: <code>~/git-scripts</code></li>
<li>Make it executable </li>
</ul>
<pre><code>chmod +x /path/to/git-logs-csv
</code></pre>
<ul>
<li>Configure it to run by git</li>
</ul>
<pre><code> git config --global alias.pmd-scan '!/Users/mchinnappan/git-scripts/git-pmd'
</code></pre>
<p><a name='git-cpd'></a></p>
<h2 id="git-cpd-copy-and-paste-detector"><a class="header" href="#git-cpd-copy-and-paste-detector">git cpd (Copy and Paste Detector)</a></h2>
<ul>
<li>Get the script <a href="https://github.com/mohan-chinnappan-n/git-scripts/blob/main/git-cpd">git-cpd</a></li>
<li>Store it in your local folder say: <code>~/git-scripts</code></li>
<li>Make it executable </li>
</ul>
<pre><code>chmod +x /path/to/git-cpd
</code></pre>
<ul>
<li>Configure it to run by git</li>
</ul>
<pre><code>git config --global alias.pmd-cpd '!/Users/mchinnappan/git-scripts/git-cpd'

</code></pre>
<h3 id="running-it"><a class="header" href="#running-it">Running it</a></h3>
<pre><code>code1=~/lwc-recipes/force-app/main/default/classes
git pmd-cpd ${code1} 100 &gt; /tmp/cpd.xml

echo === xmlutil transform --xml=/tmp/cpdhtml-v2.xml --xsl=cpd --out=/tmp/cpd.html
xmlutil transform --xml=/tmp/cpd.xml --xsl=cpdhtml-v2 --out=/tmp/cpd.html
open /tmp/cpd.html
</code></pre>
<p><img src="https://github.com/mohan-chinnappan-n/xml-xslt/raw/main/img/cpdhtml-v2-1.png" alt="demo1" /></p>
<p><img src="https://github.com/mohan-chinnappan-n/xml-xslt/raw/main/img/cpdhtml-v2-2.png" alt="demo2" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="git-revert"><a class="header" href="#git-revert">git revert</a></h1>
<h2 id="reverting-a-git-commit"><a class="header" href="#reverting-a-git-commit">Reverting a git commit</a></h2>
<pre><code>git revert commitId

</code></pre>
<h3 id="log-before-revert"><a class="header" href="#log-before-revert">Log before revert</a></h3>
<p><img src="deployments/img/git-revert-1.png" alt="revert" /></p>
<pre><code>git revert 57f76d3

</code></pre>
<h2 id="log-after-the-revert-of-57f76d3"><a class="header" href="#log-after-the-revert-of-57f76d3">Log after the revert of 57f76d3</a></h2>
<p><img src="deployments/img/git-revert-revert-1.png" alt="revert after" /></p>
<h2 id="reverting-a-revert"><a class="header" href="#reverting-a-revert">Reverting a revert</a></h2>
<ul>
<li>To revert a revert in Git, we can use the <code>git revert</code> command again.</li>
</ul>
<pre><code>
git revert 48cd92d

</code></pre>
<h3 id="log-after-reverting-a-revert"><a class="header" href="#log-after-reverting-a-revert">Log after reverting a revert</a></h3>
<p><img src="deployments/img/git-revert-revert-1.png" alt="reverting revert after" /></p>
<h2 id="reverting-a-git-merge"><a class="header" href="#reverting-a-git-merge">Reverting a git merge</a></h2>
<pre><code>git branch feature-0002
</code></pre>
<pre><code>git checkout feature-0002
</code></pre>
<pre><code>Switched to branch 'feature-0002'
</code></pre>
<pre><code>~/git-demo  (git)-[feature-0002]- &gt;git add -A                                 
~/git-demo  (git)-[feature-0002]- &gt;git commit -m 'iris.csv added new record 4'
</code></pre>
<pre><code>git commit -m 'iris.csv added new record 4'
[feature-0002 a78f1a5] iris.csv added new record 4
 1 file changed, 1 insertion(+)

</code></pre>
<h3 id="finding-the-diff-in-a-file-in-2-branches"><a class="header" href="#finding-the-diff-in-a-file-in-2-branches">Finding the diff in a file in 2 branches</a></h3>
<pre><code>~/git-demo  (git)-[feature-0002]- &gt;git diff feature-0002 main iris.csv
</code></pre>
<pre><code>diff --git a/iris.csv b/iris.csv
index c51bae8..098e207 100644
--- a/iris.csv
+++ b/iris.csv
@@ -1,7 +1,7 @@
 sepal_length,sepal_width,petal_length,petal_width,species
 5.1,3.5,1.4,0.2,Iris-setosa
 5.1,3.5,1.4,0.2,Iris-setosa
-4.9,3,1.4,0.2,Iris-setosa
+5.1,3.5,1.4,0.2,Iris-setosa^M
 4.9,3,1.4,0.2,Iris-setosa
 4.7,3.2,1.3,0.2,Iris-setosa
 4.6,3.1,1.5,0.2,Iris-setosa

</code></pre>
<h3 id="git-merge-1"><a class="header" href="#git-merge-1">git merge</a></h3>
<ul>
<li>The command used to integrate changes from one branch into another. Merging combines changes made in separate branches and creates a new commit that includes the changes from both branches.</li>
<li>Merging is a powerful feature of git that allows multiple developers to work on the same codebase simultaneously and combine their changes in a controlled and efficient way. </li>
</ul>
<h4 id="steps-1"><a class="header" href="#steps-1">Steps</a></h4>
<ol>
<li>git checkout <current-branch></li>
</ol>
<pre><code>~/git-demo  (git)-[feature-0002]- &gt;git checkout main
Switched to branch 'main'
</code></pre>
<ol start="2">
<li>git merge <source-branch-for-merge></li>
</ol>
<pre><code>
git merge feature-0002
</code></pre>
<pre><code>Auto-merging iris.csv
Merge made by the 'ort' strategy.
 iris.csv | 1 +
 1 file changed, 1 insertion(+)

</code></pre>
<pre><code>head iris.csv 
sepal_length,sepal_width,petal_length,petal_width,species
5.1,3.5,1.4,0.2,Iris-setosa
5.1,3.5,1.4,0.2,Iris-setosa
5.1,3.5,1.4,0.2,Iris-setosa
4.9,3,1.4,0.2,Iris-setosa
4.9,3,1.4,0.2,Iris-setosa
4.7,3.2,1.3,0.2,Iris-setosa
4.6,3.1,1.5,0.2,Iris-setosa
5,3.6,1.4,0.2,Iris-setosa
5.4,3.9,1.7,0.4,Iris-setosa
</code></pre>
<ul>
<li>This command merges the changes from <strong><source-branch-for-merge></strong> into the <strong>current branch</strong>. Before performing the merge, git checks whether there are any conflicts between the two branches. If there are conflicts, git will prompt you to resolve them manually.</li>
</ul>
<h2 id="reverting-a-branch-merge"><a class="header" href="#reverting-a-branch-merge">Reverting a Branch merge</a></h2>
<pre><code>git revert &lt;merge-commit-hash&gt; -m &lt;greaterThan 0&gt; 

</code></pre>
<hr />
<ul>
<li>
<p>The <code>-m 1</code> option specifies that you want to revert to the <strong>first parent of the merge commit</strong>, which is typically the <strong>branch you were on before the merge</strong>. </p>
</li>
<li>
<p>If the merge <strong>had conflicts</strong> and you had to manually resolve them, you may need to specify <code>-m 2</code> instead.</p>
</li>
</ul>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="git-deleting-branch"><a class="header" href="#git-deleting-branch">git deleting branch</a></h1>
<h2 id="list-branches"><a class="header" href="#list-branches">List branches</a></h2>
<pre><code>
git branch -a

</code></pre>
<pre><code>  feature
  feature-0001
* main

</code></pre>
<h2 id="delete-the-branch-feature-0001-which-is-not-fully-merged"><a class="header" href="#delete-the-branch-feature-0001-which-is-not-fully-merged">Delete the branch feature-0001 which is not fully merged</a></h2>
<ul>
<li>If the branch has not been fully merged, git will display an error message and prevent the branch from being deleted.</li>
</ul>
<pre><code>git branch -d  feature-0001

</code></pre>
<pre><code>
error: The branch 'feature-0001' is not fully merged.
If you are sure you want to delete it, run 'git branch -D feature-0001'.

</code></pre>
<ul>
<li>Following  command forces git to delete the branch, regardless of whether it has been fully merged or not.</li>
</ul>
<pre><code>git branch -D feature-0001

</code></pre>
<pre><code>Deleted branch feature-0001 (was d99c263).
</code></pre>
<h2 id="delete-the-branch-feature-which-is-fully-merged"><a class="header" href="#delete-the-branch-feature-which-is-fully-merged">Delete the branch feature which is fully merged</a></h2>
<pre><code>git branch -d feature    
</code></pre>
<pre><code>Deleted branch feature (was a97f348).
</code></pre>
<h3 id="list-the-branches-after-the-deletions"><a class="header" href="#list-the-branches-after-the-deletions">List the branches after the deletions</a></h3>
<pre><code>git branch -a       
</code></pre>
<pre><code>* main

</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="apps-from-app-exchange"><a class="header" href="#apps-from-app-exchange">Apps from App Exchange</a></h1>
<h2 id="using-cli-to-install-app-exchange-apps"><a class="header" href="#using-cli-to-install-app-exchange-apps">Using CLI to install App Exchange Apps</a></h2>
<h2 id="silent-no-prompt-mode"><a class="header" href="#silent-no-prompt-mode">Silent (no-prompt mode)</a></h2>
<pre><code>
sfdx force:package:install --wait 10 --publishwait 10 --package &lt;packageId&gt; --noprompt -u &lt;username@email.com&gt;

</code></pre>
<h2 id="with-prompt-mode"><a class="header" href="#with-prompt-mode">With Prompt mode</a></h2>
<pre><code>
sfdx force:package:install --wait 10 --publishwait 10 --package &lt;packageId&gt;  -u &lt;username@email.com&gt;

</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="source-tracking"><a class="header" href="#source-tracking">Source Tracking</a></h1>
<ul>
<li>
<p>Used for Tracking Changes Between Your Project and Org</p>
</li>
<li>
<p>Source Tracking can be <a href="https://developer.salesforce.com/docs/atlas.en-us.sfdx_dev.meta/sfdx_dev/sfdx_setup_enable_source_tracking_sandboxes.htm">enabled</a> for Developer Sandbox and Developer Pro Sandboxes</p>
</li>
<li>
<p>It is enabled in Scratch orgs</p>
</li>
</ul>
<h2 id="content-for-your-sfdx-folder-in-your-dx-project"><a class="header" href="#content-for-your-sfdx-folder-in-your-dx-project">Content for your .sfdx folder in your DX Project</a></h2>
<ul>
<li>You can <a href="https://mohan-chinnappan-n.github.io/sfdc/dx.html#/37">create a DX project</a> by</li>
</ul>
<pre><code>sfdx force:project:create -n treePrj

</code></pre>
<ul>
<li>The files in the .sfdx folder as they are necessary for the internal workings of the Salesforce CLI </li>
</ul>
<pre><code>~/treeprj [master] &gt;tree .sfdx
.sfdx
├── indexes
│   └── lwc
│       └── custom-components.json
├── orgs
│   └── mohan.chinnappan.n_ea2@gmail.com
│       └── sourcePathInfos.json &lt;---- This information is used to make sure conflicts between files in an org and your project folder can be properly detected.


├── tools
│   ├── sobjects
│   │   └── standardObjects
│   │       ├── Account.cls
│   │       ├── Attachment.cls
│   │       ├── Case.cls
│   │       ├── Contact.cls
│   │       ├── Contract.cls
│   │       ├── Lead.cls
│   │       ├── Note.cls
│   │       ├── Opportunity.cls
│   │       ├── Order.cls
│   │       ├── Pricebook2.cls
│   │       ├── PricebookEntry.cls
│   │       ├── Product2.cls
│   │       ├── RecordType.cls
│   │       ├── Report.cls
│   │       ├── Task.cls
│   │       └── User.cls
│   ├── soqlMetadata
│   │   ├── customObjects
│   │   ├── standardObjects
│   │   │   ├── Account.json
│   │   │   ├── Attachment.json
│   │   │   ├── Case.json
│   │   │   ├── Contact.json
│   │   │   ├── Contract.json
│   │   │   ├── Lead.json
│   │   │   ├── Note.json
│   │   │   ├── Opportunity.json
│   │   │   ├── Order.json
│   │   │   ├── Pricebook2.json
│   │   │   ├── PricebookEntry.json
│   │   │   ├── Product2.json
│   │   │   ├── RecordType.json
│   │   │   ├── Report.json
│   │   │   ├── Task.json
│   │   │   └── User.json
│   │   └── typeNames.json
│   └── testresults
│       └── apex
└── typings
    └── lwc
        ├── apex.d.ts
        ├── engine.d.ts
        ├── lds.d.ts
        ├── messageservice.d.ts
        ├── schema.d.ts
        ├── sobjects
        │   ├── Account.d.ts
        │   ├── Attachment.d.ts
        │   ├── Case.d.ts
        │   ├── Contact.d.ts
        │   ├── Contract.d.ts
        │   ├── Lead.d.ts
        │   ├── Note.d.ts
        │   ├── Opportunity.d.ts
        │   ├── Order.d.ts
        │   ├── Pricebook2.d.ts
        │   ├── PricebookEntry.d.ts
        │   ├── Product2.d.ts
        │   ├── RecordType.d.ts
        │   ├── Report.d.ts
        │   ├── Task.d.ts
        │   └── User.d.ts
        └── user.d.ts

15 directories, 57 files
</code></pre>
<h2 id="what-is-under-orgs-folder"><a class="header" href="#what-is-under-orgs-folder">What is under orgs folder?</a></h2>
<pre><code>───────┬───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
       │ File: .sfdx/orgs/mohan.chinnappan.n_ea2@gmail.com/sourcePathInfos.json
───────┼───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
   1   │ {
   2   │     &quot;/Users/mchinnappan/treeprj/force-app&quot;: {
   3   │         &quot;sourcePath&quot;: &quot;/Users/mchinnappan/treeprj/force-app&quot;,
   4   │         &quot;deferContentHash&quot;: false,
   5   │         &quot;isWorkspace&quot;: false,
   6   │         &quot;isArtifactRoot&quot;: true,
   7   │         &quot;state&quot;: &quot;n&quot;,
   8   │         &quot;package&quot;: &quot;force-app&quot;,
   9   │         &quot;isDirectory&quot;: true,
  10   │         &quot;isMetadataFile&quot;: false,
  11   │         &quot;size&quot;: 128,
  12   │         &quot;modifiedTime&quot;: 1673263339703,
  13   │         &quot;changeTime&quot;: 1673263339703,
  14   │         &quot;contentHash&quot;: &quot;51d86f3b64a3d9a0048d192f02147b0e9e9594e4&quot;
  15   │     },
  16   │     &quot;/Users/mchinnappan/treeprj/force-app/main&quot;: {
  17   │         &quot;sourcePath&quot;: &quot;/Users/mchinnappan/treeprj/force-app/main&quot;,
  18   │         &quot;deferContentHash&quot;: false,
  19   │         &quot;isWorkspace&quot;: false,
  20   │         &quot;isArtifactRoot&quot;: false,
  21   │         &quot;state&quot;: &quot;n&quot;,
  22   │         &quot;package&quot;: &quot;force-app&quot;,
  23   │         &quot;isDirectory&quot;: true,
  24   │         &quot;isMetadataFile&quot;: false,
  25   │         &quot;size&quot;: 128,
  26   │         &quot;modifiedTime&quot;: 1673263339699,
  27   │         &quot;changeTime&quot;: 1673263339699,
  28   │         &quot;contentHash&quot;: &quot;ae41ed56706e4439a34cda97ac997d7988935c2f&quot;
  29   │     },
  30   │     &quot;/Users/mchinnappan/treeprj/force-app/main/default&quot;: {
  31   │         &quot;sourcePath&quot;: &quot;/Users/mchinnappan/treeprj/force-app/main/default&quot;,
:
</code></pre>
<h2 id="querying-sourcemember-object"><a class="header" href="#querying-sourcemember-object">Querying SourceMember Object</a></h2>
<ul>
<li>SourceMember object is used to log  any changes to the org metadata and settings.</li>
</ul>
<h3 id="no-entries"><a class="header" href="#no-entries">No entries</a></h3>
<pre><code>
sfdx force:data:soql:query --query &quot;SELECT ChangedBy, IsNameObsolete, MemberName, MemberType, RevisionCounter FROM SourceMember&quot; --usetoolingapi -u  test-uzsmfdqkhtk7@example.com    
 
 
Total number of records retrieved: 0.
Querying Data... done

</code></pre>
<h3 id="let-us-deploy-classes-to-get-the-entries"><a class="header" href="#let-us-deploy-classes-to-get-the-entries">Let us deploy classes to get the entries</a></h3>
<pre><code>~/treeprj [master] &gt;sfdx force:source:deploy -u test-uzsmfdqkhtk7@example.com -p force-app/main/default/classes 
Deploying v55.0 metadata to test-uzsmfdqkhtk7@example.com using the v56.0 SOAP API
Deploy ID: 0AfDM000016M4060AC
DEPLOY PROGRESS | ████████████████████████████████████████ | 1/1 Components

=== Deployed Source

 FULL NAME  TYPE      PROJECT PATH                                           
 ────────── ───────── ────────────────────────────────────────────────────── 
 HelloPeach ApexClass force-app/main/default/classes/HelloPeach.cls          
 HelloPeach ApexClass force-app/main/default/classes/HelloPeach.cls-meta.xml 
Deploy Succeeded.

</code></pre>
<pre><code>~/treeprj [master] &gt;sfdx force:data:soql:query --query &quot;SELECT ChangedBy, IsNameObsolete, MemberName, MemberType, RevisionCounter FROM SourceMember&quot; --usetoolingapi -u  test-uzsmfdqkhtk7@example.com
 CHANGEDBY       ISNAMEOBSOLETE MEMBERNAME MEMBERTYPE REVISIONCOUNTER 
 ─────────────── ────────────── ────────── ────────── ─────────────── 
 005DM00000682Jy                Admin      Profile    2               
 005DM00000682Jy                HelloPeach ApexClass  3               
Total number of records retrieved: 2.
Querying Data... done
</code></pre>
<h2 id="listing-local-and-remote-changes"><a class="header" href="#listing-local-and-remote-changes">Listing local and remote changes</a></h2>
<h3 id="local-changes"><a class="header" href="#local-changes">Local changes</a></h3>
<pre><code>sfdx force:source:status -u test-uzsmfdqkhtk7@example.com  -l
Source Status
 STATE     FULL NAME                           TYPE          PROJECT PATH                                                                                       
 ───────── ─────────────────────────────────── ───────────── ────────────────────────────────────────────────────────────────────────────────────────────────── 
 Local Add HelloPeach                          ApexClass     force-app/main/default/classes/HelloPeach.cls                                                      
 Local Add HelloPeach                          ApexClass     force-app/main/default/classes/HelloPeach.cls-meta.xml                                             
 Local Add Tree__c.quantity__c                 CustomField   force-app/main/default/objects/Tree__c/fields/quantity__c.field-meta.xml                           
 Local Add Account_Plan__c                     CustomObject  force-app/main/default/objects/Account_Plan__c/Account_Plan__c.object-meta.xml                     
 Local Add Sales_Play__c                       CustomObject  force-app/main/default/objects/Sales_Play__c/Sales_Play__c.object-meta.xml                         
 Local Add Tree__c                             CustomObject  force-app/main/default/objects/Tree__c/Tree__c.object-meta.xml                                     
 Local Add Experience_Profile_Manager          PermissionSet force-app/main/default/permissionsets/Experience_Profile_Manager.permissionset-meta.xml            
 Local Add Manage_Encryption_Keys              PermissionSet force-app/main/default/permissionsets/Manage_Encryption_Keys.permissionset-meta.xml                
 Local Add sf_devops_InitializeEnvironments    PermissionSet force-app/main/default/permissionsets/sf_devops_InitializeEnvironments.permissionset-meta.xml      
 Local Add sf_devops_InitializeEnvironments    PermissionSet force-app/main/default/permissionsets/sf_devops_InitializeEnvironments.permissionset-meta.xml.html 
 Local Add sf_devops_NamedCredentials          PermissionSet force-app/main/default/permissionsets/sf_devops_NamedCredentials.permissionset-meta.xml            
 Local Add Admin                               Profile       force-app/main/default/profiles/Admin.profile-meta.xml                                             
 Local Add Admin                               Profile       force-app/main/default/profiles/Admin.profile-meta.xml.html                                        
 Local Add Admin                               Profile       force-app/main/default/profiles/Admin.profile-meta.xml.json                                        
 Local Add Analytics Cloud Integration User    Profile       force-app/main/default/profiles/Analytics Cloud Integration User.profile-meta.xml                  
 Local Add Analytics Cloud Security User       Profile       force-app/main/default/profiles/Analytics Cloud Security User.profile-meta.xml                     
 Local Add Authenticated Website               Profile       force-app/main/default/profiles/Authenticated Website.profile-meta.xml                             
 Local Add Chatter External User               Profile       force-app/main/default/profiles/Chatter External User.profile-meta.xml                             
 Local Add Chatter Free User                   Profile       force-app/main/default/profiles/Chatter Free User.profile-meta.xml                                 
 Local Add Chatter Moderator User              Profile       force-app/main/default/profiles/Chatter Moderator User.profile-meta.xml                            
 Local Add ContractManager                     Profile       force-app/main/default/profiles/ContractManager.profile-meta.xml                                   
 Local Add Cross Org Data Proxy User           Profile       force-app/main/default/profiles/Cross Org Data Proxy User.profile-meta.xml                         
 Local Add Custom%3A Marketing Profile         Profile       force-app/main/default/profiles/Custom%3A Marketing Profile.profile-meta.xml                       
 Local Add Custom%3A Sales Profile             Profile       force-app/main/default/profiles/Custom%3A Sales Profile.profile-meta.xml                           
 Local Add Custom%3A Support Profile           Profile       force-app/main/default/profiles/Custom%3A Support Profile.profile-meta.xml                         
 Local Add Customer Community Login User       Profile       force-app/main/default/profiles/Customer Community Login User.profile-meta.xml                     
 Local Add Customer Community Plus Login User  Profile       force-app/main/default/profiles/Customer Community Plus Login User.profile-meta.xml                
 Local Add Customer Community Plus User        Profile       force-app/main/default/profiles/Customer Community Plus User.profile-meta.xml                      
 Local Add Customer Community User             Profile       force-app/main/default/profiles/Customer Community User.profile-meta.xml                           
 Local Add Customer Portal Manager Custom      Profile       force-app/main/default/profiles/Customer Portal Manager Custom.profile-meta.xml                    
 Local Add Customer Portal Manager Standard    Profile       force-app/main/default/profiles/Customer Portal Manager Standard.profile-meta.xml                  
 Local Add External Apps Login User            Profile       force-app/main/default/profiles/External Apps Login User.profile-meta.xml                          
 Local Add External Identity User              Profile       force-app/main/default/profiles/External Identity User.profile-meta.xml                            
 Local Add Force%2Ecom - App Subscription User Profile       force-app/main/default/profiles/Force%2Ecom - App Subscription User.profile-meta.xml               
 Local Add Force%2Ecom - Free User             Profile       force-app/main/default/profiles/Force%2Ecom - Free User.profile-meta.xml                           
 Local Add Gold Partner User                   Profile       force-app/main/default/profiles/Gold Partner User.profile-meta.xml                                 
 Local Add Guest License User                  Profile       force-app/main/default/profiles/Guest License User.profile-meta.xml                                
 Local Add High Volume Customer Portal User    Profile       force-app/main/default/profiles/High Volume Customer Portal User.profile-meta.xml                  
 Local Add HighVolumePortal                    Profile       force-app/main/default/profiles/HighVolumePortal.profile-meta.xml                                  
 Local Add Identity User                       Profile       force-app/main/default/profiles/Identity User.profile-meta.xml                                     
 Local Add MarketingProfile                    Profile       force-app/main/default/profiles/MarketingProfile.profile-meta.xml                                  
 Local Add Minimum Access - Salesforce         Profile       force-app/main/default/profiles/Minimum Access - Salesforce.profile-meta.xml                       
 Local Add mohanc Profile                      Profile       force-app/main/default/profiles/mohanc Profile.profile-meta.xml                                    
 Local Add Partner App Subscription User       Profile       force-app/main/default/profiles/Partner App Subscription User.profile-meta.xml                     
 Local Add Partner Community Login User        Profile       force-app/main/default/profiles/Partner Community Login User.profile-meta.xml                      
 Local Add Partner Community User              Profile       force-app/main/default/profiles/Partner Community User.profile-meta.xml                            
 Local Add PlatformPortal                      Profile       force-app/main/default/profiles/PlatformPortal.profile-meta.xml                                    
 Local Add Read Only                           Profile       force-app/main/default/profiles/Read Only.profile-meta.xml                                         
 Local Add Silver Partner User                 Profile       force-app/main/default/profiles/Silver Partner User.profile-meta.xml                               
 Local Add SolutionManager                     Profile       force-app/main/default/profiles/SolutionManager.profile-meta.xml                                   
 Local Add Standard                            Profile       force-app/main/default/profiles/Standard.profile-meta.xml                                          
 Local Add StandardAul                         Profile       force-app/main/default/profiles/StandardAul.profile-meta.xml                                       
 Local Add Work%2Ecom Only User                Profile       force-app/main/default/profiles/Work%2Ecom Only User.profile-meta.xml                              

</code></pre>
<h3 id="remote-changes"><a class="header" href="#remote-changes">Remote changes</a></h3>
<pre><code>sfdx force:source:status -u test-uzsmfdqkhtk7@example.com  -r
Source Status
 STATE          FULL NAME  TYPE      PROJECT PATH                                                
 ────────────── ────────── ───────── ─────────────────────────────────────────────────────────── 
 Remote Changed HelloPeach ApexClass force-app/main/default/classes/HelloPeach.cls-meta.xml      
 Remote Changed HelloPeach ApexClass force-app/main/default/classes/HelloPeach.cls               
 Remote Changed Admin      Profile   force-app/main/default/profiles/Admin.profile-meta.xml.json 
</code></pre>
<h2 id="how-forcesourcepush--works"><a class="header" href="#how-forcesourcepush--works">How force:source:push  works</a></h2>
<p><img src="deployments/img/sorcepush-flow.png" alt="source:push" /></p>
<ul>
<li>The CLI collects files that have changed in the project workspace since the last sync.</li>
<li>The CLI queries SourceMember object records greater than max revision counter stored in maxrevision.json file.</li>
<li>The CLI marks files as conflicts if a SourceMember object record is found for them.</li>
<li>If conflicts are detected, the CLI informs the developer about these conflicts. The developer needs to resolve them and force push using the force flag.</li>
<li>If no conflicts are detected, the CLI converts source to Metadata API format with package.xml and generate a zip artifact.</li>
<li>The CLI deploys changes to the Salesforce org using the Metadata API.</li>
<li>The CLI updates state and file contentHash in sourcePathInfos.json and maxrevision.json.</li>
</ul>
<h2 id="viewing-sfdxlog"><a class="header" href="#viewing-sfdxlog">Viewing sfdx.log</a></h2>
<pre><code># macOS
open -a TextEdit $HOME/.sfdx/sfdx.log

</code></pre>
<h2 id="resources-3"><a class="header" href="#resources-3">Resources</a></h2>
<ul>
<li><a href="https://developer.salesforce.com/blogs/2020/04/a-deep-dive-into-source-tracked-projects">A Deep Dive Into Source Tracked Projects</a></li>
<li><a href="https://developer.salesforce.com/docs/atlas.en-us.sfdx_dev.meta/sfdx_dev/sfdx_dev_source_file_format.htm">Source format</a></li>
<li><a href="https://github.com/forcedotcom/salesforce-alm/blob/master/src/lib/source/sourcePushApi.ts">SourcePushApi.ts</a></li>
<li><a href="https://github.com/forcedotcom/salesforce-alm">salesforce-alm</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="dangling-fields"><a class="header" href="#dangling-fields">Dangling Fields</a></h1>
<p><img src="deployments/../img/cover/swiss-Val_Trupchun.jpg" alt="Swiss-1" /></p>
<h2 id="topics-15"><a class="header" href="#topics-15">Topics</a></h2>
<ul>
<li><a href="deployments/dangling.html#df">Dangling Fields Finder</a></li>
<li><a href="deployments/dangling.html#slc">How Salesforce Manages profile items life cycle</a></li>
</ul>
<hr />
<p><a name='df'></a></p>
<ul>
<li>
<p>Dangling fields are ones which are present assets like Profile but they not in the source asset like Objects.
For example <code>Account.carbonFootprint__c</code> may be in Profiles/PermissionSets but the Account Object will not have this field <code>carbonFootprint__c</code></p>
</li>
<li>
<p>Having Dangling fields in assets like Profiles makes the deployment task hard, so clean them as soon as possible.</p>
</li>
<li>
<p>I coined this <strong>Dangling fields</strong> with comparison to dangling pointers in memory model of the languages like C, C++. I am open to your feedback on this naming...</p>
</li>
</ul>
<h2 id="finding-dangling-fields-using-cli"><a class="header" href="#finding-dangling-fields-using-cli">Finding Dangling fields using CLI</a></h2>
<h3 id="list-the-profile-files-in-json-format"><a class="header" href="#list-the-profile-files-in-json-format">list the profile files in json format</a></h3>
<pre><code>sfdx mohanc:mdapi:listFiles -p src -t permissionsets --help 
List Dangling Fields

USAGE
  $ sfdx mohanc mdapi listFiles [-p &lt;string&gt;] [-t &lt;string&gt;] [--json] [--loglevel trace|debug|info|warn|error|fatal|TRACE|DEBUG|INFO|WARN|ERROR|FATAL]

FLAGS
  -p, --projectpath=&lt;value&gt;                                                         Project location (say src)
  -t, --type=&lt;value&gt;                                                                Metadata type (e.g profiles)
  --json                                                                            format output as json
  --loglevel=(trace|debug|info|warn|error|fatal|TRACE|DEBUG|INFO|WARN|ERROR|FATAL)  [default: warn] logging level for this command invocation

DESCRIPTION
  List Dangling Fields

EXAMPLES
             List the files of given metadata type 
           
             sfdx mohanc:mdapi:listFiles  -p &lt;projectPath&gt;  -t &lt;metadataType&gt;
             Example:
             sfdx mohanc:mdapi:listFiles  -p src -t &lt;profiles | permissionsets &gt;
</code></pre>
<pre><code>sfdx mohanc:mdapi:listFiles -p /path/to/src/folder -t profiles &gt; /tmp/profiles.json
</code></pre>
<h3 id="find-the-dangling-fields-for-those-profiles-or-permissionsets"><a class="header" href="#find-the-dangling-fields-for-those-profiles-or-permissionsets">find the dangling fields for those profiles or permissionsets</a></h3>
<pre><code>sfdx mohanc:mdapi:df -i /tmp/permissionsets.json -m PermissionSet --help           
List Dangling Fields

USAGE
  $ sfdx mohanc mdapi df -i &lt;string&gt; -m &lt;string&gt; [--json] [--loglevel trace|debug|info|warn|error|fatal|TRACE|DEBUG|INFO|WARN|ERROR|FATAL]

FLAGS
  -i, --xmls=&lt;value&gt;                                                                (required) JSON file with profile xml files
  -m, --type=&lt;value&gt;                                                                (required) [default: Profile] Profile or PermissionSet
  --json                                                                            format output as json
  --loglevel=(trace|debug|info|warn|error|fatal|TRACE|DEBUG|INFO|WARN|ERROR|FATAL)  [default: warn] logging level for this command invocation

DESCRIPTION
  List Dangling Fields

EXAMPLES
             List the dangling files when comparing with fields
             sfdx mohanc:mdapi:df   -i &lt;XMLfiles.json&gt;  -m &lt;Profile | PermissionSet&gt;
      

</code></pre>
<pre><code>sfdx mohanc:mdapi:df -i /tmp/profiles.json &gt; dangling_fields_2.tsv
</code></pre>
<h3 id="opens-in-numbers-or-excel"><a class="header" href="#opens-in-numbers-or-excel">opens in numbers or Excel</a></h3>
<pre><code>open dangling_fields_2.tsv
</code></pre>
<h3 id="cleanup"><a class="header" href="#cleanup">cleanup</a></h3>
<pre><code>cd /path/to/src/profiles/folder
rm *.json
cd /path/to/src/permissionsets/folder
rm *.json

</code></pre>
<p><a name='slc'></a></p>
<h2 id="how-salesforce-manages-profile-items-life-cycle"><a class="header" href="#how-salesforce-manages-profile-items-life-cycle">How Salesforce Manages profile items life cycle</a></h2>
<ul>
<li>Let us explain this creating an Apex Class <code>HelloMars</code> 
<ul>
<li>set the Security for that class</li>
<li>verify the profile to have the entry for this classAccess</li>
<li>delete the class in <strong>UI</strong></li>
<li>verify the profile that Salesforce has removed this classAccess entry in the profile</li>
</ul>
</li>
</ul>
<h3 id="create-the-class-hellomars"><a class="header" href="#create-the-class-hellomars">Create the class <code>HelloMars</code></a></h3>
<pre><code>~/treeprj [patch1] &gt;sfdx force:apex:class:create -n HelloMars -d force-app/main/default/classes 
target dir = /Users/mchinnappan/treeprj/force-app/main/default/classes
   create force-app/main/default/classes/HelloMars.cls
   create force-app/main/default/classes/HelloMars.cls-meta.xml

~/treeprj [patch1] &gt;tree force-app/main/default/classes    
force-app/main/default/classes
├── HelloMars.cls
├── HelloMars.cls-meta.xml
├── HelloPeach.cls
└── HelloPeach.cls-meta.xml

0 directories, 4 files
~/treeprj [patch1] &gt;sfdx force:source:deploy -u mohan.chinnappan.n.sel@gmail.com -p force-app/main/default/classes 
Deploying v55.0 metadata to mohan.chinnappan.n.sel@gmail.com using the v57.0 SOAP API
Deploy ID: 0Af4x00000YS5i5CAD
DEPLOY PROGRESS | ████████████████████████████████████████ | 2/2 Components

=== Deployed Source

 FULL NAME  TYPE      PROJECT PATH                                           
 ────────── ───────── ────────────────────────────────────────────────────── 
 HelloMars  ApexClass force-app/main/default/classes/HelloMars.cls           
 HelloMars  ApexClass force-app/main/default/classes/HelloMars.cls-meta.xml  
 HelloPeach ApexClass force-app/main/default/classes/HelloPeach.cls          
 HelloPeach ApexClass force-app/main/default/classes/HelloPeach.cls-meta.xml 
Deploy Succeeded.
~/treeprj [patch1] &gt;bat force-app/main/default/classes/HelloMars.cls
───────┬────────────────────────────────────────────────────────────────────────────────────────────────────────────
       │ File: force-app/main/default/classes/HelloMars.cls
───────┼────────────────────────────────────────────────────────────────────────────────────────────────────────────
   1   │ public with sharing class HelloMars {
   2   │     public HelloMars() {
   3   │ 
   4   │     }
   5   │ }
───────┴────────────────────────────────────────────────────────────────────────────────────────────────────────────
~/treeprj [patch1] &gt;
</code></pre>
<p><img src="deployments/img/dangling/adding-class-RO.webm.gif" alt="adding class RO" />
<img src="deployments/img/dangling/onnu-retrieve-after-class-creation.webm.gif" alt="onnu" /></p>
<p><img src="deployments/img/dangling/helloMars-inProfile.png" alt="profile after security setting" /></p>
<ul>
<li>After deleting the Class in the <strong>UI</strong>
<img src="deployments/img/dangling/helloMars-remvoedinPofile.png" alt="profile after removing the class" /></li>
</ul>
<h2 id="let-us-repeat-the-above-exercise-this-time-will-we-will-use-cli-to-delete-the-class"><a class="header" href="#let-us-repeat-the-above-exercise-this-time-will-we-will-use-cli-to-delete-the-class">Let us repeat the above exercise, this time will we will use CLI to delete the class</a></h2>
<pre><code>~/treeprj [patch1] &gt;sfdx force:apex:class:create -n HelloEarth -d force-app/main/default/classes              
target dir = /Users/mchinnappan/treeprj/force-app/main/default/classes
   create force-app/main/default/classes/HelloEarth.cls
   create force-app/main/default/classes/HelloEarth.cls-meta.xml

~/treeprj [patch1] &gt;sfdx force:source:deploy -u mohan.chinnappan.n.sel@gmail.com -p force-app/main/default/classes/HelloEarth.cls
Deploying v55.0 metadata to mohan.chinnappan.n.sel@gmail.com using the v57.0 SOAP API
Deploy ID: 0Af4x00000YS5u1CAD
DEPLOY PROGRESS | ████████████████████████████████████████ | 1/1 Components

=== Deployed Source

 FULL NAME  TYPE      PROJECT PATH                                           
 ────────── ───────── ────────────────────────────────────────────────────── 
 HelloEarth ApexClass force-app/main/default/classes/HelloEarth.cls          
 HelloEarth ApexClass force-app/main/default/classes/HelloEarth.cls-meta.xml 
Deploy Succeeded.
</code></pre>
<ul>
<li>
<p><img src="deployments/img/dangling/HelloEarthUI.png" alt="HelloEarth in UI" /></p>
</li>
<li>
<p>Prepare destructiveChanges </p>
</li>
</ul>
<pre><code> 
~/treeprj [patch1] &gt;cd destructiveChanges 
~/treeprj/destructiveChanges [patch1] &gt;ls
destructiveChanges.xml	package.xml
~/treeprj/destructiveChanges [patch1] &gt;vi destructiveChanges.xml 
~/treeprj/destructiveChanges [patch1] &gt;bat destructiveChanges.xml 
───────┬────────────────────────────────────────────────────────────────────────────────────────────────────────────
       │ File: destructiveChanges.xml
───────┼────────────────────────────────────────────────────────────────────────────────────────────────────────────
   1   │ &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
   2   │ &lt;Package xmlns=&quot;http://soap.sforce.com/2006/04/metadata&quot;&gt;
   3   │     &lt;version&gt;55.0&lt;/version&gt;
   4 ~ │ 
   5 ~ │  &lt;types&gt;
   6 ~ │             &lt;members&gt;HelloEarth&lt;/members&gt;
   7 ~ │             &lt;name&gt;ApexClass&lt;/name&gt;
   8 ~ │  &lt;/types&gt;
   9 ~ │ 
  10 ~ │ &lt;/Package&gt;
───────┴────────────────────────────────────────────────────────────────────────────────────────────────────────────
~/treeprj/destructiveChanges [patch1] &gt;cd ..                     
~/treeprj [patch1] &gt;vi package.json 
~/treeprj [patch1] &gt;vi package.xml 
~/treeprj [patch1] &gt;cp destructiveChanges/package.xml .
~/treeprj [patch1] &gt;vi package.xml 
~/treeprj [patch1] &gt;bat package.xml
───────┬────────────────────────────────────────────────────────────────────────────────────────────────────────────
       │ File: package.xml
───────┼────────────────────────────────────────────────────────────────────────────────────────────────────────────
   1   │ &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
   2   │ &lt;Package xmlns=&quot;http://soap.sforce.com/2006/04/metadata&quot;&gt;
   3   │     &lt;version&gt;55.0&lt;/version&gt;
   4   │ &lt;/Package&gt;
───────┴────────────────────────────────────────────────────────────────────────────────────────────────────────────
 
~/treeprj [patch1] &gt;sfdx force:source:deploy -x package.xml --postdestructivechanges destructiveChanges/destructiveChanges.xml --verbose --loglevel TRACE -u mohan.chinnappan.n.sel@gmail.com -c
Deploying v55.0 metadata to mohan.chinnappan.n.sel@gmail.com using the v57.0 SOAP API
Deploy ID: 0Af4x00000YS5uBCAT

=== Deleted Source

 FULL NAME  TYPE      PROJECT PATH                                           
 ────────── ───────── ────────────────────────────────────────────────────── 
 HelloEarth ApexClass force-app/main/default/classes/HelloEarth.cls          
 HelloEarth ApexClass force-app/main/default/classes/HelloEarth.cls-meta.xml 
Successfully validated the deployment.
~/treeprj [patch1] &gt;sfdx force:source:deploy -x package.xml --postdestructivechanges destructiveChanges/destructiveChanges.xml --verbose --loglevel TRACE -u mohan.chinnappan.n.sel@gmail.com  
Deploying v55.0 metadata to mohan.chinnappan.n.sel@gmail.com using the v57.0 SOAP API
Deploy ID: 0Af4x00000YS5uLCAT

=== Deleted Source

 FULL NAME  TYPE      PROJECT PATH                                           
 ────────── ───────── ────────────────────────────────────────────────────── 
 HelloEarth ApexClass force-app/main/default/classes/HelloEarth.cls          
 HelloEarth ApexClass force-app/main/default/classes/HelloEarth.cls-meta.xml 
Deploy Succeeded.

</code></pre>
<p><img src="deployments/img/dangling/helloEarth-profile-after-delete.png" alt="Hello Earth after Delete" /></p>
<h3 id="about-class-files-in-the-local-folder"><a class="header" href="#about-class-files-in-the-local-folder">About class files in the local folder</a></h3>
<ul>
<li>Since destructiveChanges deployment do not  change files in the local folder as shown below:</li>
</ul>
<pre><code>tree force-app/main/default/classes 
force-app/main/default/classes
├── HelloEarth.cls
├── HelloEarth.cls-meta.xml
├── HelloMars.cls
├── HelloMars.cls-meta.xml
├── HelloPeach.cls
└── HelloPeach.cls-meta.xml

0 directories, 6 files
~/treeprj [patch1] &gt;sfdx force:source:retrieve -p force-app/main/default/classes -u mohan.chinnappan.n.sel@gmail.com      
Retrieving v55.0 metadata from mohan.chinnappan.n.sel@gmail.com using the v57.0 SOAP API
Preparing retrieve request... done
=== Retrieved Source

 FULL NAME  TYPE      PROJECT PATH                                           
 ────────── ───────── ────────────────────────────────────────────────────── 
 HelloPeach ApexClass force-app/main/default/classes/HelloPeach.cls          
 HelloPeach ApexClass force-app/main/default/classes/HelloPeach.cls-meta.xml 
=== Retrieved Source Warnings

 FILE NAME              PROBLEM                                                       
 ────────────────────── ───────────────────────────────────────────────────────────── 
 unpackaged/package.xml Entity of type 'ApexClass' named 'HelloEarth' cannot be found 
 unpackaged/package.xml Entity of type 'ApexClass' named 'HelloMars' cannot be found  

~/treeprj [patch1] &gt;tree force-app/main/default/classes 
force-app/main/default/classes
├── HelloEarth.cls
├── HelloEarth.cls-meta.xml
├── HelloMars.cls
├── HelloMars.cls-meta.xml
├── HelloPeach.cls
└── HelloPeach.cls-meta.xml

0 directories, 6 files

</code></pre>
<ul>
<li>We need to <strong>manually delete them</strong>, otherwise the following command (wildcard based) will re-deploy the deleted the classes back into the org</li>
</ul>
<pre><code>sfdx force:source:deploy -u mohan.chinnappan.n.sel@gmail.com -p force-app/main/default/classes 
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sandbox-management"><a class="header" href="#sandbox-management">Sandbox Management</a></h1>
<p><img src="deployments/../img/devops/sbx-1.png" alt="sbx1" />
<img src="deployments/../img/devops/sbx-2.png" alt="sbx2" /></p>
<iframe width="920" height="640" src="https://www.youtube.com/embed/B73qPE1pEj4" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<h2 id="sandbox-clone"><a class="header" href="#sandbox-clone">Sandbox Clone</a></h2>
<table><thead><tr><th>Question</th><th>Answer</th></tr></thead><tbody>
<tr><td>How <strong>Sandbox Clone</strong> is different from regular Sandbox</td><td>With Sandbox Clone, you can create a copy of an existing sandbox. That copy will contain all data that existed in the Source Sandbox at the time of the copy. A regular sandbox is a <strong>copy of production</strong> org. In <strong>Setup &gt; Sandboxes</strong> page it will be have <strong>Copied From</strong> field</td></tr>
<tr><td>How to create or refresh cloned sandbox</td><td>You can create or refresh a cloned sandbox the same way you use a regular sandbox, you have to choose your <strong>source sandbox</strong> rather than <strong>production</strong> on the <strong>Create From</strong> drop-down field.You can clone a sandbox that’s on a <strong>different major Salesforce release version</strong> than your production organization.</td></tr>
<tr><td>Things to know</td><td>A sandbox clone can only be of the <strong>same type sandbox</strong> as the <strong>source</strong>. For example, a 'Full Copy Sandbox' can only be cloned as another 'Full Copy Sandbox.'</td></tr>
</tbody></table>
<h2 id="sandbox-refresh"><a class="header" href="#sandbox-refresh">Sandbox Refresh</a></h2>
<h3 id="1-create-a-pre-refresh-checklist"><a class="header" href="#1-create-a-pre-refresh-checklist">1. Create a Pre-refresh Checklist</a></h3>
<h3 id="2-minimize-downtime-using-right-refresh-window-taking-care-of-developers-developing-new-features-uat-and-training-users"><a class="header" href="#2-minimize-downtime-using-right-refresh-window-taking-care-of-developers-developing-new-features-uat-and-training-users">2. Minimize Downtime using right refresh window (taking care of developers developing new features, UAT and Training users)</a></h3>
<ul>
<li>
<p>Makes sure that refresh window aligns with Salesforce release window</p>
</li>
<li>
<p>For each sandbox</p>
<ul>
<li>
<p>Salesforce <strong>sandbox refreshes take time</strong> - It is a function of amount of configuration and metadata it contains</p>
</li>
<li>
<p>Determine a window for running sandbox refresh - this could take around 2 days </p>
</li>
<li>
<p>During this window the <strong>sandbox won’t be available</strong></p>
</li>
<li>
<p>Type of sandbox determines <strong>how often</strong> it can be refreshed:</p>
<ul>
<li>Developer, Developer Pro - 1 day</li>
<li>Partial Copy  - 5 days</li>
<li>Full Copy - 29 days</li>
</ul>
</li>
<li>
<p><strong>Refreshing the sandbox will delete all that metadata (that is not yet committed in to Production)</strong></p>
</li>
</ul>
</li>
</ul>
<h3 id="3-sandbox-refresh-communication"><a class="header" href="#3-sandbox-refresh-communication">3. Sandbox Refresh Communication</a></h3>
<pre><code>- Communicate early and often about the Sandbox Refresh
</code></pre>
<ul>
<li>Use custom metadata types (mdt) in production, so they’re easily modified 
<ul>
<li>Use custom settings and/or custom metadata types to specify email addresses, integration endpoints, etc. 
<ul>
<li>modify these values post-refresh</li>
<li>Have 2 records per metadata type—one for production and one for sandboxes
<ul>
<li>Apex classes can then use the <code>IsSandbox</code> property to dynamically choose which metadata type to use at runtime. </li>
</ul>
<pre><code class="language-sql">SELECT IsSandbox FROM Organization LIMIT 1
</code></pre>
<img src="deployments/img/isSandbox.png" alt="isSandbox" /></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="4-create-a-post-refresh-checklist"><a class="header" href="#4-create-a-post-refresh-checklist">4. Create a Post-refresh Checklist</a></h3>
<ul>
<li>After refreshing a sandbox take care of removing production endpoints</li>
<li><a href="https://developer.salesforce.com/docs/atlas.en-us.apexref.meta/apexref/apex_interface_System_SandboxPostCopy.htm">SandboxPostCopy</a>  to extend this interface and add methods to perform post-copy tasks, then specify the class during sandbox creation.</li>
</ul>
<pre><code class="language-java">    global class PrepareMySandbox implements SandboxPostCopy {
 
    global PrepareMySandbox() {
        //Implementations of SandboxPostCopy must have a no-arg constructor.
        //This constructor is used during the sandbox copy process.
        //You can also implement constructors with arguments, but be aware that
        //they won’t be used by the sandbox copy process (unless as part of the
        //no-arg constructor).
        this(some_args);
    }
 
    global PrepareMySandbox(String some_args) {
        //Logic for constructor.
    }
    
    global void runApexClass(SandboxContext context) {
        System.debug('Org ID: ' + context.organizationId());
        System.debug('Sandbox ID: ' + context.sandboxId());
        System.debug('Sandbox Name: ' + context.sandboxName());
 
        // Insert logic here to prepare the sandbox for use.
    }
}
</code></pre>
<h3 id="5-take-care-of-configuration-data-not-metadata"><a class="header" href="#5-take-care-of-configuration-data-not-metadata">5. Take care of configuration data (not metadata)</a></h3>
<pre><code>- Import it using the Data Loader or Import Wizard.
- Some AppExchange apps use custom object for the configuration. When we create a new sandbox that does not include data, these apps will not work after the sandbox refresh. 
- For master-detail relationships - insert the parent records before any child records
</code></pre>
<hr />
<h2 id="references-17"><a class="header" href="#references-17">References</a></h2>
<ul>
<li><a href="https://help.salesforce.com/s/articleView?id=000384932&amp;type=1">Sandbox Clone FAQ</a></li>
<li><a href="https://help.salesforce.com/s/articleView?id=sf.data_sandbox_refresh_clone.htm&amp;type=5">Refresh a Cloned Sandbox</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sandbox-preview-guide"><a class="header" href="#sandbox-preview-guide">Sandbox Preview Guide</a></h1>
<h2 id="topics-16"><a class="header" href="#topics-16">Topics</a></h2>
<ul>
<li><a href="deployments/sandbox-preview-guide.html#rnr">To Refresh or Not to Refresh?</a> </li>
<li><a href="deployments/sandbox-preview-guide.html#pg">Sandbox Preview Guide</a></li>
</ul>
<p><a name='rnr'></a></p>
<iframe id="inlineFrameExample"
    title="Inline Frame Example"
    width="1000"
    height="800"
    src="https://mohan-chinnappan-n5.github.io/charts/gantt/gantt.html">
</iframe>
<ul>
<li><a href="https://mohan-chinnappan-n5.github.io/charts/gantt/gantt.html">Gantt Chart</a></li>
</ul>
<h2 id="to-refresh-or-not-to-refresh-de-mystifying-the-sandbox-preview-sp"><a class="header" href="#to-refresh-or-not-to-refresh-de-mystifying-the-sandbox-preview-sp">To Refresh or Not to Refresh: De-mystifying the Sandbox Preview [SP]</a></h2>
<iframe id="inlineFrameExample"
    title="Inline Frame Example"
    width="1000"
    height="800"
    src="https://salesforce.vidyard.com/watch/dzC5Xx9GF8dJEM8wUqGim5/">
</iframe>
<p><a name='pg'></a></p>
<h2 id="salesforce-sandbox-preview-guide-app"><a class="header" href="#salesforce-sandbox-preview-guide-app">Salesforce Sandbox Preview Guide App</a></h2>
<iframe id="inlineFrameExample"
    title="Inline Frame Example"
    width="1000"
    height="800"
    src="https://sandbox-preview.herokuapp.com/">
</iframe>
<h2 id="references-18"><a class="header" href="#references-18">References</a></h2>
<ul>
<li><a href="https://help.salesforce.com/s/articleView?id=000391927&amp;type=1">Salesforce Sandbox Preview Instructions</a></li>
<li><a href="https://status.salesforce.com/instances/NA162">Trust Status</a>
<ul>
<li>Modify your Instance at the end of the url to fit your Instance</li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="metadatacomponentdependency"><a class="header" href="#metadatacomponentdependency">MetadataComponentDependency</a></h1>
<h2 id="soql-used-for-this"><a class="header" href="#soql-used-for-this">SOQL used for this:</a></h2>
<pre><code class="language-sql">
SELECT 
MetadataComponentId,
MetadataComponentName, MetadataComponentType,RefMetadataComponentId,
RefMetadataComponentName,
RefMetadataComponentType
    FROM MetadataComponentDependency
    WHERE RefMetadataComponentType = 'ApexClass'



</code></pre>
<h2 id="using-onnu-for-this"><a class="header" href="#using-onnu-for-this">Using ONNU for this</a></h2>
<p><img src="deployments/img/metadatadependency-1.png" alt="!ONNU Metadata Dependency" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="yaml"><a class="header" href="#yaml">YAML</a></h1>
<h2 id="yaml-to-json-convertor"><a class="header" href="#yaml-to-json-convertor">YAML to JSON convertor</a></h2>
<ul>
<li><a href="https://mohan-chinnappan-n5.github.io/yaml/yaml2json.html">YAML2JSON APP</a></li>
</ul>
<iframe id="YAML2JSON "
    title="YAML2JSON "
    width="1200"
    height="800"
    src="https://mohan-chinnappan-n5.github.io/yaml/yaml2json.html">
</iframe>
<h2 id="json-editor"><a class="header" href="#json-editor">JSON Editor</a></h2>
<p><a href="https://mohan-chinnappan-n.github.io/json/jsonEditor.html">JSON Editor APP</a></p>
<iframe id="JSONEditor"
    title="JSONEditor "
    width="1200"
    height="800"
    src="https://mohan-chinnappan-n.github.io/json/jsonEditor.html">
</iframe>
<h2 id="json-to-yaml-convertor"><a class="header" href="#json-to-yaml-convertor">JSON to YAML convertor</a></h2>
<p><a href="https://mohan-chinnappan-n5.github.io/yaml/json2yaml.html">JSON2YAML App</a></p>
<iframe id="JSON2YAML"
    title="JSON2YAML"
    width="1200"
    height="800"
    src="https://mohan-chinnappan-n5.github.io/yaml/json2yaml.html">
</iframe>
<div style="break-before: page; page-break-before: always;"></div><h1 id="installed-packages"><a class="header" href="#installed-packages">Installed Packages</a></h1>
<h2 id="how-to-check-installed-packages-in-the-org"><a class="header" href="#how-to-check-installed-packages-in-the-org">How to Check Installed Packages in the org</a></h2>
<h3 id="using-onnu-chrome-extension"><a class="header" href="#using-onnu-chrome-extension">Using ONNU Chrome Extension</a></h3>
<pre><code class="language-sql">SELECT Id, SubscriberPackageId, SubscriberPackage.NamespacePrefix,
SubscriberPackage.Name, SubscriberPackageVersion.Id,
SubscriberPackageVersion.Name, SubscriberPackageVersion.MajorVersion,
SubscriberPackageVersion.MinorVersion,
SubscriberPackageVersion.PatchVersion,
SubscriberPackageVersion.BuildNumber
FROM InstalledSubscriberPackage
ORDER BY SubscriberPackageId

</code></pre>
<p><img src="deployments/img/installedPackages-1.png" alt="Installed packages" /></p>
<h3 id="using-cli-1"><a class="header" href="#using-cli-1">Using CLI</a></h3>
<pre><code>sfdx force:package:installed:list -u mohan.chinnappan.n.sel2@gmail.com
</code></pre>
<pre><code> ID                 Package ID         Package Name              Namespace   Package Version ID Version Name Version 
 ────────────────── ────────────────── ───────────────────────── ─────────── ────────────────── ──────────── ─────── 
 0A38W000000hMfWSAU 03330000000wDAbAAM Salesforce Connected Apps sf_com_apps 04t30000001DUvrAAG Winter '16   1.7.0.1

</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="crma-tools"><a class="header" href="#crma-tools">CRMA tools</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="dataset-load-and-export"><a class="header" href="#dataset-load-and-export">Dataset Load and Export</a></h1>
<h2 id="export-your-einstein-analytics-datasets"><a class="header" href="#export-your-einstein-analytics-datasets">Export your Einstein Analytics datasets</a></h2>
<iframe id="inlineFrameExample"
    title="Inline Frame Example"
    width="900"
    height="600"
    src="https://www.salesforceblogger.com/2020/08/19/export-your-einstein-analytics-datasets/">
</iframe>
<h2 id="uploading-datasets-via-cli"><a class="header" href="#uploading-datasets-via-cli">Uploading datasets via CLI</a></h2>
<iframe id="inlineFrameExample"
    title="Inline Frame Example"
    width="900"
    height="600"
    src="https://www.salesforceblogger.com/2020/10/14/uploading-datasets-via-cli/">
</iframe>
<div style="break-before: page; page-break-before: always;"></div><h1 id="analysis"><a class="header" href="#analysis">Analysis</a></h1>
<h2 id="get-fieldusage-info-for-a-given-dataflow-using-dx"><a class="header" href="#get-fieldusage-info-for-a-given-dataflow-using-dx">Get FieldUsage info for a given Dataflow using DX</a></h2>
<iframe id="inlineFrameExample"
    title="Inline Frame Example"
    width="900"
    height="600"
    src="https://www.salesforceblogger.com/2020/10/26/field-usage-analysis">
</iframe>
<hr />
<ul>
<li>Requires 0.0.73 version of the plugin
<ul>
<li>sfdx-mohanc-plugins@0.0.73</li>
<li><a href="https://mohan-chinnappan-n.github.io/dx/plugins.html#/1">How to install the plugin</a></li>
</ul>
</li>
</ul>
<h2 id="topics-17"><a class="header" href="#topics-17">Topics</a></h2>
<ul>
<li><a href="crma/analysis.html#demo">Demo</a></li>
<li><a href="crma/analysis.html#usage">Usage</a></li>
<li><a href="crma/analysis.html#steps">Steps</a></li>
<li><a href="crma/analysis.html#outputcsv">Output CSV</a></li>
<li><a href="crma/analysis.html#outputjson">Output JSON</a></li>
<li><a href="crma/analysis.html#load">Load Field Usage CSV into EA</a></li>
<li><a href="crma/analysis.html#db">Field Usage Dashboard</a></li>
<li><a href="crma/analysis.html#nofinfo">Dataflows without field usage info</a>
<a name="demo"></a></li>
</ul>
<h2 id="demo-10"><a class="header" href="#demo-10">Demo</a></h2>
<p><img src="https://raw.githubusercontent.com/mohan-chinnappan-n/cli-dx/master/ea/fieldUsage-4.gif" alt="dataflow fieldUsage Demo" /></p>
<p><a name="usage"></a></p>
<h2 id="usage-2"><a class="header" href="#usage-2">Usage</a></h2>
<pre><code>$ sfdx mohanc:ea:dataflow:fieldUsage -h
Get Field Usage Info for the given dataflow 

USAGE
  $ sfdx mohanc:ea:dataflow:fieldUsage

OPTIONS
  -d, --dataflowid=dataflowid                     Dataflow Id to analyzed
  -u, --targetusername=targetusername             username or alias for the target org; overrides default target org
  --apiversion=apiversion                         override the api version used for api requests made by this command
  --json                                          format output as json
  --loglevel=(trace|debug|info|warn|error|fatal)  logging level for this command invocation

EXAMPLE

              Get Field Usage data for the given dataflow
              sfdx mohanc:ea:dataflow:fieldUsage  -u &lt;username&gt; -d &lt;dataflowId&gt; 

              Creates output in both csv and json file 
           
              --------------------------------------------------
              NOTE:
              Use:
              sfdx mohanc:ea:dataflow:list  -u &lt;username&gt;
              to list the dataflows in the org


</code></pre>
<p><a name="steps"></a></p>
<h2 id="steps-2"><a class="header" href="#steps-2">Steps</a></h2>
<h3 id="list-the-dataflows-in-the-org"><a class="header" href="#list-the-dataflows-in-the-org">List the dataflows in the org</a></h3>
<pre><code>$ sfdx mohanc:ea:dataflow:list -u mohan.chinnappan.n_ea2@gmail.com 
Id,Label
02K3h000000Mu1oEAC,exportOppty2
02K3h000000Mu0vEAC,exportOppty
02K3h000000MtyuEAC,ExportCustomers
02K3h000000MrxWEAS,fruitsdf
02K3h000000Mr7JEAS,The_Motivator
02K3h000000Mr7KEAS,Default Salesforce Dataflow

</code></pre>
<h3 id="get-the-field-usage-info-this-dataflow-02k3h000000mr7jeasthe_motivator"><a class="header" href="#get-the-field-usage-info-this-dataflow-02k3h000000mr7jeasthe_motivator">Get the field usage info this dataflow: 02K3h000000Mr7JEAS,The_Motivator</a></h3>
<pre><code>$ sfdx mohanc:ea:dataflow:fieldUsage -u mohan.chinnappan.n_ea2@gmail.com -d 02K3h000000Mr7JEAS
=== Looking at the dataflow: 02K3h000000Mr7JEAS, The_Motivator ...
=== Looking at the dataflow's sfdcRegister actions ...
_________________________________________________
=== Looking at the dataset: user ...
=== Looking at current version of the dataset: user ...
=== Looking at Security Predicate of the dataset: user ...
=== Looking at WHERE USED details of the dataset: user ...
=== Looking at Dashboards using this dataset: user ...
=== Looking at Lenses using this dataset: user ...
_________________________________________________
=== Looking at the dataset: activity ...
=== Looking at current version of the dataset: activity ...
=== Looking at Security Predicate of the dataset: activity ...
=== Looking at WHERE USED details of the dataset: activity ...
=== Looking at Dashboards using this dataset: activity ...
_________________________________________________
Writing output files in:  The_Motivator_fldusage.json and The_Motivator_fldusage.csv 
Done.

</code></pre>
<p><a name='outputcsv'></a></p>
<h3 id="output-csv"><a class="header" href="#output-csv">Output CSV</a></h3>
<ul>
<li><a href="https://github.com/mohan-chinnappan-n/cli-dx/blob/master/ea/02K3h000000Mr7JEAS.csv">Field Usage in CSV</a></li>
</ul>
<p><a name='load'></a></p>
<h3 id="load-field-usage-csv-file-into-ea"><a class="header" href="#load-field-usage-csv-file-into-ea">Load Field Usage CSV file into EA</a></h3>
<pre><code>$ cp ea/02K3h000000Mr7JEAS.csv /tmp/fieldusage.csv

$ sfdx mohanc:ea:dataset:load -u mohan.chinnappan.n_ea2@gmail.com  -d /tmp/fieldusage.csv 
[
  {
    fullyQualifiedName: 'fieldusage_csvDataset.type',
    label: 'type',
    name: 'type',
    isSystemField: false,
    isUniqueId: false,
    isMultiValue: false,
    multiValueSeparator: 'null',
    type: 'Text'
  },
  {
    fullyQualifiedName: 'fieldusage_csvDataset.name',
    label: 'name',
    name: 'name',
    isSystemField: false,
    isUniqueId: false,
    isMultiValue: false,
    multiValueSeparator: 'null',
    type: 'Text'
  },
  {
    fullyQualifiedName: 'fieldusage_csvDataset.dataflowName',
    label: 'dataflowName',
    name: 'dataflowName',
    isSystemField: false,
    isUniqueId: false,
    isMultiValue: false,
    multiValueSeparator: 'null',
    type: 'Text'
  },
  {
    fullyQualifiedName: 'fieldusage_csvDataset.datasetName',
    label: 'datasetName',
    name: 'datasetName',
    isSystemField: false,
    isUniqueId: false,
    isMultiValue: false,
    multiValueSeparator: 'null',
    type: 'Text'
  },
  {
    fullyQualifiedName: 'fieldusage_csvDataset.dashboardName',
    label: 'dashboardName',
    name: 'dashboardName',
    isSystemField: false,
    isUniqueId: false,
    isMultiValue: false,
    multiValueSeparator: 'null',
    type: 'Text'
  },
  {
    fullyQualifiedName: 'fieldusage_csvDataset.lensName',
    label: 'lensName',
    name: 'lensName',
    isSystemField: false,
    isUniqueId: false,
    isMultiValue: false,
    multiValueSeparator: 'null',
    type: 'Text'
  },
  {
    fullyQualifiedName: 'fieldusage_csvDataset.InSecurityPredicate',
    label: 'InSecurityPredicate',
    name: 'InSecurityPredicate',
    isSystemField: false,
    isUniqueId: false,
    isMultiValue: false,
    multiValueSeparator: 'null',
    type: 'Text'
  },
  {
    fullyQualifiedName: 'fieldusage_csvDataset.usageCount',
    label: 'usageCount',
    name: 'usageCount',
    isSystemField: false,
    isUniqueId: false,
    type: 'Numeric',
    defaultValue: '0',
    precision: 18,
    scale: 0
  },
  {
    fullyQualifiedName: 'fieldusage_csvDataset.inUse',
    label: 'inUse',
    name: 'inUse',
    isSystemField: false,
    isUniqueId: false,
    isMultiValue: false,
    multiValueSeparator: 'null',
    type: 'Text'
  }
]
{ id: '06V3h0000005uEOEAY', success: true, errors: [] }
Load part: 1
{ id: '06W3h00000075pdEAA', success: true, errors: [] }
Going to process...

Done.
</code></pre>
<p><img src="https://raw.githubusercontent.com/mohan-chinnappan-n/cli-dx/master/ea/fldusage-2.png" alt="loaded-1" /></p>
<ul>
<li>Dataflow job created details
<ul>
<li><a href="https://github.com/mohan-chinnappan-n/cli-dx/blob/master/ea-dataflow-jobs.md">View Dataflow jobs</a></li>
</ul>
</li>
</ul>
<p><img src="https://raw.githubusercontent.com/mohan-chinnappan-n/cli-dx/master/ea/fldusage-3.png" alt="loaded-2" /></p>
<p><a name='nofinfo'></a></p>
<h2 id="dataflow-without-field-usage-info"><a class="header" href="#dataflow-without-field-usage-info">Dataflow without field usage info</a></h2>
<pre><code>$ sfdx mohanc:ea:dataflow:list -u mohan.chinnappan.n_ea2@gmail.com 
Id,Label
02K3h000000Mu1oEAC,exportOppty2
02K3h000000Mu0vEAC,exportOppty
02K3h000000MtyuEAC,ExportCustomers
02K3h000000MrxWEAS,fruitsdf
02K3h000000Mr7JEAS,The_Motivator
02K3h000000Mr7KEAS,Default Salesforce Dataflow

# let us look at  02K3h000000MrxWEAS,fruitsdf

$ sfdx mohanc:ea:dataflow:fieldUsage -u mohan.chinnappan.n_ea2@gmail.com -d 02K3h000000MrxWEAS
=== Looking at the dataflow 02K3h000000MrxWEAS ...
=== Looking at the dataflow sfdcRegister Actions ...
_________________________________________________
=== Looking at the dataset regFruitYield ...
Error: getting dataset for the currentVersion!
No field usage can be obtained for this dataflow!

</code></pre>
<p><a name='db'></a></p>
<h3 id="dashboard"><a class="header" href="#dashboard">Dashboard</a></h3>
<p><img src="https://raw.githubusercontent.com/mohan-chinnappan-n/cli-dx/master/ea/fieldUsage-3.gif" alt="Dashboard" /></p>
<ul>
<li><a href="https://github.com/mohan-chinnappan-n/cli-dx/blob/master/ea/dashboard.json">Dashboard json</a></li>
</ul>
<p><a name="outputjson"></a></p>
<h3 id="field-usage-output-json"><a class="header" href="#field-usage-output-json">Field Usage Output JSON</a></h3>
<ul>
<li><a href="https://github.com/mohan-chinnappan-n/cli-dx/blob/master/ea/02K3h000000Mr7JEAS.json">Field Usage Json</a></li>
</ul>
<hr />
<h2 id="dataflow-performance-with-field-usage-analysis"><a class="header" href="#dataflow-performance-with-field-usage-analysis">Dataflow performance with field usage analysis</a></h2>
<iframe id="inlineFrameExample"
    title="Inline Frame Example"
    width="900"
    height="600"
    src="https://www.salesforceblogger.com/2020/11/18/dataflow-performance-with-field-usage-analysis/">
</iframe>
<hr />
<h2 id="export-node-details-of-a-dataflow-job"><a class="header" href="#export-node-details-of-a-dataflow-job">Export node details of a dataflow job</a></h2>
<iframe id="inlineFrameExample"
    title="Inline Frame Example"
    width="900"
    height="600"
    src="https://www.salesforceblogger.com/2020/11/19/export-node-details-of-a-dataflow-job/">
</iframe>
<div style="break-before: page; page-break-before: always;"></div><h1 id="binding"><a class="header" href="#binding">Binding</a></h1>
<iframe id="inlineFrameExample"
    title="Inline Frame Example"
    width="1200"
    height="800"
    src="https://mohan-chinnappan-n2.github.io/2019/ea/ea-binding.html">
</iframe>
<div style="break-before: page; page-break-before: always;"></div><h1 id="deployment"><a class="header" href="#deployment">Deployment</a></h1>
<h2 id="use-case-3"><a class="header" href="#use-case-3">Use case</a></h2>
<ul>
<li>For first time: Move the wave assets from a source org into a target org 
<ul>
<li>commit these wave assets into the version control once it is verified</li>
</ul>
</li>
</ul>
<h2 id="packagexml-used-in-this-use-case"><a class="header" href="#packagexml-used-in-this-use-case">package.xml used in this use case</a></h2>
<ul>
<li>You can customize it as needed</li>
</ul>
<pre><code class="language-xml">
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;Package xmlns=“http://soap.sforce.com/2006/04/metadata”&gt;
    &lt;types&gt;
        &lt;members&gt;*&lt;/members&gt;
        &lt;name&gt;WaveApplication&lt;/name&gt;
    &lt;/types&gt;
    &lt;types&gt;
        &lt;members&gt;*&lt;/members&gt;
        &lt;name&gt;WaveComponent&lt;/name&gt;
    &lt;/types&gt;
    &lt;types&gt;
        &lt;members&gt;*&lt;/members&gt;
        &lt;name&gt;WaveDashboard&lt;/name&gt;
    &lt;/types&gt;
    &lt;types&gt;
        &lt;members&gt;*&lt;/members&gt;
        &lt;name&gt;WaveDataflow&lt;/name&gt;
    &lt;/types&gt;
    &lt;types&gt;
        &lt;members&gt;*&lt;/members&gt;
        &lt;name&gt;WaveDataset&lt;/name&gt;
    &lt;/types&gt;
    &lt;types&gt;
        &lt;members&gt;*&lt;/members&gt;
        &lt;name&gt;WaveLens&lt;/name&gt;
    &lt;/types&gt;
    &lt;types&gt;
        &lt;members&gt;*&lt;/members&gt;
        &lt;name&gt;WaveRecipe&lt;/name&gt;
    &lt;/types&gt;
    &lt;types&gt;
        &lt;members&gt;*&lt;/members&gt;
        &lt;name&gt;WaveTemplateBundle&lt;/name&gt;
    &lt;/types&gt;
    &lt;types&gt;
        &lt;members&gt;*&lt;/members&gt;
        &lt;name&gt;WaveXmd&lt;/name&gt;
    &lt;/types&gt;
    &lt;version&gt;56.0&lt;/version&gt;
&lt;/Package&gt;
</code></pre>
<h2 id="option---1"><a class="header" href="#option---1">Option - 1</a></h2>
<ul>
<li>Download CRMA package zip file 
<ul>
<li>using Chrome Extension <a href="https://mohan-chinnappan-n5.github.io/sfbooks/sfdevnotes/chromeext/onnu.html">ONNU</a></li>
</ul>
</li>
</ul>
<p><img src="crma/img/crma-retrieve-1.webm.gif" alt="CRMA package" /></p>
<h3 id="changing-extension-of-the-xmd-and-xds"><a class="header" href="#changing-extension-of-the-xmd-and-xds">Changing extension of the xmd and xds</a></h3>
<pre><code class="language-bash">python3 change_extn.py

</code></pre>
<pre><code>-------------------------------------------------------
Usage: python3 change_extn.py &lt;from_extn&gt; &lt;to_extn&gt;

Examples: python3 change_extn.py xmd  xmd-meta.xml 
        : python3 change_extn.py xds  xds-meta.xml 
-------------------------------------------------------
</code></pre>
<ul>
<li>Download the script <a href="https://raw.githubusercontent.com/mohan-chinnappan-n/shell-scripts/master/py/change_extn.py">change_extn.py</a></li>
</ul>
<pre><code class="language-py">import os
import sys

&quot;&quot;&quot;
 change_extn.py
  - changes the extension of the given file into  required extension
    - For example:
        from: xmd 
        to:  xmd-meta.xml  
- mchinnappan
&quot;&quot;&quot;
usage = &quot;&quot;&quot;
-------------------------------------------------------
Usage: python3 change_extn.py &lt;from_extn&gt; &lt;to_extn&gt;

Examples: python3 change_extn.py xmd  xmd-meta.xml 
        : python3 change_extn.py xds  xds-meta.xml 
-------------------------------------------------------
&quot;&quot;&quot;

if len(sys.argv) &lt; 3:
    print (f'{usage}')
    exit(0)

inext =  sys.argv[1]
outext = sys.argv[2]


for filename in os.listdir('.'):
    if filename.endswith(f'.{inext}'):
        os.rename(filename, filename[:-len(inext)] + outext)



</code></pre>
<ul>
<li>run it on the wave folder:</li>
</ul>
<pre><code class="language-bash">
python3 change_extn.py xmd  xmd-meta.xml 
python3 change_extn.py xds  xds-meta.xml 

</code></pre>
<h2 id="option---2"><a class="header" href="#option---2">Option - 2</a></h2>
<ul>
<li>Download CRMA package zip file 
<ul>
<li>using DX</li>
</ul>
</li>
</ul>
<pre><code>sfdx force:mdapi:retrieve -k ~/.package/crma-package.xml -u mohan.chinnappan.n_ea2@gmail.com -r .

</code></pre>
<pre><code>Retrieving v56.0 metadata from mohan.chinnappan.n_ea2@gmail.com using the v57.0 SOAP API
Retrieve ID: 09S3h000006la2aEAA
Retrieving metadata from mohan.chinnappan.n_ea2@gmail.com... done
Wrote retrieve zip to /private/tmp/CRMA/unpackaged.zip

</code></pre>
<ul>
<li>View/unzip the zip file</li>
</ul>
<pre><code>/tmp/CRMA  &gt;jar xvf unpackaged.zip 
</code></pre>
<pre><code>   105 Thu Mar 09 11:55:00 EST 2023 unpackaged/waveTemplates/Service_Analytics_Flex/dataset_files/ServiceOmniUserPresence_XMD_20_template.json
 40861 Thu Mar 09 11:55:00 EST 2023 unpackaged/waveTemplates/Trailhead_Template_PartOne/workflow/SalesAnalyticsDataflow.json
   221 Thu Mar 09 11:55:00 EST 2023 unpackaged/waveTemplates/Trailhead_Template_PartTwo/folder.json
 44649 Thu Mar 09 11:55:00 EST 2023 unpackaged/waveTemplates/Trailhead_Template_PartTwo/workflow/SalesAnalyticsDataflow.json
 90993 Thu Mar 09 11:55:00 EST 2023 unpackaged/waveTemplates/Service_Analytics_Flex/dashboards/Service_Knowledge_Efficiency.json
101231 Thu Mar 09 11:55:00 EST 2023 unpackaged/waveTemplates/Service_Analytics_Flex/dashboards/Service_Channel_Review.json
120130 Thu Mar 09 11:55:00 EST 2023 unpackaged/waveTemplates/Service_Analytics_Flex/dashboards/Service_Live_Agent_Chat.json
100166 Thu Mar 09 11:55:00 EST 2023 unpackaged/waveTemplates/Service_Analytics_Flex/dashboards/Service_Telephony.json
...

</code></pre>
<h2 id="move-this-zip-content--unpackaged-into-your-local-folder-of-your-sfdx-project-under-the-wave-folder"><a class="header" href="#move-this-zip-content--unpackaged-into-your-local-folder-of-your-sfdx-project-under-the-wave-folder">Move this zip content  unpackaged/* into your local folder of your SFDX Project under the wave folder</a></h2>
<pre><code># copy under force-app/main/default/wave of your sfdx project, for example:
/tmp/CRMA  &gt;
cp unpackaged/wave/* ~/treeprj/force-app/main/default/wave/
</code></pre>
<h2 id="deploy-into-the-target-org"><a class="header" href="#deploy-into-the-target-org">Deploy into the target org</a></h2>
<ul>
<li>checkOnly (-c flag)</li>
</ul>
<pre><code>sfdx force:source:deploy -x ~/.package/crma-package.xml    -c --verbose --loglevel TRACE 

</code></pre>
<ul>
<li>Example</li>
</ul>
<pre><code>sfdx force:source:deploy -x ~/.package/crma-package.xml    -c --verbose --loglevel TRACE -u mohan.chinnappan.n_ea2@gmail.com
Deploying v56.0 metadata to mohan.chinnappan.n_ea2@gmail.com using the v57.0 SOAP API
Deploy ID: 0Af3h00000SZ7WpCAL
DEPLOY PROGRESS | ████████████████████████████████████████ | 27/27 Components

=== Deployed Source

 FULL NAME                                            TYPE          PROJECT PATH                                                        
 ──────────────────────────────────────────────────── ───────────── ─────────────────────────────────────────────────────────────────── 
 Benchmark_dashboard                                  WaveDashboard Benchmark_dashboard.wdash                                           
 Benchmark_dashboard                                  WaveDashboard Benchmark_dashboard.wdash-meta.xml                                  
 Cars3DB                                              WaveDashboard Cars3DB.wdash                                                       
 Cars3DB                                              WaveDashboard Cars3DB.wdash-meta.xml                                              
 DTC_Sales_SAMPLE                                     WaveDashboard DTC_Sales_SAMPLE.wdash                                              
 DTC_Sales_SAMPLE                                     WaveDashboard DTC_Sales_SAMPLE.wdash-meta.xml                                     
 FieldUsage                                           WaveDashboard FieldUsage.wdash                                                    
 FieldUsage                                           WaveDashboard FieldUsage.wdash-meta.xml                                           
 Opportunity_Details                                  WaveDashboard Opportunity_Details.wdash                                           
 Opportunity_Details                                  WaveDashboard Opportunity_Details.wdash-meta.xml                                  
 Regional_Sales_SAMPLE                                WaveDashboard Regional_Sales_SAMPLE.wdash                                         
 Regional_Sales_SAMPLE                                WaveDashboard Regional_Sales_SAMPLE.wdash-meta.xml                                
 Sales_Performance_with_Selectable_Measures_Trailhead WaveDashboard Sales_Performance_with_Selectable_Measures_Trailhead.wdash          
 Sales_Performance_with_Selectable_Measures_Trailhead WaveDashboard Sales_Performance_with_Selectable_Measures_Trailhead.wdash-meta.xml 
 The_Motivator_1                                      WaveDashboard The_Motivator_1.wdash                                               
 The_Motivator_1                                      WaveDashboard The_Motivator_1.wdash-meta.xml                                      
 The_Motivator_2                                      WaveDashboard The_Motivator_2.wdash                                               
 The_Motivator_2                                      WaveDashboard The_Motivator_2.wdash-meta.xml                                      
 Worldwide_Fundraising_Starter                        WaveDashboard Worldwide_Fundraising_Starter.wdash                                 
 Worldwide_Fundraising_Starter                        WaveDashboard Worldwide_Fundraising_Starter.wdash-meta.xml                        
 ExportCustomers                                      WaveDataflow  ExportCustomers.wdf                                                 
 ExportCustomers                                      WaveDataflow  ExportCustomers.wdf-meta.xml                                        
 FlattenExample                                       WaveDataflow  FlattenExample.wdf                                                  
 FlattenExample                                       WaveDataflow  FlattenExample.wdf-meta.xml                                         
 JOINSTutorial                                        WaveDataflow  JOINSTutorial.wdf                                                   
 JOINSTutorial                                        WaveDataflow  JOINSTutorial.wdf-meta.xml                                          
 SalesEdgeEltWorkflow                                 WaveDataflow  SalesEdgeEltWorkflow.wdf                                            
 SalesEdgeEltWorkflow                                 WaveDataflow  SalesEdgeEltWorkflow.wdf-meta.xml                                   
 The_Motivator                                        WaveDataflow  The_Motivator.wdf                                                   
 The_Motivator                                        WaveDataflow  The_Motivator.wdf-meta.xml                                          
 exportOppty                                          WaveDataflow  exportOppty.wdf                                                     
 exportOppty                                          WaveDataflow  exportOppty.wdf-meta.xml                                            
 exportOppty2                                         WaveDataflow  exportOppty2.wdf                                                    
 exportOppty2                                         WaveDataflow  exportOppty2.wdf-meta.xml                                           
 filterFruits                                         WaveDataflow  filterFruits.wdf                                                    
 filterFruits                                         WaveDataflow  filterFruits.wdf-meta.xml                                           
 fruitsdf                                             WaveDataflow  fruitsdf.wdf                                                        
 fruitsdf                                             WaveDataflow  fruitsdf.wdf-meta.xml                                               
 Benchmark                                            WaveLens      Benchmark.wlens                                                     
 Benchmark                                            WaveLens      Benchmark.wlens-meta.xml                                            
 myFriutsYield                                        WaveLens      myFriutsYield.wlens                                                 
 myFriutsYield                                        WaveLens      myFriutsYield.wlens-meta.xml                                        
 FlattenTest                                          WaveRecipe    FlattenTest.wdpr                                                    
 FlattenTest                                          WaveRecipe    FlattenTest.wdpr-meta.xml                                           
 JoinedOutput                                         WaveRecipe    JoinedOutput.wdpr                                                   
 JoinedOutput                                         WaveRecipe    JoinedOutput.wdpr-meta.xml                                          
 Yield2_Recipe                                        WaveRecipe    Yield2_Recipe.wdpr                                                  
 Yield2_Recipe                                        WaveRecipe    Yield2_Recipe.wdpr-meta.xml                                         
 ea_s3_r                                              WaveRecipe    ea_s3_r.wdpr                                                        
 ea_s3_r                                              WaveRecipe    ea_s3_r.wdpr-meta.xml                                               
 fruits                                               WaveRecipe    fruits.wdpr                                                         
 fruits                                               WaveRecipe    fruits.wdpr-meta.xml                                                
 yield2_r                                             WaveRecipe    yield2_r.wdpr                                                       
 yield2_r                                             WaveRecipe    yield2_r.wdpr-meta.xml                                              
Successfully validated the deployment.

</code></pre>
<h3 id="next-steps"><a class="header" href="#next-steps">Next Steps</a></h3>
<ol>
<li>
<p>Once this is successful, use <strong>quick deploy</strong> to deploy these wave assets into the target org</p>
</li>
<li>
<p>After <strong>verification</strong> of the wave assets in the target org, commit into the version control </p>
</li>
<li>
<p>Keep the version control <strong>up-to-date</strong> with your CRMA development</p>
</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="performance"><a class="header" href="#performance">Performance</a></h1>
<p><img src="perf/../img/cover/chromecast-sea-2.jpg" alt="Sea 2 " /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="lex-performance"><a class="header" href="#lex-performance">Lex Performance</a></h1>
<iframe id="inlineFrameExample"
    title="Inline Frame Example"
    width="1200"
    height="800"
    src="https://mohan-chinnappan-n2.github.io/2019/lex/perf.html">
</iframe>
<div style="break-before: page; page-break-before: always;"></div><h1 id="performance-testing"><a class="header" href="#performance-testing">Performance testing</a></h1>
<p><img src="perf/../img/cover/chromecast-river-1.jpg" alt="River" /></p>
<h2 id="about-performance-testing"><a class="header" href="#about-performance-testing">About Performance testing</a></h2>
<h3 id="goals"><a class="header" href="#goals">Goals</a></h3>
<ul>
<li>Assessing the application's ability to handle a <strong>large volume of users and data</strong> without experiencing slowdowns or crashes.</li>
</ul>
<h3 id="steps-3"><a class="header" href="#steps-3">Steps</a></h3>
<table><thead><tr><th>Step</th><th>Details</th></tr></thead><tbody>
<tr><td>Identify the business processes and use cases</td><td>Determine the workload and user behavior scenarios that we will simulate during testing</td></tr>
<tr><td>Set up a test environment</td><td>This should mirror the production environment.</td></tr>
<tr><td>Use a load testing tool</td><td>To simulate user activity and workload on your Salesforce instance</td></tr>
<tr><td>Monitor and measure KPIs</td><td>response times, throughput, and error rates</td></tr>
<tr><td>Analyze the results</td><td>To identify any performance issues or bottlenecks that need to be addressed.</td></tr>
<tr><td>Repeat</td><td>To ensure that the Salesforce instance can handle increasing levels of user activity and data volumes.</td></tr>
</tbody></table>
<h2 id="flow"><a class="header" href="#flow">Flow</a></h2>
<pre class="mermaid">   graph TD;
        A[Setup Sandbox for Perf testing]--&gt;B[Draw a system diagram \nto visualize current and future features, systems,\n and users that involve Salesforce];
        B--&gt;C[For each part of the system: \n estimate peak load levels,\n average load\n levels features used\nIdentify your projected growth pattern];
        C--&gt;D[Calculate the throughput of your system in Requests per Second - RPS];
        D--&gt;E[Estimate the size and shape of your data, including \n    the number of accounts, users, feeds, groups, and other objects];
        E--&gt;F[Identify the key personas for your org and\n plan your tests around their page flows.\nDifferent personas have different data volumes and data visibility];
        F--&gt;G[Measure your browser octane score and network latency using \nthe same hardware and network conditions as your users.\n Resolve any performance issues before testing your org];
        G--&gt;H[For each test:\n Define the scope of your investigation:\n What components are involved in the test?\n What metrics you want to measure?\n Run your performance test multiple times to eliminate variance.\n Run your tests at regular intervals,\n and take note of any changes in response times and throughput. ];
        H--&gt;I[Coordinate testing with Salesforce:\nPerformance tests can generate large amounts of traffic. \nTo avoid having your tests flagged as malicious activity,\ngive Salesforce a heads up];

     
</pre>
<h2 id="now-the-details"><a class="header" href="#now-the-details">Now the details</a></h2>
<ul>
<li>
<p>A good testing strategy evaluates both performance and scalability. Performance refers to the speed and effectiveness of a system under a given workload within a given time frame. Scalability is the ability of a system to meet its response time or throughput objectives under increasing application and system processing demands. Make your implementation performant and scalable.</p>
</li>
<li>
<p>It is about  establishing confidence by observing how <strong>a system performs</strong> while it’s being used, often in increasing amounts of utilization.</p>
</li>
<li>
<p>The Salesforce Platform is multitenant. That means that the underlying resources that power your Salesforce experience are shared by other customers. Intentionally overloading those resources to find their breaking point isn’t neighborly and is not allowed.</p>
</li>
<li>
<p>Process of performance testing </p>
</li>
<li>
<p>Technical aspects on how to test?</p>
</li>
</ul>
<h2 id="goals-1"><a class="header" href="#goals-1">Goals</a></h2>
<ul>
<li>To prove we are confident that the solution can scale to meet the <strong>user needs</strong> without unwanted side effects and performs at-scale.</li>
<li>Page loads load in less than two seconds?</li>
<li>Growing the system:
<ul>
<li>User base - Increase of users?</li>
<li>data volume - Is the amount of data growing at a fast rate?</li>
<li>Requests per second - Requests running too long or even timing out?</li>
</ul>
</li>
</ul>
<h2 id="metrics-and--measurements"><a class="header" href="#metrics-and--measurements">Metrics and  measurements</a></h2>
<ul>
<li>Identify your projected growth pattern</li>
<li>Common challenging growth patterns
<ul>
<li>Changing by an order of magnitude or more  - NX </li>
<li>Growing exponentially</li>
<li>Rapidly or repeatedly doubling</li>
</ul>
</li>
</ul>
<h2 id="points-to-note"><a class="header" href="#points-to-note">Points to note</a></h2>
<ul>
<li>
<p>The Salesforce Platform works hard to ensure that resources don’t become overwhelmed.</p>
</li>
<li>
<p>To prevent customizations from overloading the system, a governor manages resource use and capacity. If you exceed the capacity, then the governor enforces a limit. This might cause errors, or in some cases, throttling.</p>
</li>
<li>
<p>Coordinate testing with Salesforce</p>
<ul>
<li>Performance tests can generate large amounts of traffic. The Salesforce infrastructure teams work hard to make sure that systems are reliable and available. Part of that is identifying malicious traffic and unapproved system behavior</li>
<li>To avoid having your tests flagged as malicious activity, give Salesforce a heads-up about your testing plans by filing a support ticket.</li>
<li>Performance tests must be submitted for approval at least two weeks in advance of the testing date. Requests without a two-week notice are denied unless they’re categorized as urgent.</li>
<li>A copy of the test plan that you created in Performance Assistant
<img src="https://prod-or-s3-cdssf-storage.s3.us-west-2.amazonaws.com/orgcs/kA10M000001Dd8y/ka13y000005HkIJ/0EM3y000002qyeq" alt="test plan" /></li>
<li>The time and date when the test starts and ends</li>
<li>The Organization ID for the sandbox where the test occurs. Performance tests can be conducted only in a sandbox.</li>
<li>The contact information of the person conducting the test, including name, phone number, and email.</li>
<li>The business case or scenario to test, for example, holiday shopping event or new website launch.</li>
<li>The business justification for testing.</li>
<li>If you expect volumes over <strong>40 requests per second</strong>, include the ramp schedule provided in Performance Assistant. </li>
</ul>
<p>-<img src="https://prod-or-s3-cdssf-storage.s3.us-west-2.amazonaws.com/orgcs/kA10M000001Dd8y/ka13y000005HkIJ/0EM3y000002qyev" alt="Ramp" /></p>
</li>
</ul>
<h2 id="best-practices-and-recommendations"><a class="header" href="#best-practices-and-recommendations">Best Practices and recommendations</a></h2>
<h3 id="setting-up-sandbox"><a class="header" href="#setting-up-sandbox">Setting up Sandbox</a></h3>
<ul>
<li>We recommend using a sandbox that is a <strong>full copy of your production org</strong>. Make sure that your sandbox’s 
data model is similar to production.</li>
<li>Sandbox and production orgs exist in <strong>different instances</strong>, have different hardware, and can differ in performance. These differences can be most noticeable in asynchronous processing and database caching. Don’t use sandbox performance as a benchmark for production performance. Likewise, don’t use production as a benchmark for sandbox performance.</li>
</ul>
<h3 id="visualization-and-rps"><a class="header" href="#visualization-and-rps">Visualization and RPS</a></h3>
<ul>
<li>
<p>Draw a system diagram to visualize current and future features, systems, and users that involve Salesforce.</p>
</li>
<li>
<p>For each part of the system, </p>
<ul>
<li>estimate <strong>peak load levels</strong>, </li>
<li>average load levels</li>
<li>features used</li>
<li>Consider user arrival rates, login rates, which pages are viewed, and page views per session. If available, any existing site data as a starting point.</li>
</ul>
</li>
<li>
<p>Calculate the throughput of your system in <strong>Requests per Second (RPS</strong>). </p>
<ul>
<li>RPS combines inbound XMLHttpRequests (XHRs) and API calls, both of which are supported by <a href="perf/../tools//em.html">Event Monitoring</a>.</li>
</ul>
</li>
</ul>
<h3 id="size-and-shape-of-data"><a class="header" href="#size-and-shape-of-data">Size and Shape of data</a></h3>
<ul>
<li>Estimate the <strong>size and shape of your data</strong>, including the number of accounts, users, feeds, groups, and other objects.</li>
<li>In your sandbox org, include any complex relationships between your objects, role hierarchies, and sharing rules.</li>
</ul>
<h3 id="key-personas-and-site-map"><a class="header" href="#key-personas-and-site-map">Key Personas and Site Map</a></h3>
<ul>
<li>After your sandbox org is set up, identify the <strong>key personas</strong> for your org and plan your tests around their page flows. </li>
<li>Different personas have different <strong>data volumes and data visibility</strong>. </li>
<li>Performance for a persona with a wide view of your org’s data, like the VP of Sales, can be different from users with more specialized roles. </li>
<li>Use your key personas to build a site map and identify likely page flows for each persona.</li>
</ul>
<h3 id="set-up-and-run-performance-tests"><a class="header" href="#set-up-and-run-performance-tests">Set Up and Run Performance Tests</a></h3>
<ul>
<li>
<p>Create tests that evaluate your networks, key personas, and data loading.</p>
</li>
<li>
<p><strong>Before measuring your org’s performance</strong>, measure your browser’s <a href="https://mohan-chinnappan-n2.github.io/2019/lex/perf.html">octane score</a> and network latency using the same hardware and network conditions as your users. Resolve any performance issues before testing your org.</p>
</li>
<li>
<p>For each test</p>
<ul>
<li>Define the scope of your investigation,</li>
<li>What components are involved in the test, </li>
<li>What metrics you want to measure. </li>
<li>Run your performance test multiple times to eliminate variance. </li>
<li>Run your tests at regular intervals, and take note of any changes in response times and throughput.</li>
</ul>
</li>
<li>
<p>Performance testing is an iterative process. Finding and solving issues uncovered by your tests can uncover more issues.</p>
</li>
</ul>
<h2 id="performance-assistant"><a class="header" href="#performance-assistant">Performance Assistant</a></h2>
<ul>
<li>Guides you through the journey of performance testing for scalability</li>
<li>Helps you to generate your test plan and schedule a testing window </li>
</ul>
<p><img src="perf/img/perf-assistant-1.png" alt="PA" /></p>
<hr />
<p><img src="perf/img/pa-1.png" alt="PA1" /></p>
<hr />
<p><img src="perf/img/pa-2.png" alt="PA2" /></p>
<hr />
<p><img src="perf/img/pa-3.png" alt="PA3" /></p>
<h2 id="references-19"><a class="header" href="#references-19">References</a></h2>
<ul>
<li><a href="https://developer.salesforce.com/blogs/2020/09/introduction-to-performance-testing">Introduction to Performance Testing</a></li>
<li><a href="https://developer.salesforce.com/blogs/2020/09/performance-testing-on-the-lightning-platform">Performance Testing on the Lightning Platform</a></li>
<li><a href="https://help.salesforce.com/s/articleView?id=000384939&amp;type=1">Throttle is/was applied to my org</a></li>
<li><a href="https://help.salesforce.com/s/articleView?id=000387059&amp;type=1">Performance test FAQs</a></li>
<li><a href="https://help.salesforce.com/s/articleView?id=sf.technical_requirements_measuring_ept.htm&amp;type=5">Measure Performance for Your Salesforce Org</a></li>
<li><a href="https://help.salesforce.com/s/articleView?id=sf.technical_requirements_performance_assistant.htm&amp;type=5">Performance Assistant</a></li>
</ul>
<h2 id="tools"><a class="header" href="#tools">Tools</a></h2>
<ul>
<li><a href="https://salesforce.vidyard.com/watch/YkyXtExa1X9z5vbvaErTF5?&amp;_ga=2.182995237.2080135599.1622102138-1467410024.1619418333">Tools for Testing and Diagnostics</a></li>
</ul>
<h2 id="terms"><a class="header" href="#terms">Terms</a></h2>
<h3 id="p95"><a class="header" href="#p95">P95</a></h3>
<p>In load testing, P95 (also known as the 95th percentile) is a metric that indicates the response time that 95% of requests fall below. This means that only 5% of requests take longer than the P95 response time.</p>
<p>For example, let's say you're load testing a web application and you send 100 requests. If the P95 response time is 500ms, this means that 95 of those requests were completed in 500ms or less, while the remaining 5 requests took longer than 500ms.</p>
<p>The P95 metric is useful because it provides insight into the performance of your application for the majority of users. It can help you identify performance bottlenecks and ensure that your application is able to handle traffic from a large number of users.</p>
<h3 id="p99"><a class="header" href="#p99">P99</a></h3>
<p>In load testing, P99 (also known as the 99th percentile) is a metric that indicates the response time that 99% of requests fall below. This means that only 1% of requests take longer than the P99 response time.</p>
<h4 id="examples-1"><a class="header" href="#examples-1">Examples</a></h4>
<h4 id="artillery"><a class="header" href="#artillery">Artillery</a></h4>
<pre><code>vusers.created_by_name.Dev account signup: .................. 10
vusers.created.total: ....................................... 10
vusers.completed: ........................................... 10
vusers.session_length:
  min: ...................................................... 3884.2
  max: ...................................................... 13846.2
  median: ................................................... 12711.5
  p95: ...................................................... 12968.3
  p99: ...................................................... 12968.3
browser.page_domcontentloaded: ........................... 20
browser.response_time:
  min: ...................................................... 0
  max: ...................................................... 1778.8
  median: ................................................... 37.7
  p95: ...................................................... 3828.5
  p99: ...................................................... 3828.5
browser.page_domcontentloaded.dominteractive:
  min: ...................................................... 297
  max: ...................................................... 2247
  median: ................................................... 1002.4
  p95: ...................................................... 1939.5
  p99: ...................................................... 1939.5
browser.page_domcontentloaded.dominteractive.https://artillery.io/:
  min: ...................................................... 427
  max: ...................................................... 2247
  median: ................................................... 1130.2
  p95: ...................................................... 1939.5
  p99: ...................................................... 1939.5
browser.page_domcontentloaded.dominteractive.https://artillery.io/pro/:
  min: ...................................................... 297
  max: ...................................................... 1927
  median: ................................................... 596
  p95: ...................................................... 1380.5
  p99: ...................................................... 1380.5
</code></pre>
<h4 id="k6"><a class="header" href="#k6">K6</a></h4>
<pre><code class="language-js">
// brew install k6
// run: export  K6_BROWSER_ENABLED=true; k6 run kptest.mjs

// kptest.mjs
import { chromium } from 'k6/experimental/browser';
import { check } from 'k6'

export default async function () {
  const browser = chromium.launch({ headless: false });
  const page = browser.newPage();

  try {
    await page.goto('https://test.k6.io/my_messages.php', { waitUntil: 'networkidle' });

    page.locator('input[name=&quot;login&quot;]').type('admin');
    page.locator('input[name=&quot;password&quot;]').type('123');

    await Promise.all([
      page.waitForNavigation(),
      page.locator('input[type=&quot;submit&quot;]').click(),
    ]);

    check(page, {
      'header': page.locator('h2').textContent() == 'Welcome, admin!',
    });
  } finally {
    page.close();
    browser.close();
  }
}
</code></pre>
<pre><code>
        /\      |‾‾| /‾‾/   /‾‾/   
   /\  /  \     |  |/  /   /  /    
  /  \/    \    |     (   /   ‾‾\  
 /          \   |  |\  \ |  (‾)  | 
/ __________ \  |__| \__\ \_____/ .io

execution: local
   script: kptest.mjs
   output: -

scenarios: (100.00%) 1 scenario, 1 max VUs, 10m30s max duration (incl. graceful stop):
         * default: 1 iterations for each of 1 VUs (maxDuration: 10m0s, gracefulStop: 30s)


   ✓ header

   browser_dom_content_loaded.......: avg=8.29ms  min=129µs   med=5.18ms  max=19.58ms  p(90)=16.7ms  p(95)=18.14ms 
   browser_first_contentful_paint...: avg=37.43ms min=19.31ms med=37.43ms max=55.55ms  p(90)=51.92ms p(95)=53.74ms 
   browser_first_meaningful_paint...: avg=55.55ms min=55.55ms med=55.55ms max=55.55ms  p(90)=55.55ms p(95)=55.55ms 
   browser_first_paint..............: avg=37.43ms min=19.31ms med=37.43ms max=55.55ms  p(90)=51.92ms p(95)=53.74ms 
   browser_loaded...................: avg=8.3ms   min=1.36ms  med=4.12ms  max=19.41ms  p(90)=16.35ms p(95)=17.88ms 
   checks...........................: 100.00% ✓ 1        ✗ 0  
   data_received....................: 5.8 kB  1.5 kB/s
   data_sent........................: 2.6 kB  663 B/s
   http_req_connecting..............: avg=12.2ms  min=0s      med=0s      max=61ms     p(90)=36.6ms  p(95)=48.79ms 
   http_req_duration................: avg=44.55ms min=1.23ms  med=28.14ms max=114.44ms p(90)=89.65ms p(95)=102.05ms
   http_req_receiving...............: avg=25.6ms  min=0s      med=26ms    max=51ms     p(90)=41.4ms  p(95)=46.2ms  
   http_req_sending.................: avg=0s      min=0s      med=0s      max=0s       p(90)=0s      p(95)=0s      
   http_req_tls_handshaking.........: avg=6.6ms   min=0s      med=0s      max=33ms     p(90)=19.8ms  p(95)=26.39ms 
   http_reqs........................: 5       1.288394/s
   iteration_duration...............: avg=3.88s   min=3.88s   med=3.88s   max=3.88s    p(90)=3.88s   p(95)=3.88s   
   iterations.......................: 1       0.257679/s
   vus..............................: 1       min=1      max=1
   vus_max..........................: 1       min=1      max=1


running (00m03.9s), 0/1 VUs, 1 complete and 0 interrupted iterations
default ✓ [======================================] 1 VUs  00m03.9s/10m0s  1/1 iters, 1 per VU
</code></pre>
<pre><code class="language-js">// test1.js
import http from &quot;k6/http&quot;;
import { check, sleep } from &quot;k6&quot;;

// Test configuration
export const options = {
  thresholds: {
    // Assert that 99% of requests finish within 3000ms.
    http_req_duration: [&quot;p(99) &lt; 3000&quot;],
  },
  // Ramp the number of virtual users up and down
  stages: [
    { duration: &quot;30s&quot;, target: 15 },
    { duration: &quot;1m&quot;, target: 15 },
    { duration: &quot;20s&quot;, target: 0 },
  ],
};

// Simulated user behavior
export default function () {
  let res = http.get(&quot;https://test-api.k6.io/public/crocodiles/1/&quot;);
  // Validate response status
  check(res, { &quot;status was 200&quot;: (r) =&gt; r.status == 200 });
  sleep(1);
}
</code></pre>
<pre><code>k6 run test1.js 

          /\      |‾‾| /‾‾/   /‾‾/   
     /\  /  \     |  |/  /   /  /    
    /  \/    \    |     (   /   ‾‾\  
   /          \   |  |\  \ |  (‾)  | 
  / __________ \  |__| \__\ \_____/ .io

  execution: local
     script: test1.js
     output: -

  scenarios: (100.00%) 1 scenario, 15 max VUs, 2m20s max duration (incl. graceful stop):
           * default: Up to 15 looping VUs for 1m50s over 3 stages (gracefulRampDown: 30s, gracefulStop: 30s)


     ✓ status was 200

     checks.........................: 100.00% ✓ 1218      ✗ 0   
     data_received..................: 451 kB  4.1 kB/s
     data_sent......................: 155 kB  1.4 kB/s
     http_req_blocked...............: avg=1.41ms   min=1µs     med=5µs     max=423.53ms p(90)=7µs     p(95)=8.14µs  
     http_req_connecting............: avg=823.57µs min=0s      med=0s      max=341.59ms p(90)=0s      p(95)=0s      
   ✓ http_req_duration..............: avg=59.04ms  min=28.25ms med=36.12ms max=655.37ms p(90)=86.64ms p(95)=187.46ms
       { expected_response:true }...: avg=59.04ms  min=28.25ms med=36.12ms max=655.37ms p(90)=86.64ms p(95)=187.46ms
     http_req_failed................: 0.00%   ✓ 0         ✗ 1218
     http_req_receiving.............: avg=59.58µs  min=18µs    med=55µs    max=167µs    p(90)=94µs    p(95)=98µs    
     http_req_sending...............: avg=21.4µs   min=7µs     med=19µs    max=76µs     p(90)=36µs    p(95)=40µs    
     http_req_tls_handshaking.......: avg=562.16µs min=0s      med=0s      max=81.86ms  p(90)=0s      p(95)=0s      
     http_req_waiting...............: avg=58.96ms  min=28.21ms med=36.04ms max=655.29ms p(90)=86.55ms p(95)=187.37ms
     http_reqs......................: 1218    10.964403/s
     iteration_duration.............: avg=1.06s    min=1.02s   med=1.03s   max=1.65s    p(90)=1.09s   p(95)=1.18s   
     iterations.....................: 1218    10.964403/s
     vus............................: 1       min=1       max=15
     vus_max........................: 15      min=15      max=15


running (1m51.1s), 00/15 VUs, 1218 complete and 0 interrupted iterations
default ✓ [======================================] 00/15 VUs  1m50s
</code></pre>
<h3 id="playwright--k6"><a class="header" href="#playwright--k6">Playwright + K6</a></h3>
<ul>
<li>
<p>Steps</p>
</li>
<li>
<p>Write a Playwright script: Use the Playwright API to write a script that automates the interactions with your web application, such as clicking on buttons, filling out forms, and navigating to different pages. This script should simulate a realistic user scenario.</p>
</li>
<li>
<p>Instrument the script: Add K6's instrumentation to your Playwright script. This will allow you to measure performance metrics, such as response time and throughput, during the test. You can use the K6 script generator to generate the instrumented script.</p>
</li>
<li>
<p>Run the test: Use the K6 CLI to run the instrumented script. You can customize the number of virtual users and other test parameters to simulate realistic user traffic.</p>
</li>
<li>
<p>Analyze the results: After the test is complete, K6 will generate a report with performance metrics and other details. You can use this report to identify any performance issues and optimize your web application.</p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="testing-with-playwright"><a class="header" href="#testing-with-playwright">Testing with Playwright</a></h1>
<h2 id="performance-testing-with-artillery-and--playwright"><a class="header" href="#performance-testing-with-artillery-and--playwright">Performance testing with Artillery and  Playwright</a></h2>
<p><img src="perf/img/pw-1.webm.gif" alt="Playwright Codegen" /></p>
<pre><code class="language-js">import { test, expect } from '@playwright/test';

test('test', async ({ page }) =&gt; {
  await page.goto('https://www.google.com/');
  await page.getByRole('button', { name: 'Google Search' }).click();
  await page.getByRole('link', { name: 'Introducing Lightning Web Components - Salesforce Developers https://developer.salesforce.com › documentation › lwc' }).click();
  await page.getByRole('link', { name: 'Work with Salesforce Data' }).click();
  await page.getByRole('treeitem', { name: 'Use Components Outside Salesforce' }).locator('div').click();
  await page.getByRole('link', { name: 'Test Lightning Web Components' }).click();
});

</code></pre>
<p><img src="perf/img/pw-artillery-1.webm.gif" alt="Demo" /></p>
<ul>
<li>
<p><a href="https://playwright.dev/">Playwright</a> is a modern end-to-end browser testing framework. Artillery integrates with Playwright to let you run load tests with real headless browsers.</p>
</li>
<li>
<p>Uses  <strong>playwright codegen</strong> to generate test scripts fast</p>
</li>
<li>
<p><a href="https://github.com/artilleryio/artillery-engine-playwright#readme">artillery-engine-playwright</a></p>
</li>
</ul>
<pre><code>artillery version         

        ___         __  _ ____
  _____/   |  _____/ /_(_) / /__  _______  __ ___
 /____/ /| | / ___/ __/ / / / _ \/ ___/ / / /____/
/____/ ___ |/ /  / /_/ / / /  __/ /  / /_/ /____/
    /_/  |_/_/   \__/_/_/_/\___/_/   \__  /
                                    /____/


VERSION INFO:

Artillery: 2.0.0-29
Node.js:   v16.17.1
OS:        darwin

</code></pre>
<ul>
<li>Artillery is centered around the concept of virtual users. (VUs)</li>
</ul>
<iframe width="920" height="600" src="https://www.youtube.com/embed/cw4EXTzgFRU" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<h3 id="config-file--test-definition"><a class="header" href="#config-file--test-definition">Config file  (Test Definition)</a></h3>
<ul>
<li>A test definition is written as a YAML file </li>
<li>The artillery CLI is then used to run that test definition.</li>
</ul>
<pre><code class="language-yml">config:
  target: https://www.artillery.io
  # Enable the Playwright engine:
  engines:
    playwright: {}
  processor: &quot;./flows.js&quot;
scenarios:
  - engine: playwright
    flowFunction: &quot;helloFlow&quot;
    flow: []
</code></pre>
<pre><code>cat flow.js
</code></pre>
<pre><code class="language-js">
module.exports = { helloFlow };
 
async function helloFlow(page) {
  //
  // The code below is just a standard Playwright script:
  //
  // Go to https://artillery.io/
  await page.goto('https://artillery.io/');
  // Click text=Pricing
  await page.click('text=Pricing');
  // assert.equal(page.url(), 'https://artillery.io/pro/');
  // Click text=Sign up
  await page.click('text=Sign up');
}

</code></pre>
<ul>
<li>
<p>Run your tests from your own AWS account with no infra to set up or manage</p>
</li>
<li>
<p>Load test with Playwright— use Playwright to load test with real browsers</p>
</li>
<li>
<p>Test any stack — test HTTP, WebSocket, Socket.io, gRPC, Kafka, HLS, and more</p>
</li>
<li>
<p>Virtual users (VUs) and scenarios</p>
</li>
<li>
<p>Workload modeling</p>
<ul>
<li>A load phase tells Artillery how many virtual users to create over a period of time.</li>
<li>Each virtual user will pick and run one of the scenarios in the test definition and run it to completion.</li>
<li>A test run ends when all virtual users finish running their scenarios. </li>
</ul>
</li>
</ul>
<h3 id="load-tests-vs-smoke-tests"><a class="header" href="#load-tests-vs-smoke-tests">Load tests vs smoke tests</a></h3>
<ul>
<li>Artillery can be used for both <strong>load testing and smoke testing</strong> (also known as synthetic checks, or synthetic tests). The only difference between a load test and a smoke test is the number of VUs created:
<ul>
<li>A load test creates many VUs</li>
<li>A smoke test creates just one VU</li>
</ul>
</li>
</ul>
<h3 id="runtime-platforms"><a class="header" href="#runtime-platforms">Runtime Platforms</a></h3>
<p>By default Artillery will run the test from the <strong>local machine</strong>. Since v2.0.0-21 Artillery can also run tests on arbitrary platforms. Currently, AWS Lambda support is available in preview mode.</p>
<h3 id="examples-2"><a class="header" href="#examples-2">Examples</a></h3>
<ul>
<li>Run a quick test which generates <strong>20 virtual users</strong>, each sending 100 GET requests to the specified target:</li>
</ul>
<pre><code>artillery quick \
    --count 20 \
    --num 100 \
    https://service-foo.preprod.acmecorp.digital/items
</code></pre>
<h3 id="run-a-distributed-test-on-aws-lambda-in-us-east-1-region-using-25-workers"><a class="header" href="#run-a-distributed-test-on-aws-lambda-in-us-east-1-region-using-25-workers">Run a distributed test on AWS Lambda in us-east-1 region using 25 workers:</a></h3>
<pre><code>artillery run \
  --platform aws:lambda \
  --platform-opt region=us-east-1 \
  --count 25 \
  hello-artillery.yml

</code></pre>
<h2 id="references-20"><a class="header" href="#references-20">References</a></h2>
<ul>
<li><a href="https://www.artillery.io/blog/load-testing-with-real-browsers">Launching thousands of browsers for fun and profit</a></li>
<li><a href="https://www.artillery.io/docs/guides/getting-started/installing-artillery">Artillery Docs</a></li>
<li><a href="https://play.artillery.io/">Playground</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="more-with-playwright"><a class="header" href="#more-with-playwright">More with Playwright</a></h1>
<iframe width="900" height="600" src="https://www.youtube.com/embed/RZxMM0O_d7c" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<pre><code class="language-ts">import { test, expect } from '@playwright/test';
import fs from 'fs';

const settings = JSON.parse(fs.readFileSync('/Users/mchinnappan/.playwright/sel2/settings.json', 'utf-8'));

test('test', async ({ page }) =&gt; {
  await page.goto('https://login.salesforce.com/');
  await page.getByLabel('Username').click();
  await page.getByLabel('Username').fill(settings.username);
  await page.getByLabel('Username').press('Tab');
  await page.getByLabel('Password').click();
  await page.getByLabel('Password').fill(settings.password);
  await page.getByRole('button', { name: 'Log In' }).click();
  await page.getByRole('link', { name: 'Setup' }).click();
  await page.getByRole('link', { name: 'Expand - Customize - Level 1' }).click();
  await page.getByRole('link', { name: 'Expand - Accounts - Level 2' }).click();
  await page.getByRole('link', { name: 'Fields' }).click();
  await page.getByRole('link', { name: 'NumLakes' }).click();
  await page.getByRole('button', { name: 'Edit' }).click();
  await page.getByLabel('*Field Name').click();
  await page.getByLabel('*Field Name').fill('NumLakes7');
  page.once('dialog', dialog =&gt; {
    console.log(`Dialog message: ${dialog.message()}`);
    dialog.dismiss().catch(() =&gt; {});
  });
  await page.getByRole('row', { name: 'Custom Field Definition Edit Change Field Type Save Cancel', exact: true }).getByRole('button', { name: 'Save' }).click();
});


</code></pre>
<ul>
<li>Github actions </li>
</ul>
<pre><code class="language-yaml">name: Playwright Tests
on:
  push:
    branches: [ main, master ]
  pull_request:
    branches: [ main, master ]
jobs:
  test:
    timeout-minutes: 60
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3
    - uses: actions/setup-node@v3
      with:
        node-version: 16
    - name: Install dependencies
      run: npm ci
    - name: Install Playwright Browsers
      run: npx playwright install --with-deps
    - name: Run Playwright tests
      run: npx playwright test
    - uses: actions/upload-artifact@v3
      if: always()
      with:
        name: playwright-report
        path: playwright-report/
</code></pre>
<h2 id="recording-with-playwright-in-vscode"><a class="header" href="#recording-with-playwright-in-vscode">Recording with Playwright in VSCode</a></h2>
<pre><code class="language-ts">import { test, expect } from '@playwright/test';

test('test', async ({ page }) =&gt; {
  await page.goto('https://mohan-chinnappan-n5.github.io/xml/sfl-xslt.html');
  await page.getByPlaceholder('Search for XML Type...').click();
  await page.getByPlaceholder('Search for XML Type...').fill('pr');
  await page.getByRole('option', { name: 'profile3' }).click();

  await expect(page.getByRole('button', { name: 'Transform' })).toHaveText('Transform');
});
</code></pre>
<iframe width="900" height="600" src="https://www.youtube.com/embed/KjoC_KQUUt4" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<h4 id="python-version"><a class="header" href="#python-version">Python version</a></h4>
<pre><code class="language-py">from playwright.sync_api import Page, expect


def test_example(page: Page) -&gt; None:
    page.goto(&quot;https://mohan-chinnappan-n5.github.io/xml/sfl-xslt.html&quot;)
    page.get_by_placeholder(&quot;Search for XML Type...&quot;).click()
    page.get_by_placeholder(&quot;Search for XML Type...&quot;).fill(&quot;p&quot;)
    page.get_by_role(&quot;option&quot;, name=&quot;profile3&quot;).click()
    expect(page.get_by_role('button', name='Transform' )).to_have_text('Transform')

</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="salesforce-edge-network"><a class="header" href="#salesforce-edge-network">Salesforce Edge Network</a></h1>
<h2 id="how-to-enable-salesforce-edge-network"><a class="header" href="#how-to-enable-salesforce-edge-network">How to enable Salesforce Edge Network?</a></h2>
<p><img src="perf/img/edge-2.png" alt="enable edge" /></p>
<ul>
<li>To find out the effect of Salesforce Edge Network
<ul>
<li>Run speedtest.jsp (https://instance_url/speedtest.jsp) <strong>without</strong> Edge on
<img src="perf/./img/speedtest_jsp-1.webm.gif" alt="Run Speedtest" /></li>
<li>Repeat the  speedtest.jsp (https://instance_url/speedtest.jsp) <strong>with</strong> Edge on </li>
</ul>
</li>
</ul>
<hr />
<ul>
<li><a href="https://mohan-chinnappan-n2.github.io/2020/network/edge/edge.html">Salesforce Edge</a></li>
</ul>
<iframe id="SalesforceEdge"
    title="Salesforce Edge"
    width="1200"
    height="800"
    src="https://mohan-chinnappan-n2.github.io/2020/network/edge/edge.html">
</iframe>
<div style="break-before: page; page-break-before: always;"></div><h1 id="lightning-experience-queries"><a class="header" href="#lightning-experience-queries">Lightning Experience Queries</a></h1>
<h2 id="terms-1"><a class="header" href="#terms-1">Terms</a></h2>
<ul>
<li>Experienced Page Time (<a href="https://help.salesforce.com/s/articleView?id=sf.technical_requirements_ept.htm&amp;type=5">EPT</a>) is a performance metric Salesforce uses in Lightning to measure page load time. EPT measures how long it takes for a page to load into a state that a user can meaningfully interact with.</li>
</ul>
<p>The EPT is measured as the time from the page start to when no more activity occurs for at least two frames (~33 ms). The two extra frames help to avoid false positives due to asynchronous calls. These calls include any XHR activity, any storage activity, or any user interaction or client-side work of any kind in the main JavaScript thread.</p>
<hr />
<h2 id="topics-18"><a class="header" href="#topics-18">Topics</a></h2>
<ul>
<li><a href="perf/lex-query.html#LightningUsageByBrowserMetrics">LightningUsageByBrowserMetrics</a></li>
<li><a href="perf/lex-query.html#LightningUsageByPageMetrics">LightningUsageByPageMetrics</a></li>
</ul>
<hr />
<p><a name='LightningUsageByBrowserMetrics'></a></p>
<h2 id="lightningusagebybrowsermetrics"><a class="header" href="#lightningusagebybrowsermetrics">LightningUsageByBrowserMetrics</a></h2>
<ul>
<li>Represents Lightning Experience usage grouped by user’s browser</li>
</ul>
<pre><code>
sfdx mohanc:data:query -q &quot;https://raw.githubusercontent.com/mohan-chinnappan-n/cli-dx/master/soql/ept.soql&quot; -u mohan.chinnappan.n.sel@gmail.com -f json  | pbcopy ; open &quot;https://mohan-chinnappan-n5.github.io/viz/datatable/dt.html?c=csv&quot;


</code></pre>
<p><img src="perf/img/browser-metrics-1.png" alt="browser metrics" /></p>
<p><a name='LightningUsageByPageMetrics'></a></p>
<h2 id="lightningusagebypagemetrics"><a class="header" href="#lightningusagebypagemetrics">LightningUsageByPageMetrics</a></h2>
<pre><code>
sfdx mohanc:data:query -q &quot;https://raw.githubusercontent.com/mohan-chinnappan-n/cli-dx/master/soql/pageEPT_top10.soql&quot; -u mohan.chinnappan.n.sel@gmail.com -f json | pbcopy ; open &quot;https://mohan-chinnappan-n5.github.io/viz/datatable/dt.html?c=csv&quot;

</code></pre>
<p><img src="perf/img/page-metrics-1.png" alt="Page metrics" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="real-user-monitoring-rum-and-synthetic-monitoring"><a class="header" href="#real-user-monitoring-rum-and-synthetic-monitoring">Real User Monitoring (RUM) and Synthetic Monitoring</a></h1>
<h2 id="rum"><a class="header" href="#rum">RUM</a></h2>
<ul>
<li>An approach to monitoring and providing insights into web performance</li>
<li>Generally best suited for understanding <strong>long-term trends</strong></li>
<li>Measures the performance of a page from real users' machines. </li>
</ul>
<h3 id="how-it-works"><a class="header" href="#how-it-works">How it works?</a></h3>
<ul>
<li>Generally, a third party script injects a script <strong>on each page</strong> to measure and report back on page load data for <strong>every request made</strong>. This technique monitors an application's actual user interactions.</li>
<li>The browsers of real users report back performance metrics experienced. </li>
<li>Helps identify how an application is being used, including the geographic distribution of users and the impact of that distribution on the end user experience.</li>
<li>As users interact with an application, all performance timings are captured, regardless of what actions are taken or pages viewed.</li>
<li>Monitors actual use cases, not the synthetic, assumed use cases predefined by an engineer</li>
<li>Business can better understand its users and identify the areas on its site that require the most attention.</li>
<li>Helps to understand the geographic or channel distribution trends of your users. The can help you better define your business plan and, from a monitoring perspective, allows you to identify key areas to target for optimization and performance improvements.</li>
</ul>
<h2 id="synthetic-monitoring"><a class="header" href="#synthetic-monitoring">Synthetic Monitoring</a></h2>
<ul>
<li>
<p>Involves monitoring the performance of a page in a 'laboratory' environment</p>
</li>
<li>
<p>Well suited to regression testing and mitigating shorter-term performance issues during development. </p>
</li>
<li>
<p>Typically with automation tooling in a consistent as possible environment.</p>
</li>
<li>
<p>Involves deploying scripts to simulate the path an end user might take through a web application, reporting back the performance the <strong>simulator</strong> experiences.</p>
</li>
<li>
<p>The traffic measured is <strong>not of your actual users</strong>, but rather <strong>synthetically generated traffic</strong> collecting data on page performance.</p>
</li>
<li>
<p>It is done in a controlled environment where variable like geography, network, device, browser, and cached status are predetermined.</p>
</li>
<li>
<p>Controlling for environmental variables is helpful in understanding where <strong>performance bottlenecks have been occurring</strong> and identifying the source of any performance issues</p>
</li>
<li>
<p>Important component of regression testing and production site monitoring. </p>
</li>
</ul>
<table><thead><tr><th>RUM</th><th>Synthetic</th></tr></thead><tbody>
<tr><td>Well suited for catching regressions during development life cycles, especially with network throttling</td><td>Provides real metrics from real users using the site or application.</td></tr>
<tr><td>Inexpensive, and great for spot-checking performance during development as an effective way to measure the effect of code changes, but it doesn't reflect what real users are experiencing and provides only a narrow view of performance.</td><td>More expensive and likely less convenient, it provides vital user experience data.</td></tr>
</tbody></table>
<h2 id="performance-apis"><a class="header" href="#performance-apis">Performance APIs</a></h2>
<ul>
<li>The Performance interface provides access to performance-related information for the current page.</li>
</ul>
<p><img src="perf/img/timestamp-diagram.svg" alt="timestamps" /></p>
<pre><code class="language-js">const navigationEntries = performance.getEntriesByType(&quot;navigation&quot;)[0];
navigationEntries


</code></pre>
<p><img src="perf/img/sf-perf-1.png" alt="sf perf" /></p>
<pre><code class="language-js">const resourceListEntries = performance.getEntriesByType(&quot;resource&quot;);
resourceListEntries

</code></pre>
<pre><code class="language-js">const dnsTime = navigationEntries.domainLookupEnd - navigationEntries.domainLookupStart;
</code></pre>
<pre><code>dnsTime
0
</code></pre>
<p><img src="perf/img/sf-perf-2.png" alt="sf perf2" /></p>
<h3 id="using---puppeteer-to-view-performancetiming"><a class="header" href="#using---puppeteer-to-view-performancetiming">Using   puppeteer to view performance.timing</a></h3>
<pre><code class="language-js">#!/usr/bin/env node
const puppeteer = require(&quot;puppeteer&quot;);

const site = process.argv[2] || &quot;https://google.com&quot;;
const type = process.argv[3] || &quot;resource&quot;;
  console.log( `=== Getting performanceTiming: ${type} for site: ${site}: ===`);
 
(async () =&gt; {
  const browser = await puppeteer.launch();
  const page = await browser.newPage();
  await page.goto(site);

  // Executes Navigation API within the page context

  let performanceTiming;
  if (type === &quot;resource&quot;) {
    performanceTiming = JSON.parse(
      await page.evaluate(() =&gt;
        JSON.stringify(window.performance.getEntriesByType(&quot;resource&quot;))
      )
    );
  } else if (type === &quot;all&quot;) {
    performanceTiming = JSON.parse(
      await page.evaluate(() =&gt; JSON.stringify(window.performance.timing))
    );
  }
  console.log(
    `performanceTiming: ${type} for site: ${site}:`,
    performanceTiming
  );
  await browser.close();
})();

</code></pre>
<pre><code>./webperf.js https://google.com all     
=== Getting performanceTiming: all for site: https://google.com: ===

performanceTiming: all for site: https://google.com: 
</code></pre>
<pre><code class="language-json">{
  connectStart: 1677720916684,
  navigationStart: 1677720916432,
  secureConnectionStart: 1677720916709,
  fetchStart: 1677720916682,
  domContentLoadedEventStart: 1677720917232,
  responseStart: 1677720916935,
  domInteractive: 1677720917153,
  domainLookupEnd: 1677720916684,
  responseEnd: 1677720917010,
  redirectStart: 0,
  requestStart: 1677720916750,
  unloadEventEnd: 0,
  unloadEventStart: 0,
  domLoading: 1677720917031,
  domComplete: 1677720917640,
  domainLookupStart: 1677720916683,
  loadEventStart: 1677720917641,
  domContentLoadedEventEnd: 1677720917232,
  loadEventEnd: 1677720917645,
  redirectEnd: 0,
  connectEnd: 1677720916750
}


</code></pre>
<pre><code>./webperf.js https://google.com resource
</code></pre>
<pre><code>=== Getting performanceTiming: resource for site: https://google.com: ===
performanceTiming: resource for site: https://google.com: 
</code></pre>
<pre><code class="language-json">[
  {
    name: 'https://www.google.com/xjs/_/js/k=xjs.s.en_US.y9vzKGrGO0c.O/am=AIHIJ1wBcAAAAgAAABARAAAAAABgAACGACAAAAgAoBAGQQwGwFIJAAAAGH0QAQAAMABAAQwcBRAAAAAA-QMA8AIgBhMWAAAAAAAAAEBwEgSDGyQoCAABAAAAAAAAQJVMXFxBCA/d=1/ed=1/dg=2/rs=ACT90oFPVvppotwAo2N5XMiB1X5DNHmb0g/m=cdos,cr,dpf,hsm,jsa,d,csi',
    entryType: 'resource',
    startTime: 994.6000000238419,
    duration: 97.5,
    initiatorType: 'script',
    nextHopProtocol: 'h2',
    renderBlockingStatus: 'non-blocking',
    workerStart: 0,
    redirectStart: 0,
    redirectEnd: 0,
    fetchStart: 994.6000000238419,
    domainLookupStart: 994.6000000238419,
    domainLookupEnd: 994.6000000238419,
    connectStart: 994.6000000238419,
    secureConnectionStart: 994.6000000238419,
    connectEnd: 994.6000000238419,
    requestStart: 1015.2999999523163,
    responseStart: 1035.1999999284744,
    responseEnd: 1092.1000000238419,
    transferSize: 314805,
    encodedBodySize: 314505,
    decodedBodySize: 897753,
    responseStatus: 200,
    serverTiming: []
  },
]
</code></pre>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/PerformanceNavigationTiming">PerformanceNavigationTiming</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/PerformanceResourceTiming">PerformanceResourceTiming</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/PerformanceMark">PerformanceMark</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/PerformanceMeasure">PerformanceMeasure</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/PerformancePaintTiming">PerformancePaintTiming</a>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Glossary/First_paint">First paint - FP</a> 
<ul>
<li>Time when anything is rendered. Note that the marking of the first paint is optional, not all user agents (browsers) report it.</li>
</ul>
</li>
<li><a href="https://developer.mozilla.org/en-US/docs/Glossary/First_contentful_paint">First contentful paint - FCP</a>
<ul>
<li>when the browser renders the first bit of content from the DOM</li>
<li>FCP timestamp is when the browser first rendered any text, image (including background images), video, canvas that had been drawn into, or non-empty SVG.</li>
</ul>
</li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/LargestContentfulPaint">LargestContentfulPaint LCP</a>
<ul>
<li>Provides timing information about the <strong>largest image</strong> or text paint before user input on a web page.</li>
</ul>
</li>
<li>Helps you minimize the time that users have to wait before they can see the site's content start to appear</li>
</ul>
</li>
</ul>
<h2 id="references-21"><a class="header" href="#references-21">References</a></h2>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/Performance/Rum-vs-Synthetic">MDN - Performance Monitoring: RUM vs. synthetic monitoring</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="diagram-tools"><a class="header" href="#diagram-tools">Diagram tools</a></h1>
<p><img src="dwg/../img/cover/chromecast-butterfly-1.jpg" alt="sea - butterfly " /></p>
<h2 id="uml-sequence-diagram-tool"><a class="header" href="#uml-sequence-diagram-tool">UML Sequence diagram tool</a></h2>
<ul>
<li>
<p><a href="https://mohan-chinnappan-n2.github.io/2019/viz/seq/seq.html">URL</a></p>
<iframe id="inlineFrameExample"
  title="Inline Frame Example"
  width="1100"
  height="800"
  src="https://mohan-chinnappan-n2.github.io/2019/viz/seq/seq.html">
</li>
</ul>
</iframe>
<hr />
<h2 id="diagram-editor"><a class="header" href="#diagram-editor">Diagram Editor</a></h2>
<ul>
<li><a href="https://mohan-chinnappan-n5.github.io//2021/dwg/pg/dwg2.html">URL</a></li>
</ul>
<iframe id="inlineFrameExample"
    title="Inline Frame Example"
    width="1100"
    height="800"
    src="https://mohan-chinnappan-n5.github.io//2021/dwg/pg/dwg2.html">
</iframe>
<hr />
<h2 id="crma-dataflow-viz"><a class="header" href="#crma-dataflow-viz">CRMA Dataflow Viz</a></h2>
<ul>
<li>
<p><a href="https://mohan-chinnappan-n5.github.io/2021/ea/df/dfviz.html">URL</a></p>
<iframe id="inlineFrameExample"
  title="Inline Frame Example"
  width="1100"
  height="800"
  src="https://mohan-chinnappan-n5.github.io/2021/ea/df/dfviz.html">
</li>
</ul>
</iframe>
<div style="break-before: page; page-break-before: always;"></div><h1 id="xml-tools"><a class="header" href="#xml-tools">XML tools</a></h1>
<h2 id="topics-19"><a class="header" href="#topics-19">Topics</a></h2>
<ul>
<li><a href="xml/xml-tools.html#checkEmails">Checks email-Ids in  given folder of xml</a></li>
<li><a href="xml/xml-tools.html#checkObjectIds">Checks ObjectIds in  given folder of xml</a></li>
<li><a href="xml/xml-tools.html#xmlTransformer">XML Transformer</a></li>
<li><a href="xml/xml-tools.html#stf">Using our CLI you can convert that XLF file into TSV</a></li>
<li><a href="xml/xml-tools.html#valid">Checks XML files in given folder is valid or not?</a></li>
<li><a href="xml/xml-tools.html#reporttypes">Find Object.Field from Report Types</a></li>
</ul>
<p><a name='checkEmails'></a></p>
<h2 id="checks-email-ids-in--given-folder-of-xml"><a class="header" href="#checks-email-ids-in--given-folder-of-xml">Checks email-Ids in  given folder of xml</a></h2>
<ul>
<li>You can use this tool to find out any hard-corded email ids are in the code</li>
</ul>
<pre><code>sfdx mohanc:xml:email --help
Checks emails in  given folder of xml

USAGE
  $ sfdx mohanc xml email [-p &lt;string&gt;] [--json] [--loglevel trace|debug|info|warn|error|fatal|TRACE|DEBUG|INFO|WARN|ERROR|FATAL]

FLAGS
  -p, --path=&lt;value&gt;                                                                Path to the xml files folder
  --json                                                                            format output as json
  --loglevel=(trace|debug|info|warn|error|fatal|TRACE|DEBUG|INFO|WARN|ERROR|FATAL)  [default: warn] logging level for this command invocation

DESCRIPTION
  Checks emails in  given folder of xml

EXAMPLES
      ** Checks emails in  given folder of xml **
    
      sfdx mohanc:xml:email -p &lt;path/to/xml_files&gt;

</code></pre>
<h2 id="checks-objectids-in--given-folder-of-xml"><a class="header" href="#checks-objectids-in--given-folder-of-xml">Checks ObjectIds in  given folder of xml</a></h2>
<ul>
<li>You can use this tool to find out any hard-corded ObjectIds  are in the code</li>
</ul>
<pre><code>sfdx mohanc:xml:objectId --help                           
Checks ObjectIds in  given folder of xml

USAGE
  $ sfdx mohanc xml objectId [-p &lt;string&gt;] [--json] [--loglevel trace|debug|info|warn|error|fatal|TRACE|DEBUG|INFO|WARN|ERROR|FATAL]

FLAGS
  -p, --path=&lt;value&gt;                                                                Path to the xml files folder
  --json                                                                            format output as json
  --loglevel=(trace|debug|info|warn|error|fatal|TRACE|DEBUG|INFO|WARN|ERROR|FATAL)  [default: warn] logging level for this command invocation

DESCRIPTION
  Checks ObjectIds in  given folder of xml

EXAMPLES
      ** Checks ObjectIds in  given folder of xml **
    
      sfdx mohanc:xml:objectId -p &lt;path/to/xml_files&gt;
    

</code></pre>
<p><a name='checkObjectIds'></a></p>
<h2 id="convert-given-xml-file-into-json"><a class="header" href="#convert-given-xml-file-into-json">Convert given XML file into JSON</a></h2>
<pre><code>Convert given XML file into JSON

USAGE
  $ sfdx mohanc xml xml2json [-i &lt;string&gt;] [--json] [--loglevel trace|debug|info|warn|error|fatal|TRACE|DEBUG|INFO|WARN|ERROR|FATAL]

FLAGS
  -i, --inputfilename=&lt;value&gt;                                                       Data file input in XML format
  --json                                                                            format output as json
  --loglevel=(trace|debug|info|warn|error|fatal|TRACE|DEBUG|INFO|WARN|ERROR|FATAL)  [default: warn] logging level for this command invocation

DESCRIPTION
  Convert given XML file into JSON

EXAMPLES
      ** Convert given XML file into JSON **
    
      sfdx mohanc:xml:xml2json -i /tmp/cd.xml 

</code></pre>
<h3 id="demo-11"><a class="header" href="#demo-11">Demo</a></h3>
<pre><code>sfdx mohanc:xml:xml2json -i force-app/main/default/profiles/Admin.profile-meta.xml
bat force-app/main/default/profiles/Admin.profile-meta.xml.json 
───────┬───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
       │ File: force-app/main/default/profiles/Admin.profile-meta.xml.json
───────┼───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
   1   │ {
   2   │     &quot;?xml&quot;: &quot;&quot;,
   3   │     &quot;Profile&quot;: {
   4   │         &quot;custom&quot;: false,
   5   │         &quot;objectPermissions&quot;: [
   6   │             {
   7   │                 &quot;allowCreate&quot;: true,
   8   │                 &quot;allowDelete&quot;: true,
   9   │                 &quot;allowEdit&quot;: true,
  10   │                 &quot;allowRead&quot;: true,
  11   │                 &quot;modifyAllRecords&quot;: true,
  12   │                 &quot;object&quot;: &quot;Account_Plan__c&quot;,
  13   │                 &quot;viewAllRecords&quot;: true
  14   │             },
  15   │             {
  16   │                 &quot;allowCreate&quot;: true,
  17   │                 &quot;allowDelete&quot;: true,
  18   │                 &quot;allowEdit&quot;: true,
  19   │                 &quot;allowRead&quot;: true,
  20   │                 &quot;modifyAllRecords&quot;: true,
  21   │                 &quot;object&quot;: &quot;Sales_Play__c&quot;,
  22   │                 &quot;viewAllRecords&quot;: true
  23   │             },
  24   │             {
  25   │                 &quot;allowCreate&quot;: true,
  26   │                 &quot;allowDelete&quot;: true,
  27   │                 &quot;allowEdit&quot;: true,
  28   │                 &quot;allowRead&quot;: true,
  29   │                 &quot;modifyAllRecords&quot;: true,
  30   │                 &quot;object&quot;: &quot;Tree__c&quot;,
  31   │                 &quot;viewAllRecords&quot;: true
:
</code></pre>
<p><a name='xmlTransformer'></a></p>
<h2 id="xml-transformer"><a class="header" href="#xml-transformer">XML Transformer</a></h2>
<pre><code>sfdx mohanc:xml:transform --help                                                         
Transform given xml using XSLT

USAGE
  $ sfdx mohanc xml transform [-i &lt;string&gt;] [-t &lt;string&gt;] [-m &lt;string&gt;] [--json] [--loglevel
    trace|debug|info|warn|error|fatal|TRACE|DEBUG|INFO|WARN|ERROR|FATAL]

FLAGS
  -i, --inputfilename=&lt;value&gt;                                                       Data file in XML format you want to do the transformation
  -m, --mtype=&lt;value&gt;                                                               metadata type: Supported: [package,profile, permset]
  -t, --xsltfilename=&lt;value&gt;                                                        XSLT file to do the transformation
  --json                                                                            format output as json
  --loglevel=(trace|debug|info|warn|error|fatal|TRACE|DEBUG|INFO|WARN|ERROR|FATAL)  [default: warn] logging level for this command invocation

DESCRIPTION
  Transform given xml using XSLT

EXAMPLES
      ** Transform given xml using XSLT **
    
      sfdx mohanc:xml:transform -i /tmp/cd.xml -t /tmp/cd.xslt
</code></pre>
<iframe width="800" height="400" src="https://www.youtube.com/embed/dK2IzpwxO_w" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<p><a name='stf'></a></p>
<h2 id="using--cli-you-can-convert-the-xlf-file-into-tsv"><a class="header" href="#using--cli-you-can-convert-the-xlf-file-into-tsv">Using  CLI you can convert the XLF file into TSV</a></h2>
<ul>
<li><a href="https://github.com/mohan-chinnappan-n/cli-dx/blob/master/i18n/stf/xsl/stf2tsvHtml.xsl">stf2tsvHtml.xsl</a> used here</li>
</ul>
<pre><code>sfdx mohanc:xml:transform -i img/exported-2.xlf -t xsl/stf2tsvHtml.xsl
</code></pre>
<p>Above command will open a HTML page with TSV file loaded in a textarea. You can cut and paste the content of the textarea to create a TSV file.</p>
<p><img src="https://raw.githubusercontent.com/mohan-chinnappan-n/cli-dx/master/i18n/stf/img/xliff2tsv.png" alt="Xliff2tsv" /></p>
<ul>
<li>If you want to view the XLIFF file as a TSV page:</li>
</ul>
<pre><code>sfdx mohanc:xml:transform -i img/exported-2.xlf -t xsl/stf2tsv.xsl
=== Writing the output into file : img/exported-2.xlf.out.xml.html ===

</code></pre>
<p><img src="https://raw.githubusercontent.com/mohan-chinnappan-n/cli-dx/master/i18n/stf/img/xliff2tsv2.png" alt="xmliff2tsv" /></p>
<ul>
<li>If you want to view the XLIFF file as a HTML page:</li>
</ul>
<pre><code>sfdx mohanc:xml:transform -i img/exported-2.xlf -t xsl/stf2html.xsl
=== Writing the output into file : img/exported-2.xlf.out.xml.html ===

</code></pre>
<p><img src="https://raw.githubusercontent.com/mohan-chinnappan-n/cli-dx/master/i18n/stf/img/xliff2html.png" alt="xmliff2html" /></p>
<hr />
<p><a name='valid'></a></p>
<h2 id="checks-xml-files-in-given-folder-is-valid-or-not"><a class="header" href="#checks-xml-files-in-given-folder-is-valid-or-not">Checks XML files in given folder is valid or not?</a></h2>
<pre><code>sfdx mohanc:xml:validate -p force-app/main/default/profiles/ --help
Checks given folder of xml is valid or not 

USAGE
  $ sfdx mohanc xml validate -p &lt;string&gt; [-i] [--json] [--loglevel trace|debug|info|warn|error|fatal|TRACE|DEBUG|INFO|WARN|ERROR|FATAL]

FLAGS
  -i, --invalid                                                                     Print only invalid
  -p, --path=&lt;value&gt;                                                                (required) Path to the xml files folder
  --json                                                                            format output as json
  --loglevel=(trace|debug|info|warn|error|fatal|TRACE|DEBUG|INFO|WARN|ERROR|FATAL)  [default: warn] logging level for this command invocation

DESCRIPTION
  Checks given folder of xml is valid or not

EXAMPLES
      ** Checks given folder of xml is valid or not  **
    
      sfdx mohanc:xml:validate -p &lt;path/to/xml_files&gt; -i
      - lists out xml files in the given path are valid or not 
      -i flag provides only invalid files
   
</code></pre>
<h3 id="demo-12"><a class="header" href="#demo-12">Demo</a></h3>
<ul>
<li>You can redirect to a TSV file and view in a spreadsheet program</li>
</ul>
<pre><code>sfdx mohanc:xml:validate -p force-app/main/default/profiles/
force-app/main/default/profiles/Admin.profile-meta.xml	Admin.profile-meta.xml	true
force-app/main/default/profiles/Analytics Cloud Integration User.profile-meta.xml	Analytics Cloud Integration User.profile-meta.xml	true
force-app/main/default/profiles/Analytics Cloud Security User.profile-meta.xml	Analytics Cloud Security User.profile-meta.xml	true
force-app/main/default/profiles/Authenticated Website.profile-meta.xml	Authenticated Website.profile-meta.xml	true
force-app/main/default/profiles/Chatter External User.profile-meta.xml	Chatter External User.profile-meta.xml	true
force-app/main/default/profiles/Chatter Free User.profile-meta.xml	Chatter Free User.profile-meta.xml	true
force-app/main/default/profiles/Chatter Moderator User.profile-meta.xml	Chatter Moderator User.profile-meta.xml	true
force-app/main/default/profiles/ContractManager.profile-meta.xml	ContractManager.profile-meta.xml	true
force-app/main/default/profiles/Cross Org Data Proxy User.profile-meta.xml	Cross Org Data Proxy User.profile-meta.xml	true
force-app/main/default/profiles/Custom%3A Marketing Profile.profile-meta.xml	Custom%3A Marketing Profile.profile-meta.xml	true
force-app/main/default/profiles/Custom%3A Sales Profile.profile-meta.xml	Custom%3A Sales Profile.profile-meta.xml	true
force-app/main/default/profiles/Custom%3A Support Profile.profile-meta.xml	Custom%3A Support Profile.profile-meta.xml	true
force-app/main/default/profiles/Customer Community Login User.profile-meta.xml	Customer Community Login User.profile-meta.xml	true
force-app/main/default/profiles/Customer Community Plus Login User.profile-meta.xml	Customer Community Plus Login User.profile-meta.xml	true
force-app/main/default/profiles/Customer Community Plus User.profile-meta.xml	Customer Community Plus User.profile-meta.xml	true
force-app/main/default/profiles/Customer Community User.profile-meta.xml	Customer Community User.profile-meta.xml	true
force-app/main/default/profiles/Customer Portal Manager Custom.profile-meta.xml	Customer Portal Manager Custom.profile-meta.xml	true
force-app/main/default/profiles/Customer Portal Manager Standard.profile-meta.xml	Customer Portal Manager Standard.profile-meta.xml	true
force-app/main/default/profiles/External Apps Login User.profile-meta.xml	External Apps Login User.profile-meta.xml	true
force-app/main/default/profiles/External Identity User.profile-meta.xml	External Identity User.profile-meta.xml	true
force-app/main/default/profiles/Force%2Ecom - App Subscription User.profile-meta.xml	Force%2Ecom - App Subscription User.profile-meta.xml	true
force-app/main/default/profiles/Force%2Ecom - Free User.profile-meta.xml	Force%2Ecom - Free User.profile-meta.xml	true
force-app/main/default/profiles/Gold Partner User.profile-meta.xml	Gold Partner User.profile-meta.xml	true
force-app/main/default/profiles/Guest License User.profile-meta.xml	Guest License User.profile-meta.xml	true
force-app/main/default/profiles/High Volume Customer Portal User.profile-meta.xml	High Volume Customer Portal User.profile-meta.xml	true
force-app/main/default/profiles/HighVolumePortal.profile-meta.xml	HighVolumePortal.profile-meta.xml	true
force-app/main/default/profiles/Identity User.profile-meta.xml	Identity User.profile-meta.xml	true
force-app/main/default/profiles/MarketingProfile.profile-meta.xml	MarketingProfile.profile-meta.xml	true
force-app/main/default/profiles/Minimum Access - Salesforce.profile-meta.xml	Minimum Access - Salesforce.profile-meta.xml	true
force-app/main/default/profiles/mohanc Profile.profile-meta.xml	mohanc Profile.profile-meta.xml	true
force-app/main/default/profiles/Partner App Subscription User.profile-meta.xml	Partner App Subscription User.profile-meta.xml	true
force-app/main/default/profiles/Partner Community Login User.profile-meta.xml	Partner Community Login User.profile-meta.xml	true
force-app/main/default/profiles/Partner Community User.profile-meta.xml	Partner Community User.profile-meta.xml	true
force-app/main/default/profiles/PlatformPortal.profile-meta.xml	PlatformPortal.profile-meta.xml	true
force-app/main/default/profiles/Read Only.profile-meta.xml	Read Only.profile-meta.xml	true
force-app/main/default/profiles/Silver Partner User.profile-meta.xml	Silver Partner User.profile-meta.xml	true
force-app/main/default/profiles/SolutionManager.profile-meta.xml	SolutionManager.profile-meta.xml	true
force-app/main/default/profiles/Standard.profile-meta.xml	Standard.profile-meta.xml	true
force-app/main/default/profiles/StandardAul.profile-meta.xml	StandardAul.profile-meta.xml	true
force-app/main/default/profiles/Work%2Ecom Only User.profile-meta.xml	Work%2Ecom Only User.profile-meta.xml	true
</code></pre>
<p><a name='reporttypes'></a></p>
<h2 id="find-objectfield-from-report-types"><a class="header" href="#find-objectfield-from-report-types">Find Object.Field from Report Types</a></h2>
<pre><code>
# get the json file for the given xml file
sfdx mohanc:xml:xml2json -i  MyReport.reportType-meta.xml
# get the Object.Fields from the the reports
sfdx mohanc:data:jq  -i MyReport.reportType-meta.xml.json -f '.ReportType.sections[].columns[] | .table + &quot;.&quot; + .field'

&quot;Account.Type&quot;
&quot;Account.RecordType&quot;
&quot;Account.Parent&quot;
&quot;Account.BillingAddress&quot;
&quot;Account.BillingStreet&quot;
&quot;Account.BillingCity&quot;
&quot;Account.BillingState&quot;
&quot;Account.BillingPostalCode&quot;
&quot;Account.BillingCountry&quot;
&quot;Account.BillingStateCode&quot;
&quot;Account.BillingCountryCode&quot;
&quot;Account.BillingLatitude&quot;
&quot;Account.BillingLongitude&quot;
&quot;Account.BillingGeocodeAccuracy&quot;
...

</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="xslt-transformer"><a class="header" href="#xslt-transformer">XSLT Transformer</a></h1>
<h2 id="sf-land-xslt-transformer"><a class="header" href="#sf-land-xslt-transformer">SF-Land XSLT Transformer</a></h2>
<ul>
<li><a href="https://mohan-chinnappan-n5.github.io/xml/sfl-xslt.html">APP</a></li>
</ul>
<iframe id="XSLT_Transformer "
    title="XSLT Transformer "
    width="1200"
    height="800"
    src="https://mohan-chinnappan-n5.github.io/xml/sfl-xslt.html">
</iframe>
<h2 id="demos"><a class="header" href="#demos">Demos</a></h2>
<h2 id="-4"><a class="header" href="#-4"><img src="xml/img/xmldelta-1.webm.gif" alt="demo1" /></a></h2>
<p><img src="xml/img/xml-tools-1.webm.gif" alt="demo2" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="xml-delta-util"><a class="header" href="#xml-delta-util">XML Delta Util</a></h1>
<h2 id="app-online"><a class="header" href="#app-online">App Online</a></h2>
<ul>
<li><a href="https://mohan-chinnappan-n5.github.io/delta/xmldelta.html?t=Profile">App</a></li>
</ul>
<iframe id="XMLDeltaUtil "
    title="XML Delta Util"
    width="1200"
    height="800"
    src="https://mohan-chinnappan-n5.github.io/delta/xmldelta.html?t=Profile">
</iframe>
<h3 id="notes"><a class="header" href="#notes">Notes</a></h3>
<ul>
<li>Currently delta tool does not support <code>layoutAssignments</code> </li>
</ul>
<h2 id="demos-1"><a class="header" href="#demos-1">Demos</a></h2>
<h2 id="-5"><a class="header" href="#-5"><img src="xml/img/xmldelta-1.webm.gif" alt="demo1" /></a></h2>
<p><img src="xml/img/xml-tools-1.webm.gif" alt="demo2" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="data-processing-tools"><a class="header" href="#data-processing-tools">Data Processing tools</a></h1>
<h2 id="how-to-convert-csv-file-into-tsv-tab-separated-values-or-psv-pipe-separated-values"><a class="header" href="#how-to-convert-csv-file-into-tsv-tab-separated-values-or-psv-pipe-separated-values">How to convert CSV file into TSV (Tab Separated Values) or PSV (Pipe Separated Values)</a></h2>
<pre><code>cat fruits.csv

name,qty,store
Mango,100,&quot;NY's fruits&quot;
Apple,200,&quot;NY's fruits&quot;
Peach,300,FL
</code></pre>
<h2 id="csv-to-tsv"><a class="header" href="#csv-to-tsv">CSV to TSV</a></h2>
<pre><code>sfdx mohanc:data:file:csv2 -i fruits.csv -d $'\t'
name	qty	store
Mango	100	NY's fruits
Apple	200	NY's fruits
Peach	300	FL

</code></pre>
<h2 id="csv-to-psv"><a class="header" href="#csv-to-psv">CSV to PSV</a></h2>
<pre><code>sfdx mohanc:data:file:csv2 -i fruits.csv -d $'|' 

name|qty|store
Mango|100|NY's fruits
Apple|200|NY's fruits
Peach|300|FL

</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="translation-tools"><a class="header" href="#translation-tools">Translation Tools</a></h1>
<p><img src="i18n/../img/cover/chromecast-flowers-1.jpg" alt="flower" /></p>
<h2 id="topics-20"><a class="header" href="#topics-20">Topics</a></h2>
<ul>
<li><a href="i18n/i18n.html#install">Install Kural CLI</a></li>
<li><a href="i18n/i18n.html#translate">Using Kural CLI to translate</a></li>
<li><a href="i18n/i18n.html#prep">How to prepare translation TSV  from STF file</a></li>
<li><a href="i18n/i18n.html#xlf2tsv">Using  CLI you can convert the XLF file into TSV</a></li>
<li><a href="i18n/i18n.html#fillin">Using CLI to fill-in Salesforce translation file (STF)</a></li>
</ul>
<hr />
<p><a name='install'></a></p>
<h2 id="install"><a class="header" href="#install">Install</a></h2>
<pre><code># linux and mac
sudo npm i -g kural
# windows
npm i -g kural

</code></pre>
<h2 id="chrome-driver"><a class="header" href="#chrome-driver">Chrome Driver</a></h2>
<ul>
<li>Download the <a href="https://raw.githubusercontent.com/mohan-chinnappan-n/kural-docs/master/browser/chromedriver">Chrome Driver file</a> and put this in your PATH</li>
</ul>
<hr />
<h2 id="using-kural-cli-to-translate"><a class="header" href="#using-kural-cli-to-translate">Using Kural CLI to translate</a></h2>
<p><a name='translate'></a></p>
<h2 id="kural-i18ntranslate"><a class="header" href="#kural-i18ntranslate">kural i18n:translate</a></h2>
<ul>
<li>
<p><a href="https://github.com/mohan-chinnappan-n/kural-docs">Kural Docs</a></p>
</li>
<li>
<p>Translates a given sentence into various languages 
and provides verification Google Translate URL (optionally) to verify the translation work</p>
</li>
<li>
<p>Uses Google Translate</p>
</li>
</ul>
<pre><code># Translate to French
 kural i18n:translate -i 'Good Morning, Friends!' -f 'en' -t fr
 Bonjour les amis!

# Translate to Tamil
kural i18n:translate -i 'Good Morning, Friends!' -f 'en' -t ta        
காலை வணக்கம் நண்பர்களே!

# Translate to Telugu
kural i18n:translate -i 'Good Morning, Friends!' -f 'en' -t te      
శుభోదయం మిత్రులారా!


# Translate to Marathi
kural i18n:translate -i 'Good Morning, Friends!' -f 'en' -t mr -g true
सुप्रभात, मित्रांनो!


# Translate to Japanese and launch google translate to verify the translation work
kural i18n:translate -i 'Good Morning, Friends!' -f 'en' -t ja -g true     
おはようございます、友達！

</code></pre>
<ul>
<li>
<p>Translation verification 
<img src="https://raw.githubusercontent.com/mohan-chinnappan-n/kural-docs/master/img/en2ja-1.png" alt="en2ja-1" /></p>
</li>
<li>
<p><a href="https://github.com/mohan-chinnappan-n/kural-docs/blob/master/src/locales.ts">Languages supported -  around 445</a></p>
</li>
</ul>
<hr />
<p><a name='prep'></a></p>
<h2 id="how-to-prepare-translation-tsv--from-stf-file"><a class="header" href="#how-to-prepare-translation-tsv--from-stf-file">How to prepare translation TSV  from STF file</a></h2>
<ul>
<li><a href="https://github.com/mohan-chinnappan-n/cli-dx/blob/master/i18n/stf/img/exportSTF.pdf">Demo showing how to do the export - PDF</a></li>
<li><a href="https://github.com/mohan-chinnappan-n/cli-dx/blob/master/i18n/stf/img/exported-2.stf">exported-2.stf</a> is the input file you got from Translation workbench export</li>
</ul>
<pre><code>sfdx mohanc:i18n:stf:prep -i exported-2.stf &gt; exported-2.stf.tsv
</code></pre>
<h3 id="exported-2stftsv"><a class="header" href="#exported-2stftsv"><a href="https://github.com/mohan-chinnappan-n/cli-dx/blob/master/i18n/stf/img/exported-2.stf.tsv">exported-2.stf.tsv</a></a></h3>
<p><img src="https://raw.githubusercontent.com/mohan-chinnappan-n/cli-dx/master/i18n/stf/img/exported-2.stf.tsv.png" alt="exported-2.stf.tsv" /> </p>
<p><a name='xlf2tsv'></a></p>
<h2 id="using--cli-you-can-convert-the-xlf-file-into-tsv-1"><a class="header" href="#using--cli-you-can-convert-the-xlf-file-into-tsv-1">Using  CLI you can convert the XLF file into TSV</a></h2>
<ul>
<li>
<p>If you exported the <a href="https://github.com/mohan-chinnappan-n/cli-dx/blob/master/i18n/stf/img/exported-2.xlf">XLF file</a> in the translation workbench you will have the information about the <strong>max width/size</strong> of the translation allowed for each key.</p>
</li>
<li>
<p><a href="https://github.com/mohan-chinnappan-n/cli-dx/blob/master/i18n/stf/xsl/stf2tsvHtml.xsl">stf2tsvHtml.xsl</a> used here</p>
</li>
</ul>
<pre><code>sfdx mohanc:xml:transform -i img/exported-2.xlf -t xsl/stf2tsvHtml.xsl
</code></pre>
<p>Above command will open a HTML page with TSV file loaded in a textarea. You can cut and paste the content of the textarea to create a TSV file.</p>
<p><img src="https://raw.githubusercontent.com/mohan-chinnappan-n/cli-dx/master/i18n/stf/img/xliff2tsv.png" alt="Xliff2tsv" /></p>
<ul>
<li>If you want to view the XLIFF file as a TSV page:</li>
</ul>
<pre><code>sfdx mohanc:xml:transform -i img/exported-2.xlf -t xsl/stf2tsv.xsl
=== Writing the output into file : img/exported-2.xlf.out.xml.html ===

</code></pre>
<p><img src="https://raw.githubusercontent.com/mohan-chinnappan-n/cli-dx/master/i18n/stf/img/xliff2tsv2.png" alt="xmliff2tsv" /></p>
<ul>
<li>If you want to view the XLIFF file as a HTML page:</li>
</ul>
<pre><code>sfdx mohanc:xml:transform -i img/exported-2.xlf -t xsl/stf2html.xsl
=== Writing the output into file : img/exported-2.xlf.out.xml.html ===

</code></pre>
<p><img src="https://raw.githubusercontent.com/mohan-chinnappan-n/cli-dx/master/i18n/stf/img/xliff2html.png" alt="xmliff2html" /></p>
<hr />
<p><a name='fillin'></a></p>
<h2 id="using-cli-to-fill-in-salesforce-translation-file-stf"><a class="header" href="#using-cli-to-fill-in-salesforce-translation-file-stf">Using CLI to fill-in Salesforce translation file (STF)</a></h2>
<h3 id="notes-1"><a class="header" href="#notes-1">NOTES</a></h3>
<ul>
<li>You can use <a href="https://github.com/mohan-chinnappan-n/kural-docs">Kural CLI</a> to get free translations</li>
<li>You can use the <a href="https://github.com/mohan-chinnappan-n/cli-dx/blob/master/i18n/stf/csv2.md">csv2</a> for CSV to PSV conversions</li>
</ul>
<hr />
<h3 id="cli-allows-progressive-filling-of-stf-with-translated-files"><a class="header" href="#cli-allows-progressive-filling-of-stf-with-translated-files">CLI allows progressive filling of stf with translated files</a></h3>
<h4 id="steps-4"><a class="header" href="#steps-4">STEPS</a></h4>
<hr />
<ul>
<li><a href="https://github.com/mohan-chinnappan-n/cli-dx/blob/master/i18n/stf/img/exportSTF.pdf">Demo showing how to do the export - PDF</a></li>
</ul>
<ol>
<li>Export STF file for a bilingual (using Translation workbench) - say our case it is French (FR) 
<ul>
<li>Our file say: <a href="https://github.com/mohan-chinnappan-n/cli-dx/blob/master/i18n/stf/img/exported.stf">exported.stf</a></li>
</ul>
</li>
<li>You have translated the keys in this STF file and have the <a href="https://github.com/mohan-chinnappan-n/cli-dx/blob/master/i18n/stf/img/translated-1.psv">translated-1.psv</a> (Pipe Separated Value file)</li>
<li>Create the filled value stf file <a href="https://github.com/mohan-chinnappan-n/cli-dx/blob/master/i18n/stf/img/batch-1.stf">batch-1.stf</a> using this command:</li>
</ol>
<pre><code>sfdx mohanc:i18n:stf:fill -i exported.stf -t  translated-1.psv &gt; batch-1.stf
</code></pre>
<pre><code>cat translated-1.psv
</code></pre>
<pre><code>1|ButtonOrLink.Account.Billing|Billing|Facturation
2|CustomField.Account.CustomerPriority.FieldLabel|Customer Priority|Priorité du client
</code></pre>
<h4 id="batch-1stf"><a class="header" href="#batch-1stf">batch-1.stf</a></h4>
<p><img src="https://raw.githubusercontent.com/mohan-chinnappan-n/cli-dx/master/i18n/stf/img/batch-1.png" alt="batch-1" /></p>
<ol start="4">
<li>Now another translation team has provided you <a href="https://github.com/mohan-chinnappan-n/cli-dx/blob/master/i18n/stf/img/translated-2.psv">translated-2.psv</a></li>
<li>You can apply this translation on top of  <a href="https://github.com/mohan-chinnappan-n/cli-dx/blob/master/i18n/stf/img/batch-1.stf">batch-1.stf</a>, using this command</li>
</ol>
<pre><code>sfdx mohanc:i18n:stf:fill -i batch-1.stf -t  translated-2.psv &gt; batch-2.stf

cat translated-2.psv

1|ButtonOrLink.Opportunity.DeliveryStatus|Delivery Status|Statut de livraison
2|CustomField.Account.NumberofLocations.FieldLabel|Number of Locations|Nombre d'emplacements
</code></pre>
<h4 id="batch-2stf"><a class="header" href="#batch-2stf">batch-2.stf</a></h4>
<p><img src="https://raw.githubusercontent.com/mohan-chinnappan-n/cli-dx/master/i18n/stf/img/batch-2.png" alt="batch-2" /></p>
<ol start="6">
<li>and so on...</li>
<li>You can load <strong>(import)</strong> the final stf file to the org in translation workbench</li>
</ol>
<ul>
<li><a href="https://github.com/mohan-chinnappan-n/cli-dx/blob/master/i18n/stf/img/import-1.pdf">Demo showing Importing STF file</a></li>
</ul>
<ol start="8">
<li>If you export again you will see the results of your translations:</li>
</ol>
<h4 id="exported-2stf"><a class="header" href="#exported-2stf">exported-2.stf</a></h4>
<p><img src="https://raw.githubusercontent.com/mohan-chinnappan-n/cli-dx/master/i18n/stf/img/exported-2.png" alt="Checking Import" /></p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="media---recording-tools"><a class="header" href="#media---recording-tools">Media - Recording tools</a></h1>
<p><img src="media/../img/cover/chromecast-animals-2.jpg" alt="sheep" /></p>
<ul>
<li>Optimized for Chromium based browsers 
<ul>
<li>Chrome</li>
<li>MS Edge</li>
<li>Opera</li>
</ul>
</li>
</ul>
<h2 id="screen-recording-tool-without-audio"><a class="header" href="#screen-recording-tool-without-audio">Screen Recording tool without audio</a></h2>
<ul>
<li><a href="https://mohan-chinnappan-n2.github.io/sr/sr.html">Screen Recorder without audio</a></li>
</ul>
<h2 id="screen-recording-tool-with-audio"><a class="header" href="#screen-recording-tool-with-audio">Screen Recording tool with audio</a></h2>
<ul>
<li><a href="https://mohan-chinnappan-n2.github.io/sr/sra.html">Screen Recorder with audio</a></li>
</ul>
<h2 id="photo-booth"><a class="header" href="#photo-booth">Photo Booth</a></h2>
<ul>
<li><a href="https://mohan-chinnappan-n2.github.io/pb/pb.html">Photo Boot App URL</a></li>
</ul>
<h2 id="audio-recorder-use-a-headset"><a class="header" href="#audio-recorder-use-a-headset">Audio Recorder (use a headset)</a></h2>
<ul>
<li><a href="https://mohan-chinnappan-n2.github.io/ar/ar.html">Audio Recorder App URL</a></li>
</ul>
<h2 id="video-recorder-use-a-headset"><a class="header" href="#video-recorder-use-a-headset">Video Recorder (use a headset)</a></h2>
<ul>
<li><a href="https://mohan-chinnappan-n2.github.io/vr/vr.html">Video Recorder App URL</a></li>
</ul>
<hr />
<h2 id="all-media-tools"><a class="header" href="#all-media-tools">All Media tools</a></h2>
<ul>
<li><a href="https://mohan-chinnappan-n2.github.io/media-app.html">Tools URL</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="image-processing"><a class="header" href="#image-processing">Image Processing</a></h1>
<h2 id="svg-to--png-converter"><a class="header" href="#svg-to--png-converter">SVG to  PNG converter</a></h2>
<ul>
<li><a href="https://mohan-chinnappan-n5.github.io/image/svg2png/svg2png.html">SVG2PNG</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="code-generators"><a class="header" href="#code-generators">Code Generators</a></h1>
<p><img src="codegen/../img/cover/chromecast-solar-flower-1.jpg" alt="Solar flower" /></p>
<ul>
<li><a href="codegen/./lwc.html">LWC Code Generator</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="lwc-code-generator"><a class="header" href="#lwc-code-generator">LWC Code Generator</a></h1>
<p><img src="codegen/../img/cover/chromecast-sea-8.jpg" alt="arch" /></p>
<ul>
<li><a href="codegen/../ml/chatgpt.html">See Also ChatGPT</a></li>
</ul>
<hr />
<ul>
<li>
<p><a href="https://mohan-chinnappan-n5.github.io/2022/dpa/oauth2/callback/codegen.html">URL</a></p>
<iframe id="inlineFrameExample"
  title="Inline Frame Example"
  width="1100"
  height="900"
  src="https://mohan-chinnappan-n5.github.io/2022/dpa/oauth2/callback/codegen.html">
</li>
</ul>
</iframe>
<div style="break-before: page; page-break-before: always;"></div><h1 id="nlp-natural-language-processing"><a class="header" href="#nlp-natural-language-processing">NLP (Natural Language Processing)</a></h1>
<h2 id="playing-with-spacy"><a class="header" href="#playing-with-spacy">Playing with Spacy</a></h2>
<p><img src="ml/img/nlp1.webm.gif" alt="Demo Spacy" /></p>
<h2 id="apex-code-generation-using-nlp"><a class="header" href="#apex-code-generation-using-nlp">Apex Code Generation using NLP</a></h2>
<p><img src="ml/../ml/img/apex-codgen-1.webm.gif" alt="Demo CodeGen" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="machine-learning"><a class="header" href="#machine-learning">Machine Learning</a></h1>
<h2 id="in-this-section-we-will-share-tools-regarding"><a class="header" href="#in-this-section-we-will-share-tools-regarding">In this section we will share tools regarding</a></h2>
<ul>
<li><a href="ml/./sdcg.html">Document Grouping and Compare</a></li>
<li><a href="https://github.com/mohan-chinnappan-n/TCRM-Workbench/blob/master/ml/ml.md">Tools mentioned here</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="semantic-doc-compare-and-group-1"><a class="header" href="#semantic-doc-compare-and-group-1">Semantic Doc Compare and Group</a></h1>
<h2 id="description"><a class="header" href="#description">Description</a></h2>
<ul>
<li>
<p>Semantic Document Compare and Group using Tensorflow and universal-sentence-encoder and plotly. Thanks to 'Attention Is All You Need' paper by Ashish Vaswani and team and thanks to Hong Jing for his articles on this subject!</p>
</li>
<li>
<p><a href="https://marketplace.visualstudio.com/items?itemName=mohanChinnappan.sf-land">VS Code Extension: SF-LAND</a></p>
</li>
<li>
<p><a href="https://arxiv.org/abs/1706.03762">Transformer Paper</a></p>
</li>
<li>
<p><a href="https://www.tensorflow.org/hub/tutorials/semantic_similarity_with_tf_hub_universal_encoder"> Universal Sentence Encoder
</a></p>
</li>
</ul>
<h2 id="demo-13"><a class="header" href="#demo-13">Demo</a></h2>
<iframe width="800" height="400" src="https://www.youtube.com/embed/0brDftpr7FQ" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<div style="break-before: page; page-break-before: always;"></div><h1 id="data-catalog-for-ml-work"><a class="header" href="#data-catalog-for-ml-work">Data Catalog for ML Work</a></h1>
<ul>
<li>You can use these datasets for ML work, please provide a reference this site in your work which will provide encouragement to this work!</li>
</ul>
<hr />
<ul>
<li>
<p><a href="https://mohan-chinnappan-n5.github.io/dfv/catalog.html">URL</a></p>
<iframe id="inlineFrameExample"
  title="Inline Frame Example"
  width="1100"
  height="900"
  src="https://mohan-chinnappan-n5.github.io/dfv/catalog.html">
</li>
</ul>
</iframe>
<div style="break-before: page; page-break-before: always;"></div><h1 id="openai---chatgpt"><a class="header" href="#openai---chatgpt">openAI - ChatGPT</a></h1>
<h2 id="chatgpt-writing-apex-code"><a class="header" href="#chatgpt-writing-apex-code">ChatGPT writing Apex code</a></h2>
<p><img src="https://github.com/mohan-chinnappan-n/openGPT/blob/main/sfdc/openGPT-sf-1.webm.gif?raw=true" alt="Chat GPT - Apex" /></p>
<hr />
<h2 id="chatgpt-writing-scripts"><a class="header" href="#chatgpt-writing-scripts">ChatGPT writing Scripts</a></h2>
<p><img src="https://github.com/mohan-chinnappan-n/openGPT/blob/main/sfdc/chatGPT-script-1.webm.gif?raw=true" alt="Chat GPT - Scripts" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="openai"><a class="header" href="#openai">openAI</a></h1>
<h2 id="writing-a-web-app-with-openai-gpt-3-codex-davinci-codex-engine"><a class="header" href="#writing-a-web-app-with-openai-gpt-3-codex-davinci-codex-engine">Writing a web app with openAI GPT-3 Codex (DaVinci-Codex Engine)</a></h2>
<iframe width="900" height="600" src="https://www.youtube.com/embed/f_WcUDj8RJY" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<h2 id="chat-with-openai-gpt-3-engine"><a class="header" href="#chat-with-openai-gpt-3-engine">Chat with openAI GPT-3 engine!</a></h2>
<iframe width="900" height="600" src="https://www.youtube.com/embed/K_xX5F5j4S0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe><div style="break-before: page; page-break-before: always;"></div><h1 id="einstein-bot"><a class="header" href="#einstein-bot">Einstein Bot</a></h1>
<h2 id="einstein-bot---simple---appointment-scheduler"><a class="header" href="#einstein-bot---simple---appointment-scheduler">Einstein Bot - Simple - Appointment Scheduler</a></h2>
<iframe width="900" height="600" src="https://www.youtube.com/embed/3wDpNNMu6Y0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe><div style="break-before: page; page-break-before: always;"></div><h1 id="dialogflow"><a class="header" href="#dialogflow">Dialogflow</a></h1>
<h2 id="playing-with-dialogflow-knowledge-base-feature"><a class="header" href="#playing-with-dialogflow-knowledge-base-feature">Playing with Dialogflow Knowledge Base feature</a></h2>
<iframe width="900" height="600" src="https://www.youtube.com/embed/J8ttQ1Veo_I" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<hr />
<iframe width="900" height="600" src="https://www.youtube.com/embed/RCbgP1pAep0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<hr />
<ul>
<li><a href="https://mohan-chinnappan-n5.github.io/2022/ai/bots/askme.html#">Dialogflow Knowledge Feature Testing App</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="nlp-natural-language-processing-1"><a class="header" href="#nlp-natural-language-processing-1">NLP (Natural Language Processing)</a></h1>
<h2 id="playing-with-spacy-1"><a class="header" href="#playing-with-spacy-1">Playing with Spacy</a></h2>
<p><img src="ml/img/nlp1.webm.gif" alt="Demo Spacy" /></p>
<h2 id="apex-code-generation-using-nlp-1"><a class="header" href="#apex-code-generation-using-nlp-1">Apex Code Generation using NLP</a></h2>
<p><img src="ml/../ml/img/apex-codgen-1.webm.gif" alt="Demo CodeGen" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="transformers"><a class="header" href="#transformers"><a href="https://arxiv.org/abs/1706.03762">Transformers</a></a></h1>
<pre><code>Model success depends on how fast you can build it and how good it is in reducing the losses!
</code></pre>
<ul>
<li>
<p>It is a general-purpose <a href="https://twitter.com/karpathy/status/1582807367988654081?lang=en">differentiable computer</a>. </p>
</li>
<li>
<p>A neural network architecture developed at Google that relies on self-attention mechanisms to transform a <strong>sequence of input embeddings</strong> into a <strong>sequence of output embeddings</strong> without relying on convolutions or recurrent neural networks. </p>
</li>
<li>
<p>A <a href="https://developers.google.com/machine-learning/glossary#Transformer">Transformer</a> can be viewed as a stack of self-attention layers.</p>
</li>
<li>
<p>Based on a self-attention mechanisms unlike traditional convolutional (CNN) or recurrent neural networks (RNN)</p>
</li>
<li>
<p>Transformer outperforms both recurrent and convolutional models in language translation benchmarks</p>
</li>
</ul>
<hr />
<h3 id="resilient"><a class="header" href="#resilient">Resilient</a></h3>
<p>Remarkably, the Transformer architecture published by <a href="https://arxiv.org/pdf/1706.03762.pdf">Google team</a> is very resilient over time. 
The Transformer that came out in <a href="https://ai.googleblog.com/2017/08/transformer-novel-neural-network.html">2017</a> is basically the same as today except 
that we reshuffle some of the layer normalizations. </p>
<p>Researchers are making training datasets much larger, evaluation much larger,
but they are keeping the architecture untouched, which is remarkable!</p>
<hr />
<p><img src="https://4.bp.blogspot.com/-ovHQGevt5Ks/WaiCfS0OPUI/AAAAAAAAB_U/nEqsh9fgecM1v98NAvGp8Zgr5BwBbOGBQCEwYBhgL/s640/image4.png" alt="Perf in lang modeling" /></p>
<ul>
<li>they aggregate information from <strong>surrounding words</strong> to determine the meaning of a given bit of language in context. </li>
</ul>
<hr />
<p><strong>A man/word is known by the company she/he/word keeps means that a person/words is similar to the people/words she/
he/word chooses to spend time with!</strong></p>
<p>Example: </p>
<ul>
<li>deciding on the most likely meaning and appropriate representation of the word <strong>bank</strong> in the sentence :</li>
</ul>
<p><strong>I arrived at the bank after crossing the…</strong> requires knowing if the sentence ends in <strong>“... road.” or “... river.”</strong></p>
<hr />
<table><thead><tr><th>Architecture</th><th>Notes</th></tr></thead><tbody>
<tr><td>RNN</td><td>Can determine that “bank” is likely to refer to the bank of a <strong>river</strong> after reading each word between “bank” and “river” step by step. <strong>More</strong> the steps decisions require, the <strong>harder</strong> it is for a RNN to learn how to make those decisions.The sequential nature of RNNs also makes it more difficult to fully take advantage of modern fast computing devices such as <a href="https://arxiv.org/abs/1704.04760">TPUs</a> and <a href="https://www.intel.com/content/www/us/en/products/docs/processors/what-is-a-gpu.html">GPUs</a>, which excel at parallel and not sequential processing.</td></tr>
<tr><td>CNN</td><td>Less sequential than RNNs, the number of steps required to combine information from distant parts of the input <strong>still grows with increasing distance</strong></td></tr>
<tr><td>Transformer</td><td>Performs a small, constant number of steps (chosen empirically). In each step, it applies a <strong>self-attention</strong> mechanism which directly models <strong>relationships between all words in a sentence</strong>, regardless of their respective position.</td></tr>
</tbody></table>
<hr />
<table><thead><tr><th>Feature</th><th>Comments</th></tr></thead><tbody>
<tr><td>Expressive</td><td>With forward pass. It nodes store <strong>vectors</strong> and these nodes look at each other and they can see what's important for their computation in the other nodes. Message-passing-like architecture is general (i.e. completeness) and powerful (i.e. efficiency), able to cover many real-world algorithms and in a small number of compute steps; an an empirical finding.</td></tr>
<tr><td>Optimizable</td><td>With <a href="https://developers.google.com/machine-learning/glossary#b">Back-Propagation</a> and <a href="https://developers.google.com/machine-learning/glossary#gradient_descent">Gradient Descent</a>. With  residual connections, layer normalization and <a href="https://developers.google.com/machine-learning/glossary#softmax">softmax</a> attention. Residual connections support a kind of ability to learn short algorithms (think low LOC) fast and first, then gradually extend them longer during training.</td></tr>
<tr><td>Efficient</td><td>High parallelism compute graph. Can efficiently run on modern hardware (GPUs). Compute graph is shallow and wide, mapping significantly better to our <a href="https://arxiv.org/abs/1511.08228">high-parallelism compute architectures</a></td></tr>
</tbody></table>
<hr />
<ul>
<li>
<p>It can become a single neural network architecture for multi-modal inputs (text, image, video, audio), and thus converging all the other architectures into one.</p>
</li>
<li>
<p>Transformers combine some of the benefits traditionally seen with convolutional neural networks (CNNs) and recurrent neural networks (RNNs).</p>
</li>
</ul>
<table><thead><tr><th>Architecture</th><th>Feature</th><th>Transformer</th></tr></thead><tbody>
<tr><td>CNN</td><td>learn structured representations of images</td><td>ability to process input in a <strong>hierarchical</strong> manner, with each layer of the model learning increasingly complex features</td></tr>
<tr><td>CNN</td><td>process input in a fixed-length window</td><td>use self-attention mechanisms that allow the model to directly relate different input elements to each other, regardless of their distance in the sequence. Capture long-range dependencies between input elements,</td></tr>
<tr><td>RNN</td><td>Cyclic. Ability to capture dependencies between elements in a <strong>sequence</strong></td><td></td></tr>
</tbody></table>
<hr />
<h2 id="model-architecture"><a class="header" href="#model-architecture">Model Architecture</a></h2>
<p><img src="ml/img/transformer-1.png" alt="Transformer Model" /> </p>
<ul>
<li>The encoder and decoder are represented by <strong>six layers</strong> (the number can be any, for example, in BERT there are 24 encoder blocks)</li>
</ul>
<pre class="mermaid">graph LR;
Inputs--&gt;Embedding--&gt;SelfAttention--&gt;FeedForwardNN--&gt;Outputs
</pre>
<table><thead><tr><th>Steps</th><th>Description</th></tr></thead><tbody>
<tr><td>1</td><td>The input data of the encoder first passes through the Self-Attention layer. This layer helps the encoder look at other words in the input sentence when it encodes a particular word.</td></tr>
<tr><td>2</td><td>The results of this Self-Attention layer are fed to the FeedForward NN</td></tr>
<tr><td>3</td><td>As the model processes each token (each word in the input sequence, say <em>w</em>), the Self-Attention layer allows it to search for hints in the other tokens (words) in the input sequence that may help improve the <strong>encoding</strong> of that word (<em>w</em>).</td></tr>
<tr><td>4</td><td>FeedForward NN has <strong>no interaction with other words</strong>, and therefore <strong>various chains</strong> can be executed in parallel as they pass through this layer. This allows transformer to process all words in the input text in <strong>parallel</strong>.</td></tr>
</tbody></table>
<p>Model  constantly cares about what “she”, “it” , “the”, or “that” refers to (pronouns).</p>
<pre><code>I never been to Mars. But it is on wish list
</code></pre>
<p><strong>it</strong>  here refers to <strong>Mars</strong></p>
<h4 id="querykeyvalue-vectors----retrieval-system"><a class="header" href="#querykeyvalue-vectors----retrieval-system">Query/Key/Value vectors -  retrieval system</a></h4>
<p>\( \int x dx = \frac{x^2}{2} + C \)</p>
<pre class="mermaid">graph LR;

Query--&gt;Keys--&gt;ToGetValues

</pre>
<ul>
<li>we want to compute the self-attention for the word <strong>it</strong> in above sentence </li>
<li>creating matrices Q, K, and V for this input sentence
<ul>
<li>where q (row in matrix Q) represents the query vector for the word <strong>it</strong>
<ul>
<li>K represents the key   matrix for all the words in the sentence</li>
<li>V represents the value matrix for all the words in the sentence.</li>
</ul>
</li>
</ul>
</li>
<li>The self-attention for the word <strong>it</strong> would then be computed as:
<ul>
<li>the dot product of Q and K, divided by the square root of the length of K, followed by a dot product with V.</li>
</ul>
</li>
</ul>
<p>\( \frac {Q \cdot K}{\sqrt(dim(K))} \)</p>
<hr />
<p>The matrices  \( (W^Q, W^K, W^V) \) are initially randomly initialized weight matrices.</p>
<ul>
<li>The vector \( (x_n) \)in this case would be a word embedding of the input token (or output of the previous attention layer). </li>
</ul>
<h5 id="example-1"><a class="header" href="#example-1">Example</a></h5>
<pre><code>Hello World
</code></pre>
<ul>
<li>Embeddings
<ul>
<li>\( x_0 \) : Hello</li>
<li>\( x_1 \) : World</li>
</ul>
</li>
<li>We have vectors \( q, k,  v \) for each of these two words. </li>
<li>These vectors are generated by multiplying embedding vector of the word and the weight matrix \( W \)</li>
</ul>
<h3 id="encoder-and-decoder"><a class="header" href="#encoder-and-decoder">Encoder and Decoder</a></h3>
<p>An encoder transforms a sequence of <a href="ml/">embeddings</a> into a new sequence of the same length. </p>
<ul>
<li>
<p>Includes N identical layers (Nx), each of which contains <strong>two sub-layers</strong>. </p>
<ul>
<li>These two sub-layers are applied at each position of the input embedding sequence, transforming each element of the sequence into a new embedding. 
<ul>
<li>The first encoder sub-layer <strong>aggregates</strong> information from across the input sequence.  - aggregation </li>
<li>The second encoder sub-layer <strong>transforms</strong> the aggregated information into an output embedding. - transformation</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Each encoder consists of two layers: Self-Attention and Feed Forward Neural Network.</p>
</li>
</ul>
<pre class="mermaid">graph LR;
  inputSequence --&gt; Aggregate --&gt; Transform --&gt; outputSequence
</pre>
<p>A decoder transforms a sequence of input embeddings into a sequence of output embeddings, possibly with a different length.</p>
<ul>
<li>Includes N identical layers with <strong>three sub-layers</strong></li>
<li>First and second of which are similar to the encoder sub-layers. </li>
<li>The third decoder sub-layer takes the output of the encoder and applies the self-attention mechanism to gather information from it</li>
</ul>
<pre class="mermaid">graph LR;
  inputSequence --&gt; Aggregate --&gt; Transform --&gt; ApplySelfAttention
</pre>
<h3 id="self-attention"><a class="header" href="#self-attention">Self-attention</a></h3>
<p>For this sentence:</p>
<pre><code> The animal didn't cross the street because it was too tired.  
 
</code></pre>
<ul>
<li>self-attention layer's attention pattern for the pronoun <strong>it</strong>:  (with the darkness of each line indicating how much each word contributes to the representation:)
<img src="https://developers.google.com/static/machine-learning/glossary/images/self-attention.png" alt="representation" /></li>
<li>The self-attention layer highlights words that are relevant to <strong>it</strong>. In this case, the attention layer has learned to highlight words that it might refer to, assigning the highest weight to animal.</li>
<li>For a sequence of n tokens, self-attention transforms a sequence of embeddings n separate times, once at each position in the sequence.</li>
</ul>
<p>In the  example:</p>
<pre><code>I arrived at the bank after crossing the river
</code></pre>
<ul>
<li>
<p>to determine that the word <strong>bank</strong> refers to the <em>shore of a river</em> and not a financial institution</p>
<ul>
<li>Transformer can learn to immediately attend to the word <strong>river</strong> and make this decision in a single step</li>
</ul>
</li>
<li>
<p>To compute the next representation for a given word - <strong>bank</strong> for example - the Transformer compares it to <strong>every other word</strong> in the sentence</p>
<ul>
<li>The result of these comparisons is an <strong>attention score</strong> for every other word in the sentence. </li>
<li>These <strong>attention scores</strong> determine how much each of the other words should <strong>contribute</strong> to the next representation of <strong>bank</strong>
<ul>
<li>The disambiguating <strong>river</strong> could receive a <strong>high attention score</strong> when computing a new representation for <strong>bank</strong> </li>
<li>The attention scores are then used as weights for a weighted average of all words’ representations which is fed into a fully-connected network to generate a new representation for <strong>bank</strong>, reflecting that the sentence is <strong>talking about a river bank</strong>.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src="https://3.bp.blogspot.com/-aZ3zvPiCoXM/WaiKQO7KRnI/AAAAAAAAB_8/7a1CYjp40nUg4lKpW7covGZJQAySxlg8QCLcBGAs/s640/transform20fps.gif" alt="Demo" /></p>
<p>Neural networks for machine translation typically contain </p>
<ul>
<li>
<p>an <strong>encoder</strong> reading the input sentence and generating a representation of it</p>
</li>
<li>
<p>a decoder then generates the output sentence word by word while <strong>consulting</strong> the representation generated by the encoder</p>
</li>
<li>
<p>Transformer starts by generating initial representations, or embeddings, for each word. </p>
<ul>
<li>These are represented by the unfilled circles</li>
<li>Then, using self-attention, it aggregates information from all of the other words, generating a new representation per word informed by the entire context, represented by the filled balls.</li>
<li>This step is then repeated multiple times in <strong>parallel for all words</strong>, successively generating new representations.</li>
</ul>
</li>
<li>
<p>The <strong>decoder</strong> operates similarly, but generates one word at a time, from left to right. It attends not only to the other previously generated words, but also to the final representations generated by the encoder.</p>
</li>
<li>
<p>We can visualize what other parts of a sentence the network <strong>attends</strong> to when processing or translating a given word, thus gaining insights into how information travels through the network.</p>
</li>
</ul>
<p><img src="https://2.bp.blogspot.com/-2yoN-i1w6M4/WaiBaF3cEOI/AAAAAAAAB_I/okirZsIxxeQe9Rzh7cl3INMpdqgzvSPXQCLcBGAs/s400/Screen%2BShot%2B2017-08-31%2Bat%2B2.35.34%2BPM.png" alt="Example2" /></p>
<ul>
<li>In the first sentence pair <strong>it</strong> refers to the animal, and in the second to the street. </li>
<li>In one of its steps, the Transformer clearly identified the two nouns <strong>it</strong> could refer to and the respective amount of attention reflects its choice in the different contexts.</li>
</ul>
<p><img src="https://1.bp.blogspot.com/-AVGK0ApREtk/WaiAuzddKVI/AAAAAAAAB_A/WPV5ropBU-cxrcMpqJBFHg73K9NX4vywwCLcBGAs/s640/image2.png" alt="Contexts" /></p>
<p>Given this insight, it might not be that surprising that the Transformer also performs very well on the classic language analysis task of syntactic constituency parsing, a task the natural language processing community has attacked with highly specialized systems for decades.</p>
<ul>
<li><a href="https://colab.research.google.com/github/tensorflow/tensor2tensor/blob/master/tensor2tensor/notebooks/hello_t2t.ipynb">Sample work</a></li>
</ul>
<p><img src="ml/img/transformer-1.webm.gif" alt="tensor2tensor" /></p>
<ul>
<li><a href="https://github.com/tensorflow/tensor2tensor/blob/master/README.md#walkthrough">Walkthrough</a></li>
<li><a href="https://github.com/tensorflow/tensor2tensor/blob/master/tensor2tensor/notebooks/Transformer_translate.ipynb">Notebook</a></li>
</ul>
<hr />
<h2 id="terms-2"><a class="header" href="#terms-2">Terms</a></h2>
<table><thead><tr><th>Term</th><th>Description</th></tr></thead><tbody>
<tr><td>Gradient descent</td><td>A mathematical technique to <strong>minimize loss</strong>. <a href="https://developers.google.com/machine-learning/glossary#gradient_descent">Gradient descent</a> iteratively adjusts <strong>weights and biases</strong>, gradually finding the best combination to minimize loss</td></tr>
<tr><td>Loss</td><td>The difference between the prediction and the label value is the loss</td></tr>
<tr><td>Forward Pass</td><td>System processes a batch of <strong>examples</strong> to yield prediction(s). The system compares each prediction to each label value. The difference between the prediction and the label value is the loss for that example. The system aggregates the losses for all the examples to compute the total loss for the current batch.</td></tr>
<tr><td>Backward pass (backpropagation)</td><td>System reduces loss by adjusting the weights of all the neurons in all the hidden layer(s).Backpropagation determines whether to increase or decrease the weights applied to particular neurons.</td></tr>
<tr><td><a href="https://developers.google.com/machine-learning/glossary#hidden_layer">Hidden layer</a></td><td>A layer in a neural network between the input layer (the features) and the output layer (the prediction). Each <img src="https://developers.google.com/static/machine-learning/glossary/images/HiddenLayerBigPicture.png" alt="hidden layer" /> consists of one or more neurons.</td></tr>
<tr><td>Learning Rate</td><td>Multiplier that controls the degree to which each backward pass increases or decreases each weight. A large learning rate will increase or decrease each weight more than a small learning rate</td></tr>
<tr><td><a href="https://en.wikipedia.org/wiki/Chain_rule">Chain rule</a></td><td>expresses the derivative of the composition of two differentiable functions f and g in terms of the derivatives of f and g</td></tr>
<tr><td><a href="https://en.wikipedia.org/wiki/Notation_for_differentiation#Lagrange&#x27;s_notation">Lagrange's notation</a></td><td>a prime mark denotes a derivative. If f is a function, then its derivative evaluated at x is written f`(x)</td></tr>
<tr><td><a href="https://developers.google.com/machine-learning/glossary#e">Encode</a></td><td>In sequence-to-sequence tasks, encoder takes an input sequence and returns an internal state (a vector). Then, the decoder uses that internal state to predict the next sequence.</td></tr>
<tr><td>Tensor</td><td>N-dimensional (where N could be very large) data structures, most commonly scalars, vectors, or matrices. The elements of a Tensor can hold integer, floating-point, or string values</td></tr>
<tr><td>language understanding tasks</td><td>language modeling, machine translation and question answering</td></tr>
<tr><td>Attention</td><td>Weighted <strong>sum over a set of inputs</strong>, where the weight for each input is computed by another part of the neural network</td></tr>
<tr><td>self-attention</td><td>Each embedding in the output sequence is constructed by integrating information from the elements of the input sequence through an attention mechanism.The <strong>self</strong> part of <strong>self-attention</strong> refers to the <strong>sequence attending to itself</strong> rather than to some other context. A self-attention layer starts with a sequence of input representations, one for each word. For each word in an input sequence, the network scores the relevance of the word to every element in the whole sequence of words. The relevance scores determine how much the word's final representation incorporates the representations of other words.Self-attention is one of the main building blocks for Transformers and uses dictionary lookup terminology, such as “query”, “key”, and “value”. Self-attention and multi-head self-attention, which are the building blocks of Transformers.</td></tr>
<tr><td>Masked language modelling</td><td>Encoder only architectures (like BERT) solve the task of predicting the masked word in a sentence. So the attention can see all the words before and after this masked word</td></tr>
<tr><td>Predict next token</td><td>Predict the next token or set of tokens, i.e. given tokens [0, ..., n-1] predict n</td></tr>
</tbody></table>
<h2 id="sentence-completion-task"><a class="header" href="#sentence-completion-task">Sentence completion task</a></h2>
<ul>
<li>This requires decoder portion of the transformer architecture</li>
<li>For the translation tasks we need to <strong>encode</strong> the input text first 
<ul>
<li>have a cross-attention layer with the translated text</li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="large-language-models-llms"><a class="header" href="#large-language-models-llms">Large Language Models (LLMs)</a></h1>
<h2 id="huggingface-using-langchain"><a class="header" href="#huggingface-using-langchain">Huggingface using langchain</a></h2>
<pre><code class="language-bash">

pip -q install langchain huggingface_hub transformers sentence_transformers accelerate bitsandbytes

</code></pre>
<pre><code class="language-py">
import os
os.environ['HUGGINGFACEHUB_API_TOKEN'] = 'XYZ'

from langchain import PromptTemplate, HuggingFaceHub, LLMChain

template = &quot;&quot;&quot;Question: {question}

Answer: Let's think step by step.&quot;&quot;&quot;

prompt = PromptTemplate(template=template, input_variables=[&quot;question&quot;])


llm_chain = LLMChain(prompt=prompt, 
                     llm=HuggingFaceHub(repo_id=&quot;google/flan-t5-xl&quot;, 
                                        model_kwargs={&quot;temperature&quot;:0, 
                                                      &quot;max_length&quot;:64}))

 question = &quot;What is the capital of England?&quot;

print(llm_chain.run(question))          

## prints: 
### London is the capital of England. The final answer: London.


</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="document-management-tools"><a class="header" href="#document-management-tools">Document management tools</a></h1>
<p><img src="docmgmt/../img/cover/chromecast-sea-1.jpg" alt="sea image" /></p>
<h2 id="ocr-the-paper-docs-via-images"><a class="header" href="#ocr-the-paper-docs-via-images">OCR the paper docs via images</a></h2>
<ul>
<li><a href="https://mohan-chinnappan-n2.github.io/2021/ai/ocr/ocr.html">URL</a></li>
</ul>
<iframe id="inlineFrameExample"
    title="Inline Frame Example"
    width="1100"
    height="800"
    src="https://mohan-chinnappan-n2.github.io/2021/ai/ocr/ocr.html">
</iframe>
<div style="break-before: page; page-break-before: always;"></div><h1 id="design-notes"><a class="header" href="#design-notes">Design Notes</a></h1>
<iframe id="inlineFrameExample"
    title="Inline Frame Example"
    width="1200"
    height="920"
    src="https://mohan-chinnappan-n2.github.io/2021/wp/design/design.md.html#0"
>
</iframe>
<div style="break-before: page; page-break-before: always;"></div><h1 id="chrome-extensions"><a class="header" href="#chrome-extensions">Chrome Extensions</a></h1>
<p><img src="chromeext/../img/cover/chromecast-arch-1.jpg" alt="arch" /></p>
<h2 id="extensions-covered"><a class="header" href="#extensions-covered">Extensions covered</a></h2>
<ul>
<li><a href="chromeext/./onnu.html">ONNU</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="chrome-extensions-1"><a class="header" href="#chrome-extensions-1">Chrome Extensions</a></h1>
<p><img src="chromeext/../img/cover/chromecast-wonders-1.jpg" alt="Taj" /></p>
<h2 id="onnu"><a class="header" href="#onnu">ONNU</a></h2>
<ul>
<li>
<p>ONNU is a chrome extension to provide Utils for Salesforce Admins and Developers</p>
</li>
<li>
<p>Available from chrome web store - <a href="https://chrome.google.com/webstore/detail/onnu-salesforce-utils/epdodcflhaclcmidephmhajpneilommo">Onnu - Salesforce Utils
</a></p>
</li>
<li>
<p>Once installed ONNU in your chrome browser, login into Salesforce org and switch to Classic mode to start :</p>
</li>
</ul>
<h2 id="-6"><a class="header" href="#-6"><img src="chromeext/img/onnu-start-1.png" alt="Onnu start" /></a></h2>
<h2 id="topics-21"><a class="header" href="#topics-21">Topics</a></h2>
<ul>
<li><a href="chromeext/onnu.html#about">About Onnu</a></li>
<li><a href="chromeext/onnu.html#erd">How to get ERD of a SObject</a></li>
<li><a href="chromeext/onnu.html#crma">How to get  CRMA (Einstein Analytics) Metadata Assets?</a></li>
<li><a href="chromeext/onnu.html#ss">Screenshots</a></li>
<li><a href="chromeext/onnu.html#satq">SetupAuditTrail Query</a></li>
</ul>
<h2 id="videos-3"><a class="header" href="#videos-3">Videos</a></h2>
<p><a name='about'></a></p>
<h3 id="about-onnu"><a class="header" href="#about-onnu">About ONNU</a></h3>
<iframe width="920" height="600" src="https://www.youtube.com/embed/feH8KIuUsrY" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<hr />
<p><a name='erd'></a></p>
<h3 id="how-to-get-erd-of-a-sobject"><a class="header" href="#how-to-get-erd-of-a-sobject">How to get ERD of a sObject?</a></h3>
<iframe width="920" height="600" src="https://www.youtube.com/embed/zAyL1JxDyts?start=8" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<hr />
<p><a name='crma'></a></p>
<h3 id="how-to-get--crma-einstein-analytics-metadata-assets"><a class="header" href="#how-to-get--crma-einstein-analytics-metadata-assets">How to get  CRMA (Einstein Analytics) Metadata Assets?</a></h3>
<iframe width="920" height="600" src="https://www.youtube.com/embed/CzhHrkRbr0c" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<p><a name='ss'></a></p>
<h2 id="screenshots"><a class="header" href="#screenshots">Screenshots</a></h2>
<ul>
<li>Compare queries from 2 orgs</li>
</ul>
<p><img src="chromeext/img/onnu-compare-2-org-query.png" alt="Compare 2 org query results" /></p>
<hr />
<p><a name='satq'></a></p>
<h2 id="setupaudittrail-query"><a class="header" href="#setupaudittrail-query">SetupAuditTrail Query</a></h2>
<pre><code class="language-sql">SELECT CreatedDate,
          CreatedBy.Name, 
          CreatedByContext,
          CreatedByIssuer,
          Display,
          Section 
          FROM SetupAuditTrail 
            ORDER BY CreatedDate  
            DESC LIMIT 10
</code></pre>
<p><img src="chromeext/img/setupAuditTrail-1.webm.gif" alt="SetupAuditTrail" /></p>
<h2 id="about-the-name-onnu"><a class="header" href="#about-the-name-onnu">About the name ONNU</a></h2>
<ul>
<li>ONNU to mean ON to New</li>
<li>ONNU is number one in some Indian languages </li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="vs-code-extensions"><a class="header" href="#vs-code-extensions">VS Code Extensions</a></h1>
<h2 id="extensions-covered-1"><a class="header" href="#extensions-covered-1">Extensions covered</a></h2>
<ul>
<li><a href="vscode/./sfland.html">SF Land</a></li>
<li><a href="vscode/./pmd.html">VSCode Apex PMD</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sf-land"><a class="header" href="#sf-land">SF Land</a></h1>
<p><img src="https://mohanchinnappan.gallerycdn.vsassets.io/extensions/mohanchinnappan/sf-land/0.0.46/1670947555426/Microsoft.VisualStudio.Services.Icons.Default" alt="logo" /></p>
<h2 id="welcome-to-the-vs-code-extension---sf-land"><a class="header" href="#welcome-to-the-vs-code-extension---sf-land">Welcome to the VS Code Extension - SF-LAND!</a></h2>
<h3 id="install-sf-land-from-visual-studio-marketplace"><a class="header" href="#install-sf-land-from-visual-studio-marketplace"><a href="https://marketplace.visualstudio.com/items?itemName=mohanChinnappan.sf-land">Install sf-land from Visual Studio MarketPlace</a></a></h3>
<h2 id="features"><a class="header" href="#features">Features</a></h2>
<h3 id="salesforce-specific---login-required"><a class="header" href="#salesforce-specific---login-required">Salesforce specific - Login required</a></h3>
<ul>
<li>
<p><a href="vscode/sfland.html#login1">Login into Salesforce and create an Auth JSON file</a></p>
</li>
<li>
<p><a href="vscode/sfland.html#login2">Login with Auth JSON File</a></p>
</li>
<li>
<p><a href="vscode/sfland.html#sfquery">Runs a given SOQL and provides results output in HTML</a></p>
<ul>
<li><a href="vscode/sfland.html#sfquery">Select SOQL Query</a></li>
</ul>
</li>
<li>
<p><a href="vscode/sfland.html#anonapex">Run anonymous Apex</a></p>
</li>
<li>
<p><a href="vscode/sfland.html#fieldList">List Fields for SObject</a></p>
</li>
<li>
<p><a href="vscode/sfland.html#deleteMetadata">Delete Metadata</a></p>
</li>
<li>
<p><a href="vscode/sfland.html#bulk2">Load and Delete Using BulkAPI 2.0</a></p>
</li>
</ul>
<h3 id="code-scan-salesforce-login-not-required"><a class="header" href="#code-scan-salesforce-login-not-required">Code Scan (Salesforce Login not required)</a></h3>
<ul>
<li><a href="vscode/sfland.html#pmdscan">Runs PMD Scan</a></li>
</ul>
<h3 id="lwc-code-gen-salesforce-login-not-required"><a class="header" href="#lwc-code-gen-salesforce-login-not-required">LWC Code Gen (Salesforce Login not required)</a></h3>
<ul>
<li><a href="vscode/sfland.html#lwccodegen">Create LWC for the given SOQL</a></li>
</ul>
<h3 id="provide-datatable-view-for-a-json-node-in-the-editor"><a class="header" href="#provide-datatable-view-for-a-json-node-in-the-editor">Provide datatable view for a JSON node in the editor</a></h3>
<ul>
<li><a href="vscode/sfland.html#datatable1">Render datatable</a></li>
</ul>
<h3 id="provide-datatable-view-for-a-csv-file-in-the-editor"><a class="header" href="#provide-datatable-view-for-a-csv-file-in-the-editor">Provide datatable view for a CSV File in the editor</a></h3>
<ul>
<li><a href="vscode/sfland.html#datatableCSV">Render CSV in  datatable</a></li>
</ul>
<h3 id="render-json-in-the-editor-as-bar-chart"><a class="header" href="#render-json-in-the-editor-as-bar-chart">Render JSON in the Editor as Bar Chart</a></h3>
<ul>
<li><a href="vscode/sfland.html#jsonbar">Render JSON in the editor as Bar Chart</a></li>
</ul>
<h3 id="i18n"><a class="header" href="#i18n">i18n</a></h3>
<ul>
<li><a href="vscode/sfland.html#gtranslate">Translate Using Google Translate</a></li>
</ul>
<h3 id="word-cloud"><a class="header" href="#word-cloud">Word Cloud</a></h3>
<ul>
<li><a href="vscode/sfland.html#wordcloud">Draw Word Cloud</a></li>
</ul>
<h3 id="pie-chart"><a class="header" href="#pie-chart">Pie Chart</a></h3>
<ul>
<li><a href="vscode/sfland.html#drawpie">Draw Pie Chart</a></li>
</ul>
<h3 id="graphviz"><a class="header" href="#graphviz">GraphViz</a></h3>
<ul>
<li><a href="vscode/sfland.html#gviz">Draw GraphViz Graph</a></li>
</ul>
<h3 id="rest-client"><a class="header" href="#rest-client">REST client</a></h3>
<ul>
<li><a href="vscode/sfland.html#restc">Select REST Resource</a></li>
<li><a href="vscode/sfland.html#restc">Rest Client for Salesforce and Generic</a></li>
</ul>
<h3 id="crypto-features"><a class="header" href="#crypto-features">Crypto features</a></h3>
<ul>
<li><a href="vscode/sfland.html#jwtget">Get JWT</a></li>
<li><a href="vscode/sfland.html#jwtverify">Verify JWT</a></li>
</ul>
<h3 id="doc-features"><a class="header" href="#doc-features">Doc features</a></h3>
<ul>
<li><a href="vscode/sfland.html#md2html">Markdown to HTML Page</a></li>
</ul>
<h3 id="more-demos"><a class="header" href="#more-demos">More Demos</a></h3>
<ul>
<li><a href="vscode/sfland.html#demo1">Named Credentials</a></li>
</ul>
<hr />
<p><a name='login1'></a></p>
<h3 id="sfl-login-into-salesforce-to-get-auth-file"><a class="header" href="#sfl-login-into-salesforce-to-get-auth-file">SFL: Login into Salesforce to get Auth File</a></h3>
<ul>
<li>Login into Salesforce and create an Auth JSON file
<ul>
<li>Uses SFDX for this operation</li>
</ul>
</li>
</ul>
<p><a name='login2'></a></p>
<h3 id="sfl-login-with-auth-json-file"><a class="header" href="#sfl-login-with-auth-json-file">SFL: Login with Auth JSON File</a></h3>
<ul>
<li>Login into the Salesforce Org with the given Auth JSON file</li>
</ul>
<p><a name='sfquery'></a></p>
<h3 id="sfl-run-soql-query"><a class="header" href="#sfl-run-soql-query">SFL: Run SOQL Query</a></h3>
<ul>
<li>Runs a given SOQL and provides results output in HTML
<ul>
<li>Select <strong>Tooling</strong> to use Tooling query</li>
<li>You can select a SOQL from standard list using <strong>SFL: Select SOQL Query</strong>
<img src="https://raw.githubusercontent.com/mohan-chinnappan-n/sf-land-docs/master/img/sf-land-query-results-1.png" alt="query results" />
<img src="https://raw.githubusercontent.com/mohan-chinnappan-n/sf-land-docs/master/img/sf-land-query-results-2.png" alt="query results - 2" /></li>
</ul>
</li>
</ul>
<p><a name='anonapex'></a></p>
<h3 id="sfl-run-anonymous-apex"><a class="header" href="#sfl-run-anonymous-apex">SFL: Run Anonymous Apex</a></h3>
<ul>
<li>Runs the Anonymous Apex in the editor </li>
</ul>
<p><a name='sflimits'></a></p>
<h3 id="sfl-run-org-limits"><a class="header" href="#sfl-run-org-limits">SFL: Run Org Limits</a></h3>
<ul>
<li>Display Limits info in your org
<img src="https://raw.githubusercontent.com/mohan-chinnappan-n/sf-land-docs/master/img/sf-land-org-limits-1.png" alt="limits results" /></li>
</ul>
<hr />
<p><a name='fieldList'></a></p>
<h3 id="sfl-list-fields-for-sobject"><a class="header" href="#sfl-list-fields-for-sobject">SFL: List Fields for SObject</a></h3>
<p><img src="https://raw.githubusercontent.com/mohan-chinnappan-n/sf-land-docs/master/img/sf-land-list-fields-1.png" alt="Demo field list" /></p>
<hr />
<ul>
<li>Field Usage Demo
<img src="https://raw.githubusercontent.com/mohan-chinnappan-n/sf-land-docs/master/img/sf-land-fieldusage-demo-1.webm.gif" alt="Demo Field Usage" /></li>
</ul>
<hr />
<p><a name='bulk2'></a></p>
<h3 id="sfl-load-data-using-bulkapi-20"><a class="header" href="#sfl-load-data-using-bulkapi-20">SFL: Load Data Using BulkAPI 2.0</a></h3>
<pre><code>cat /tmp/case2.csv

Subject,Priority
Automobile having fuel issues,High
Automobile Auto-Pilot has input error,High

</code></pre>
<hr />
<h3 id="sfl-delete-data-using-bulkapi-20"><a class="header" href="#sfl-delete-data-using-bulkapi-20">SFL: Delete Data Using BulkAPI 2.0</a></h3>
<pre><code>cat /tmp/case2_del.csv

Id
5004x00000KdRUWAA3
5004x00000KdRUXAA3
</code></pre>
<p><img src="https://raw.githubusercontent.com/mohan-chinnappan-n/sf-land-docs/master/img/sfl-bulk2-load-delete.webm.gif" alt="Demo" /></p>
<p><a name='pmdscan'></a></p>
<h3 id="sfl-run-pmd-scan"><a class="header" href="#sfl-run-pmd-scan">SFL: Run PMD Scan</a></h3>
<ul>
<li>
<p>Runs PMD Scan</p>
<ul>
<li>Setup PMD executable as per this <a href="https://github.com/mohan-chinnappan-n/cli-dx/blob/master/mdapi/pmd-codescan.md">Doc</a></li>
</ul>
</li>
<li>
<p>Also you can run PMD scan on the current file in the editor</p>
<ul>
<li>using <strong>SFL: Run PM Scan for File in the Editor</strong></li>
</ul>
</li>
<li>
<p>Demo</p>
</li>
<li>
<p><img src="https://raw.githubusercontent.com/mohan-chinnappan-n/kural-docs/master/img/new_pmd-report-1.gif" alt="PMD Report Demo" /></p>
</li>
</ul>
<hr />
<p><a name='gtranslate'></a></p>
<h3 id="sfl-google-translate"><a class="header" href="#sfl-google-translate">SFL: Google Translate</a></h3>
<ul>
<li>Translate the current editor text using Google Translate </li>
</ul>
<p><a name='wordcloud'></a></p>
<h3 id="sfl-draw-word-cloud"><a class="header" href="#sfl-draw-word-cloud">SFL: Draw Word Cloud</a></h3>
<ul>
<li>Draws Word Cloud for  the current editor text
<img src="https://raw.githubusercontent.com/mohan-chinnappan-n/sf-land-docs/master/img/sf-land-wc-1.png" alt="WC-1" /></li>
</ul>
<p><a name='gviz'></a></p>
<h3 id="sfl-draw-graphviz-graph"><a class="header" href="#sfl-draw-graphviz-graph">SFL: Draw graphViz graph</a></h3>
<ul>
<li>Draws graphViz graph for the current editor text
<img src="https://raw.githubusercontent.com/mohan-chinnappan-n/sf-land-docs/master/img/sf-land-graphviz-1.png" alt="WC-1" /></li>
</ul>
<p><a name='restc'></a></p>
<h3 id="sfl-rest-client"><a class="header" href="#sfl-rest-client">SFL: REST Client</a></h3>
<ul>
<li>
<p>You can run <strong>SFL: Select REST Resource</strong> to select from list of standard REST resources</p>
</li>
<li>
<p>input</p>
</li>
</ul>
<pre><code class="language-json">{
    &quot;method&quot;: &quot;SFGET&quot;,
    &quot;url&quot;:  &quot;sobjects/Opportunity/describe&quot;
}
</code></pre>
<ul>
<li>Response will be rendered in a VS Code window
<img src="https://raw.githubusercontent.com/mohan-chinnappan-n/sf-land-docs/master/img/sf-land-restc-1.webm.gif" alt="Demo restc" /></li>
</ul>
<hr />
<p><a name='md2html'><a></p>
<h3 id="sfl-render-markdown-in-editor-as-webpage"><a class="header" href="#sfl-render-markdown-in-editor-as-webpage">SFL: Render Markdown in Editor as Webpage</a></h3>
<ul>
<li>Renders a Markdown document in the editor to html page</li>
</ul>
<hr />
<p><a name='jwtget'></a></p>
<h3 id="sflsecurity-create-jwt"><a class="header" href="#sflsecurity-create-jwt">SFL:SECURITY: Create JWT</a></h3>
<ul>
<li>input</li>
</ul>
<pre><code class="language-json">{
  &quot;payload&quot;: { &quot;user&quot;: &quot;Dennis Ritchie&quot;},
  &quot;expiresIn&quot;: 3

}
</code></pre>
<ul>
<li>JWT</li>
</ul>
<pre><code>eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyIjoiRGVubmlzIFJpdGNoaWUiLCJpYXQiOjE2NjQ5MjUzODQsImV4cCI6MzMyOTg1MDc3MX0.dEjtntdJ5anLHh8A1w8n24UBkejVeMy-c9Wru-PsMNw

</code></pre>
<p><a name='jwtverify'></a></p>
<h3 id="sflsecurity-verify-jwt"><a class="header" href="#sflsecurity-verify-jwt">SFL:SECURITY: Verify JWT</a></h3>
<ul>
<li>input</li>
</ul>
<pre><code>eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyIjoiRGVubmlzIFJpdGNoaWUiLCJpYXQiOjE2NjQ5MjUzODQsImV4cCI6MzMyOTg1MDc3MX0.dEjtntdJ5anLHh8A1w8n24UBkejVeMy-c9Wru-PsMNw
</code></pre>
<ul>
<li>output</li>
</ul>
<pre><code class="language-json">{
    &quot;user&quot;: &quot;Dennis Ritchie&quot;,
    &quot;iat&quot;: 1664925384,
    &quot;exp&quot;: 3329850771
}

</code></pre>
<hr />
<p><a name='lwccodegen'></a></p>
<h3 id="lwc-code-gen"><a class="header" href="#lwc-code-gen">LWC Code gen</a></h3>
<ul>
<li>SFL: Generate LWC for SOQL Query</li>
<li>For the Given Single Object based SOQL:</li>
</ul>
<pre><code class="language-sql">SELECT Id, Name, Amount FROM Opportunity
</code></pre>
<p><img src="https://raw.githubusercontent.com/mohan-chinnappan-n/sf-land-docs/master/img/sf-land-lwc-codegen-1.png" alt="LWC code gen" /></p>
<hr />
<p><a name='drawpie'></a></p>
<h3 id="draw-pie-chart"><a class="header" href="#draw-pie-chart">Draw Pie Chart</a></h3>
<ul>
<li>SFL: Draw Pie Chart </li>
<li>Sample data file in the editor</li>
</ul>
<pre><code>{
    &quot;title&quot;: &quot;Fruits Yield&quot;,
    &quot;name&quot;: &quot;Yield&quot;,
    &quot;data&quot;: [{ &quot;Mango&quot;: 40 },
    { &quot;Peach&quot;: 10 },
    { &quot;Pear&quot;: 5 },
    { &quot;Plum&quot;: 8 },
    { &quot;Apple&quot;: 20 }
    ]
}
</code></pre>
<ul>
<li><img src="https://raw.githubusercontent.com/mohan-chinnappan-n/sf-land-docs/master/img/sf-land-draw-pie-1.webm.gif" alt="Demo" /></li>
</ul>
<hr />
<p><a name='datatable1'></a></p>
<h3 id="render-datatable"><a class="header" href="#render-datatable">Render Datatable</a></h3>
<ul>
<li>SFL: Render Selected JSON Node in Datatable&quot;</li>
<li>Sample data file in the editor</li>
</ul>
<pre><code>{
  &quot;title&quot;: &quot;Fruits&quot;,

  &quot;data&quot;: [
    { &quot;Name&quot;: &quot;Mango&quot;, &quot;qty&quot;: 2000, &quot;goodQuality&quot;: true },
    { &quot;Name&quot;: &quot;Apple&quot;, &quot;qty&quot;: 3000, &quot;goodQuality&quot;: true },
    { &quot;Name&quot;: &quot;Pear&quot;, &quot;qty&quot;: 500, &quot;goodQuality&quot;: true },
    { &quot;Name&quot;: &quot;Peach&quot;, &quot;qty&quot;: 4000, &quot;goodQuality&quot;: true }
  ]
}

</code></pre>
<ul>
<li><img src="https://raw.githubusercontent.com/mohan-chinnappan-n/sf-land-docs/master/img/sf-land-datatable-1.webm.gif" alt="Demo" /></li>
</ul>
<hr />
<p><a name='datatableCSV'></a></p>
<h2 id="render-csv-in--datatable"><a class="header" href="#render-csv-in--datatable">Render CSV in  datatable</a></h2>
<ul>
<li><img src="https://raw.githubusercontent.com/mohan-chinnappan-n/sf-land-docs/master/img/sf-land-datatable-csv.webm.gif" alt="Demo" /></li>
</ul>
<hr />
<hr />
<p><a name='jsonbar'></a></p>
<h2 id="render-json-in-the-editor-as-bar-chart-1"><a class="header" href="#render-json-in-the-editor-as-bar-chart-1">Render JSON in the Editor as Bar Chart</a></h2>
<ul>
<li><img src="https://raw.githubusercontent.com/mohan-chinnappan-n/sf-land-docs/master/img/sf-land-json-bar-1.webm.gif" alt="Demo" /></li>
</ul>
<hr />
<p><a name='deleteMetadata'></a></p>
<h3 id="delete-metadata"><a class="header" href="#delete-metadata">Delete Metadata</a></h3>
<p><img src="https://raw.githubusercontent.com/mohan-chinnappan-n/sf-land-docs/master/img/deleteMetadata-1.gif" alt="Demo" /></p>
<h3 id="more-demos-1"><a class="header" href="#more-demos-1">More Demos</a></h3>
<p><a name='demo-1'></a></p>
<ul>
<li>Named  Credentials </li>
<li><img src="https://raw.githubusercontent.com/mohan-chinnappan-n/sf-land-docs/master/img/sf-land-demo-named-cred-1.webm.gif" alt="Demo - Named Cred" /></li>
</ul>
<hr />
<h4 id="stay-tuned-more-coming"><a class="header" href="#stay-tuned-more-coming">Stay tuned... More coming...</a></h4>
<hr />
<p><strong>Enjoy!</strong></p>
<ul>
<li>Built by <a href="https://www.linkedin.com/in/mohan-chinnappan-232ab632/">Mohan Chinnappan</a> with ♥</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="vscode-apex-pmd"><a class="header" href="#vscode-apex-pmd">VSCode Apex PMD</a></h1>
<p><img src="https://raw.githubusercontent.com/mohan-chinnappan-n/vscode-apex-pmd/master/images/logo-128.png" alt="logo" /></p>
<h2 id="from-visual-studio-marketplace"><a class="header" href="#from-visual-studio-marketplace">From Visual Studio MarketPlace</a></h2>
<p><a href="https://marketplace.visualstudio.com/items?itemName=mohanChinnappan.apex-pmd-code-scanner#overview">Install it from Visual Studio MarketPlace</a></p>
<h2 id="vscode-extension-for-pmd-code-scan-for-salesforce-apex"><a class="header" href="#vscode-extension-for-pmd-code-scan-for-salesforce-apex">VSCode Extension for PMD code scan for Salesforce Apex</a></h2>
<p>Allows you to run <a href="http://pmd.sourceforge.net/snapshot/pmd-apex/">Apex Static Code Analysis</a> directly in VSCode.</p>
<h2 id="ant-task-based-pmd"><a class="header" href="#ant-task-based-pmd">ANT task based PMD</a></h2>
<p>If you are looking for ANT task based PMD for Apex, <a href="https://github.com/mohan-chinnappan-n/pmd-dist">here</a> it is.</p>
<h2 id="features-demo"><a class="header" href="#features-demo">Features Demo</a></h2>
<p><img src="https://github.com/mohan-chinnappan-n/vscode-apex-pmd/raw/master/images/code-scan-vscode-6.gif" alt="Demo for the Extension" /></p>
<h3 id="current-actions-supported"><a class="header" href="#current-actions-supported">Current actions Supported</a></h3>
<p>Run analysis on:</p>
<ul>
<li>file open</li>
<li>file save</li>
<li>entire workspace</li>
<li>single file</li>
</ul>
<h2 id="installation"><a class="header" href="#installation">Installation</a></h2>
<ol>
<li>Must have <code>JDK &gt;=1.4</code> installed and in path</li>
<li>Download a <a href="https://sourceforge.net/projects/pmd/files/pmd/">PMD &quot;bin&quot; release</a> (<code>&gt;= 5.6</code>)</li>
<li>unzip the zip file from step #2 to location of choice and make a note of that location. This is the value for : <code>apexPMD.pmdPath</code></li>
<li>In VSCode, Open <code>Preferences: User Settings</code> and set <code>apexPMD.pmdPath</code> to folder where pmd was unzipped in step 3 along with other config items as shown below:</li>
</ol>
<h3 id="sample-configuration----vscodepreferences-user-settings"><a class="header" href="#sample-configuration----vscodepreferences-user-settings">Sample Configuration -&gt;  VSCode::Preferences: User Settings</a></h3>
<pre><code class="language-javascript">
{
     // ...

    // absolute path to where PMD was installed
    // following example in my case
    &quot;apexPMD.pmdPath&quot;:&quot;/Users/mchinnappan/code-scan-tools/pmd/pmd-bin-5.8.1&quot;,
    // Set to false to use you own ruleset (set path)
     &quot;apexPMD.useDefaultRuleset&quot;: &quot;true&quot;,

     // Absolute path to ruleset xml file.  Must also set `useDefaultRuleset:false`.
    &quot;apexPMD.rulesetPath&quot;: &quot;&quot;,
    
    // Will run static analysis every time a file is opened
    &quot;apexPMD.runOnFileOpen&quot;: &quot;true&quot;,

    // Will run static analysis every time a file is saved
    &quot;apexPMD.runOnFileSave&quot;: &quot;true&quot;,

    // Determines at what priority level 'errors' will be added. Anything less will be a warning or hint
    &quot;apexPMD.priorityErrorThreshold&quot;: &quot;1&quot;,

    // Determines at what priority level 'warnings' will be added. Anything less will be a hint
    &quot;apexPMD.priorityWarnThreshold&quot;: &quot;3&quot;

}


</code></pre>
<h2 id="ruleset"><a class="header" href="#ruleset">Ruleset</a></h2>
<p>Here is the <a href="https://github.com/mohan-chinnappan-n/vscode-apex-pmd/blob/master/rulesets/apex_ruleset.xml">sample ruleset</a> used in this extension</p>
<h2 id="from-visual-studio-marketplace-1"><a class="header" href="#from-visual-studio-marketplace-1">From Visual Studio MarketPlace</a></h2>
<p><a href="https://marketplace.visualstudio.com/items?itemName=mohanChinnappan.apex-pmd-code-scanner#overview">Install it from Visual Studio MarketPlace</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="vscode-tips"><a class="header" href="#vscode-tips">VSCode tips</a></h1>
<h2 id="how-to-comment-out-multiple-lines"><a class="header" href="#how-to-comment-out-multiple-lines">How to comment out multiple lines</a></h2>
<ul>
<li>
<p>Steps (macOS)</p>
<ul>
<li>Select multiple lines</li>
<li>[Shift] + [Option] + A</li>
</ul>
</li>
<li>
<p>Steps (Linux)</p>
<ul>
<li>Select multiple lines</li>
<li>[Shift] + [Ctrl] + A</li>
</ul>
</li>
<li>
<p>Steps (Windows)</p>
<ul>
<li>Select multiple lines</li>
<li>[Shift] + [Alt] + A</li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="data-viz"><a class="header" href="#data-viz">Data Viz</a></h1>
<h2 id="data-viz-tools"><a class="header" href="#data-viz-tools">Data Viz tools</a></h2>
<ul>
<li>
<p><a href="https://mohan-chinnappan-n5.github.io/dfv/dfv.html?d=scpl_wc.psv&amp;cw=2000&amp;ct=bar">URL</a></p>
<iframe id="inlineFrameExample"
  title="Inline Frame Example"
  width="1100"
  height="800"
  src="https://mohan-chinnappan-n5.github.io/dfv/dfv.html?d=scpl_wc.psv&cw=2000&ct=bar">
</li>
</ul>
</iframe>
<h2 id="data-catalog"><a class="header" href="#data-catalog">Data Catalog</a></h2>
<ul>
<li><a href="https://mohan-chinnappan-n5.github.io/dfv/catalog.html">Data Catalog with Viz</a></li>
</ul>
<h2 id="d3-experiments"><a class="header" href="#d3-experiments">D3 Experiments</a></h2>
<ul>
<li><a href="https://mohan-chinnappan-n5.github.io/viz/d3/svizc.html?x=db&amp;y=value&amp;d=https://mohan-chinnappan-n5.github.io/dfv/data/dbs.json">Love meter for Databases</a></li>
</ul>
<iframe id="inlineFrameExample"
    title="Inline Frame Example"
    width="1100"
    height="800"
    src="https://mohan-chinnappan-n5.github.io/viz/d3/svizc.html?x=db&y=value&d=https://mohan-chinnappan-n5.github.io/dfv/data/dbs.json">
</iframe>
<ul>
<li><a href="https://mohan-chinnappan-n5.github.io/viz/d3/svizc.html?x=language&amp;y=value&amp;d=https://mohan-chinnappan-n5.github.io/dfv/data/plangs22.json">Love meter for Programming Languages</a> </li>
</ul>
<iframe id="inlineFrameExample"
    title="Inline Frame Example"
    width="1100"
    height="800"
    src="https://mohan-chinnappan-n5.github.io/viz/d3/svizc.html?x=language&y=value&d=https://mohan-chinnappan-n5.github.io/dfv/data/plangs22.json">
</iframe>
<ul>
<li><a href="https://mohan-chinnappan-n5.github.io/viz/d3/svizc.html?x=db&amp;y=value&amp;c=1">Draw Bar Chart based on Clipboard data</a>
<ul>
<li>Copy a json file in your clipboard and click the above url, change x to field name for x and y for field name for y</li>
<li>Sample Data  - copy this into clipboard</li>
</ul>
</li>
</ul>
<pre><code class="language-json">    [
  {
    &quot;db&quot;: &quot;PostgreSQL&quot;,
    &quot;value&quot;: 72.08
  },
  {
    &quot;db&quot;: &quot;Redis&quot;,
    &quot;value&quot;: 71.04
  },
  {
    &quot;db&quot;: &quot;MongoDB&quot;,
    &quot;value&quot;: 60.51
  },
  {
    &quot;db&quot;: &quot;SQLLite&quot;,
    &quot;value&quot;: 57.51
  },
  {
    &quot;db&quot;: &quot;MSSQL&quot;,
    &quot;value&quot;: 54.95
  },
  {
    &quot;db&quot;: &quot;MYSQL&quot;,
    &quot;value&quot;: 51.17
  },
  {
    &quot;db&quot;: &quot;DynamoDB&quot;,
    &quot;value&quot;: 53.63
  },
  {
    &quot;db&quot;: &quot;Oracle&quot;,
    &quot;value&quot;: 35.33
  },
  {
    &quot;db&quot;: &quot;DB2&quot;,
    &quot;value&quot;: 26.0
  }
]
</code></pre>
<ul>
<li>Click on <a href="https://mohan-chinnappan-n5.github.io/viz/d3/svizc.html?x=db&amp;y=value&amp;c=1">Viz Url</a></li>
</ul>
<h2 id="d3-codepens"><a class="header" href="#d3-codepens">D3 CodePens</a></h2>
<ul>
<li><a href="https://codepen.io/mohan-chinnappan-n/pen/ZEjMQBx">D3 Axis</a></li>
<li><a href="https://codepen.io/mohan-chinnappan-n/pen/jOpvbyP">D3 Circle Chart</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="releases"><a class="header" href="#releases">Releases</a></h1>
<h2 id="spring-23"><a class="header" href="#spring-23">Spring 23</a></h2>
<ul>
<li>Calendar
<img src="./deployments/img/releases/spring23-dates.png" alt="Release spring 23" /></li>
</ul>
<h3 id="references-22"><a class="header" href="#references-22">References</a></h3>
<ul>
<li><a href="https://www.salesforce.com/blog/key-dates-spring-sandbox-preview/">Spring23 Blog</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="rest-tester"><a class="header" href="#rest-tester">REST Tester</a></h1>
<ul>
<li>HTML markup is server-side-rendered in this app</li>
</ul>
<iframe id="inlineFrameExample"
    title="Inline Frame Example"
    width="1200"
    height="600"
    src="https://mohanc-rest.deno.dev">
</iframe>
<h2 id="urls"><a class="header" href="#urls">URLs</a></h2>
<ul>
<li><a href="https://mohanc-rest.deno.dev">https://mohanc-rest.deno.dev</a></li>
<li><a href="https://mohanc-rest.deno.dev/users/1">https://mohanc-rest.deno.dev/users/1</a></li>
<li><a href="https://mohanc-rest.deno.dev/users/2">https://mohanc-rest.deno.dev/users/2</a></li>
</ul>
<h2 id="verbs"><a class="header" href="#verbs">Verbs</a></h2>
<ul>
<li><a href="rest/rest_tester.html#get">GET</a></li>
<li><a href="rest/rest_tester.html#post">POST</a></li>
<li><a href="rest/rest_tester.html#put">PUT</a></li>
<li><a href="rest/rest_tester.html#delete">DELETE</a></li>
</ul>
<h2 id="get"><a class="header" href="#get">GET</a></h2>
<p><a name='get'></a></p>
<h3 id="date"><a class="header" href="#date">Date</a></h3>
<pre><code>curl -X GET https://mohanc-rest.deno.dev/date | jq
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100    35  100    35    0     0    208      0 --:--:-- --:--:-- --:--:--   207
</code></pre>
<pre><code class="language-json">{
  &quot;date&quot;: &quot;2023-02-06T00:36:12.687Z&quot;
}

</code></pre>
<h3 id="get-a-particular-user"><a class="header" href="#get-a-particular-user">GET a particular user</a></h3>
<pre><code>curl -X GET https://mohanc-rest.deno.dev/users/1 | jq
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100    36  100    36    0     0    238      0 --:--:-- --:--:-- --:--:--   238
</code></pre>
<pre><code class="language-json">{
  &quot;id&quot;: &quot;1&quot;,
  &quot;username&quot;: &quot;Ken Thompson&quot;
}

</code></pre>
<h2 id="post"><a class="header" href="#post">POST</a></h2>
<p><a name='post'></a></p>
<pre><code>curl -X POST https://mohanc-rest.deno.dev/users/1000 -d '{&quot;text&quot;:&quot;Awesome user!&quot;}' | jq  
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100   117  100    93  100    24    352     90 --:--:-- --:--:-- --:--:--   443
</code></pre>
<pre><code class="language-json">{
  &quot;msg&quot;: &quot;Received a POST HTTP method for user of id: 1000&quot;,
  &quot;payload&quot;: {
    &quot;text&quot;: &quot;Awesome user!&quot;
  }
}
</code></pre>
<h2 id="put"><a class="header" href="#put">PUT</a></h2>
<p><a name='put'></a></p>
<pre><code>curl -X PUT  https://mohanc-rest.deno.dev/users/1 | jq
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100    54  100    54    0     0    308      0 --:--:-- --:--:-- --:--:--   308
</code></pre>
<pre><code class="language-json">{
  &quot;msg&quot;: &quot;Received a PUT HTTP method for user of id: 1&quot;
}
</code></pre>
<h2 id="delete-1"><a class="header" href="#delete-1">DELETE</a></h2>
<p><a name='delete'></a></p>
<pre><code>curl -X DELETE  https://mohanc-rest.deno.dev/users/1 | jq
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100    57  100    57    0     0    370      0 --:--:-- --:--:-- --:--:--   367
</code></pre>
<pre><code class="language-json">{
  &quot;msg&quot;: &quot;Received a DELETE HTTP method for user of id: 1&quot;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="security"><a class="header" href="#security">Security</a></h1>
<ul>
<li>
<p><a href="security/./shield.html">Shield</a></p>
</li>
<li>
<p><a href="https://github.com/mohan-chinnappan-n/cli-dx/blob/master/sharing.md">Sharing debugger</a></p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sharing-debugger"><a class="header" href="#sharing-debugger">Sharing Debugger</a></h1>
<h2 id="how-to-run-sharing-debugger-for-the--given-user-"><a class="header" href="#how-to-run-sharing-debugger-for-the--given-user-">How to run sharing debugger for the  given user ?</a></h2>
<ul>
<li>Chrome Extension version 
<img src="https://github.com/mohan-chinnappan-n/cli-dx/raw/master/img/sd-1.png" alt="sd" /></li>
</ul>
<h3 id="demo-14"><a class="header" href="#demo-14">Demo</a></h3>
<p><img src="https://github.com/mohan-chinnappan-n/cli-dx/raw/master/img/sd-2.gif" alt="sd-demo" /></p>
<ul>
<li><a href="security/sd.html#faq">FAQ</a></li>
</ul>
<h3 id="dx-version"><a class="header" href="#dx-version">DX Version</a></h3>
<ul>
<li>Requires 0.0.144 version of the plugin
<ul>
<li>sfdx-mohanc-plugins@0.0.144</li>
<li><a href="https://mohan-chinnappan-n.github.io/dx/plugins.html#/1">How to install the plugin</a></li>
</ul>
</li>
</ul>
<p><img src="https://github.com/mohan-chinnappan-n/cli-dx/raw/master/img/userInfo.svg" alt="viz-1" /></p>
<ul>
<li>Login using  sfdx force:auth:web:login </li>
</ul>
<h3 id="usage-3"><a class="header" href="#usage-3">Usage</a></h3>
<pre><code>$ sfdx mohanc:sharing:debug -h
Run Sharing Debugger on the given org for the given user

USAGE
  $ sfdx mohanc:sharing:debug

Run Sharing Debugger on the given org for the given user

USAGE
  $ sfdx mohanc:sharing:debug

OPTIONS
  -n, --username=username                          User Name to Debug
  -u, --targetusername=targetusername              username or alias for the target org; overrides default target org
  -v, --targetdevhubusername=targetdevhubusername  username or alias for the dev hub org; overrides default dev hub org
  --apiversion=apiversion                          override the api version used for api requests made by this command
  --json                                           format output as json
  --loglevel=(trace|debug|info|warn|error|fatal)   logging level for this command invocation

EXAMPLE

       ** Run Sharing Debugger on the given org for the given user **

       USAGE
       sfdx mohanc:sharing:debug -u &lt;username&gt;  -n &lt;userNameToDebug&gt;

       writes userInfo.json and userInfo.svg files in the current directory

       -----------
    

</code></pre>
<h3 id="demo-15"><a class="header" href="#demo-15">Demo</a></h3>
<pre><code>$ sfdx mohanc:sharing:debug -u mohan.chinnappan.n_ea2@gmail.com -n mohan.chinnappan.n_ea2@gmail.com
____________Profile____________
profileId : 00e3h000001kqJMAAY
____________Permissions____________
&quot;Id&quot;,&quot;Name&quot;,&quot;PermissionsViewAllData&quot;,&quot;PermissionsModifyAllData&quot;,&quot;PermissionsManageDataIntegrations&quot;
&quot;00e3h000001kqJMAAY&quot;,&quot;System Administrator&quot;,true,true,true
____________PermSets____________
&quot;Id&quot;,&quot;Label&quot;,&quot;PermissionsViewAllData&quot;,&quot;PermissionsModifyAllData&quot;,&quot;PermissionsManageDataIntegrations&quot;
&quot;0PS3h000002PwNZGA0&quot;,&quot;00ex00000018ozh_128_09_04_12_1&quot;,true,true,true
____________AccountShare____________
&quot;Id&quot;,&quot;AccountId&quot;,&quot;AccountAccessLevel&quot;,&quot;OpportunityAccessLevel&quot;,&quot;CaseAccessLevel&quot;,&quot;ContactAccessLevel&quot;,&quot;RowCause&quot;
&quot;00r3h000033f9xzAAA&quot;,&quot;0013h00000FfgCMAAZ&quot;,&quot;All&quot;,&quot;Edit&quot;,&quot;Edit&quot;,&quot;Edit&quot;,&quot;Owner&quot;
&quot;00r3h000033fA4bAAE&quot;,&quot;0013h00000FfgCNAAZ&quot;,&quot;All&quot;,&quot;Edit&quot;,&quot;Edit&quot;,&quot;Edit&quot;,&quot;Owner&quot;
____________OpportunityShare____________
=== None found ===
</code></pre>
<h3 id="running-sharing-debugger-for-all-users"><a class="header" href="#running-sharing-debugger-for-all-users">Running Sharing debugger for all users</a></h3>
<ul>
<li><a href="https://github.com/mohan-chinnappan-n/shell-scripts/blob/master/process_sharing_debug.sh">Get process_sharing_debug.sh</a></li>
</ul>
<pre><code>bash  process_sharing_debug.sh &lt;login-user-name&gt;

# Example
bash  process_sharing_debug.sh mohan.chinnappan.n.sel@gmail.com 

</code></pre>
<p><img src="security/img/sd-all-users-.png" alt="All Users SD" /></p>
<hr />
<p><a name='faq'></a></p>
<h3 id="faq"><a class="header" href="#faq">FAQ</a></h3>
<ul>
<li>Why this user has access to this Account record, as per org security settings, this user should not have access to?
<img src="https://github.com/mohan-chinnappan-n/cli-dx/raw/master/sharing/img/why-user-A-has-RO-to-userB-Account-3.png" alt="Why this access" /></li>
<li><a href="https://help.salesforce.com/s/articleView?id=000325230&amp;type=1">Refer: Users can view records which are not shared to them </a></li>
</ul>
<h3 id="how-to-query-accountshare-object"><a class="header" href="#how-to-query-accountshare-object">How to query AccountShare object</a></h3>
<pre><code class="language-sql">SELECT Id ,AccountId,
      UserOrGroupId,AccountAccessLevel,OpportunityAccessLevel,CaseAccessLevel,ContactAccessLevel,RowCause 
      FROM AccountShare
      WHERE AccountId ='YOUR ACOUNT ID'

</code></pre>
<p><img src="https://github.com/mohan-chinnappan-n/cli-dx/raw/master/sharing/img/accountShare.webm.gif" alt="query account share object" /></p>
<h3 id="how-to-query-userrecordaccess-object"><a class="header" href="#how-to-query-userrecordaccess-object">How to query UserRecordAccess object</a></h3>
<pre><code>sfdx mohanc:data:query -q ~/.query/userRecordAccess.soql -u mohan.chinnappan.n_ea2@gmail.com -f json
</code></pre>
<pre><code class="language-json">[
    {
        &quot;attributes&quot;: {
            &quot;type&quot;: &quot;UserRecordAccess&quot;,
            &quot;url&quot;: &quot;/services/data/v52.0/sobjects/UserRecordAccess/0013h00000FfgCMAAZ&quot;
        },
        &quot;RecordId&quot;: &quot;0013h00000FfgCMAAZ&quot;,
        &quot;HasReadAccess&quot;: true,
        &quot;HasEditAccess&quot;: true,
        &quot;HasDeleteAccess&quot;: true,
        &quot;HasTransferAccess&quot;: true,
        &quot;HasAllAccess&quot;: true
    }
]
</code></pre>
<pre><code>cat ~/.query/userRecordAccess.soql 
</code></pre>
<pre><code class="language-sql">SELECT  RecordId,
HasReadAccess,HasEditAccess,HasDeleteAccess,
HasTransferAccess,HasAllAccess
FROM UserRecordAccess
WHERE UserId='0053h000002xQ5sAAE' AND
      RecordId = '0013h00000FfgCMAAZ'
</code></pre>
<h3 id="listing-share-sobjects"><a class="header" href="#listing-share-sobjects">Listing share sObjects</a></h3>
<pre><code>$ sfdx mohanc:ws:rest -f header_ea.json -r https://mohansun-ea-02-dev-ed.my.salesforce.com/services/data/v49.0/sobjects -m GET  &gt;  sobjects.json 

# sObjects with name ending with Share
$ sfdx mohanc:data:jq -i sobjects.json -f '.sobjects[].name | select ( contains(&quot;Share&quot;)  )'
&quot;AccountBrandShare&quot;
&quot;AccountShare&quot;
&quot;AcquiredAccount__Share&quot;
&quot;AssetShare&quot;
&quot;AuthorizationFormConsentShare&quot;
&quot;AuthorizationFormDataUseShare&quot;
&quot;AuthorizationFormShare&quot;
&quot;CalendarViewShare&quot;
&quot;CampaignShare&quot;
&quot;CaseShare&quot;
&quot;ChannelProgramLevelShare&quot;
&quot;ChannelProgramMemberShare&quot;
&quot;ChannelProgramShare&quot;
&quot;CommSubscriptionChannelTypeShare&quot;
&quot;CommSubscriptionConsentShare&quot;
&quot;CommSubscriptionShare&quot;
&quot;ConsumptionScheduleShare&quot;
&quot;ContactPointAddressShare&quot;
&quot;ContactPointConsentShare&quot;
&quot;ContactPointEmailShare&quot;
&quot;ContactPointPhoneShare&quot;
&quot;ContactPointTypeConsentShare&quot;
&quot;ContactRequestShare&quot;
&quot;ContactShare&quot;
&quot;DataUseLegalBasisShare&quot;
&quot;DataUsePurposeShare&quot;
&quot;EngagementChannelTypeShare&quot;
&quot;ExternalEventMappingShare&quot;
&quot;FlowInterviewLogShare&quot;
&quot;FlowInterviewShare&quot;
&quot;ImageShare&quot;
&quot;IndividualShare&quot;
&quot;LeadShare&quot;
&quot;ListEmailShare&quot;
&quot;MacroShare&quot;
&quot;MacroUsageShare&quot;
&quot;MyFilter__Share&quot;
&quot;OpportunityHistory__Share&quot;
&quot;OpportunityShare&quot;
&quot;OrderShare&quot;
&quot;OrgDeleteRequestShare&quot;
&quot;PartnerFundAllocationShare&quot;
&quot;PartnerFundClaimShare&quot;
&quot;PartnerFundRequestShare&quot;
&quot;PartnerMarketingBudgetShare&quot;
&quot;PartyConsentShare&quot;
&quot;PromptActionShare&quot;
&quot;QuickTextShare&quot;
&quot;QuickTextUsageShare&quot;
&quot;StreamingChannelShare&quot;
&quot;TodayGoalShare&quot;
&quot;UserAppMenuCustomizationShare&quot;
&quot;UserEmailPreferredPersonShare&quot;
&quot;UserProvisioningRequestShare&quot;
&quot;UserShare&quot;


# __Share sObjects
$  sfdx mohanc:data:jq -i sobjects.json -f '.sobjects[].name | select ( contains(&quot;__Share&quot;)  )'
&quot;AcquiredAccount__Share&quot;
&quot;MyFilter__Share&quot;
&quot;OpportunityHistory__Share&quot;


# list name,isCustomObject
$  sfdx mohanc:data:jq -i sobjects.json -f '.sobjects[] | .name + &quot;,&quot; + (.custom | tostring)' | sed -e 's/&quot;//g'
AIInsightAction,false
AIInsightFeedback,false
AIInsightReason,false
AIInsightValue,false
AIMetric,false
AIPredictionEvent,false
AIRecordInsight,false
AcceptedEventRelation,false
...


</code></pre>
<h3 id="querying-the-accountshare"><a class="header" href="#querying-the-accountshare">Querying the AccountShare</a></h3>
<pre><code>$ sfdx mohanc:data:query -q accountShare.soql -u mohan.chinnappan.n_ea2@gmail.com   | sed -e 's/&quot;&quot;/&quot;/g' | sed -e 's/&quot;//g'
attributes,Id,AccountId,UserOrGroupId,AccountAccessLevel,ContactAccessLevel,OpportunityAccessLevel,CaseAccessLevel
{type:AccountShare,url:/services/data/v49.0/sobjects/AccountShare/00r3h00000gJvnMAAS},00r3h00000gJvnMAAS,0013h00000FffwFAAR,00G3h000001rhfAEAQ,Read,Read,None,None
{type:AccountShare,url:/services/data/v49.0/sobjects/AccountShare/00r3h00000gJvnDAAS},00r3h00000gJvnDAAS,0013h00000FffwMAAR,00G3h000001rhfAEAQ,Read,Read,None,None
{type:AccountShare,url:/services/data/v49.0/sobjects/AccountShare/00r3h00000gJvryAAC},00r3h00000gJvryAAC,0013h00000FffwVAAR,00G3h000001rhfAEAQ,Read,Read,None,None
...

$ cat accountShare.soql
SELECT Id, AccountId, UserOrGroupId, 
AccountAccessLevel,
ContactAccessLevel,
OpportunityAccessLevel,
CaseAccessLevel

FROM AccountShare


</code></pre>
<h3 id="getting-namelabeltypelength-for-a-given-sobject-say-group"><a class="header" href="#getting-namelabeltypelength-for-a-given-sobject-say-group">Getting name,label,type,length for a given sObject (say Group)</a></h3>
<pre><code>$ bash ./sh/getObjectFields.sh Group
Id,Group ID,id,18
Name,Name,string,40
DeveloperName,Developer Name,string,80
RelatedId,Related ID,reference,18
Type,Type,picklist,40
Email,Email,email,255
OwnerId,Owner ID,reference,18
DoesSendEmailToMembers,Send Email to Members,boolean,0
DoesIncludeBosses,Include Bosses,boolean,0
CreatedDate,Created Date,datetime,0
CreatedById,Created By ID,reference,18
LastModifiedDate,Last Modified Date,datetime,0
LastModifiedById,Last Modified By ID,reference,18
SystemModstamp,System Modstamp,datetime,0

</code></pre>
<h3 id="read-group-sobject"><a class="header" href="#read-group-sobject">Read Group sObject</a></h3>
<pre><code>$ sfdx mohanc:data:query -u mohan.chinnappan.n_ea2@gmail.com -q ./soql/group.soql | sed -e 's/&quot;&quot;/&quot;/g' | sed -e 's/&quot;//g'
attributes,Id,Name,DeveloperName,RelatedId,Type,Email,OwnerId,DoesSendEmailToMembers,DoesIncludeBosses
{type:Group,url:/services/data/v49.0/sobjects/Group/00G3h000001rhf6EAA},00G3h000001rhf6EAA,,Sales_WW,00E3h000001JaqREAS,Role,,00D3h000007R1LuEAK,false,true
{type:Group,url:/services/data/v49.0/sobjects/Group/00G3h000001rhf8EAA},00G3h000001rhf8EAA,,CEOA,00E3h000001JaqUEAS,Role,,00D3h000007R1LuEAK,false,true
{type:Group,url:/services/data/v49.0/sobjects/Group/00G3h000001rhf9EAA},00G3h000001rhf9EAA,,CIO,00E3h000001JaqQEAS,Role,,00D3h000007R1LuEAK,false,true
{type:Group,url:/services/data/v49.0/sobjects/Group/00G3h000001rhfAEAQ},00G3h000001rhfAEAQ,,Sales_AMER,00E3h000001JaqSEAS,Role,,00D3h000007R1LuEAK,false,true
{type:Group,url:/services/data/v49.0/sobjects/Group/00G3h000001rhfBEAQ},00G3h000001rhfBEAQ,,Sales_EMEA,00E3h000001JaqTEAS,Role,,00D3h000007R1LuEAK,false,true
{type:Group,url:/services/data/v49.0/sobjects/Group/00G3h000001rhfCEAQ},00G3h000001rhfCEAQ,,CIO,00E3h000001JaqQEAS,RoleAndSubordinates,,00D3h000007R1LuEAK,false,true
{type:Group,url:/services/data/v49.0/sobjects/Group/00G3h000001rhfDEAQ},00G3h000001rhfDEAQ,,Sales_WW,00E3h000001JaqREAS,RoleAndSubordinates,,00D3h000007R1LuEAK,false,true
{type:Group,url:/services/data/v49.0/sobjects/Group/00G3h000001rhfEEAQ},00G3h000001rhfEEAQ,,Sales_AMER,00E3h000001JaqSEAS,RoleAndSubordinates,,00D3h000007R1LuEAK,false,true
{type:Group,url:/services/data/v49.0/sobjects/Group/00G3h000001rhfFEAQ},00G3h000001rhfFEAQ,,Sales_EMEA,00E3h000001JaqTEAS,RoleAndSubordinates,,00D3h000007R1LuEAK,false,true
{type:Group,url:/services/data/v49.0/sobjects/Group/00G3h000001rhfGEAQ},00G3h000001rhfGEAQ,,CEOD,00E3h000001JaqUEAS,RoleAndSubordinates,,00D3h000007R1LuEAK,false,true
{type:Group,url:/services/data/v49.0/sobjects/Group/00G3h000001HciTEAS},00G3h000001HciTEAS,,CEO,00E3h000001JaqUEAS,RoleAndSubordinatesInternal,,00D3h000007R1LuEAK,false,true
{type:Group,url:/services/data/v49.0/sobjects/Group/00G3h000001HciUEAS},00G3h000001HciUEAS,,CIO,00E3h000001JaqQEAS,RoleAndSubordinatesInternal,,00D3h000007R1LuEAK,false,true
{type:Group,url:/services/data/v49.0/sobjects/Group/00G3h000001HciVEAS},00G3h000001HciVEAS,,Sales_AMER,00E3h000001JaqSEAS,RoleAndSubordinatesInternal,,00D3h000007R1LuEAK,false,true
{type:Group,url:/services/data/v49.0/sobjects/Group/00G3h000001HciWEAS},00G3h000001HciWEAS,,Sales_EMEA,00E3h000001JaqTEAS,RoleAndSubordinatesInternal,,00D3h000007R1LuEAK,false,true
{type:Group,url:/services/data/v49.0/sobjects/Group/00G3h000001HciXEAS},00G3h000001HciXEAS,,Sales_WW,00E3h000001JaqREAS,RoleAndSubordinatesInternal,,00D3h000007R1LuEAK,false,true
{type:Group,url:/services/data/v49.0/sobjects/Group/00G3h000001HciSEAS},00G3h000001HciSEAS,,AllPartnerUsers,,PRMOrganization,,00D3h000007R1LuEAK,false,true
{type:Group,url:/services/data/v49.0/sobjects/Group/00G3h000001rhf7EAA},00G3h000001rhf7EAA,,AllInternalUsers,,Organization,,00D3h000007R1LuEAK,false,true
{type:Group,url:/services/data/v49.0/sobjects/Group/00G3h000001HciYEAS},00G3h000001HciYEAS,,AllCustomerPortalUsers,,AllCustomerPortal,,00D3h000007R1LuEAK,false,true
{type:Group,url:/services/data/v49.0/sobjects/Group/00G3h000001HcicEAC},00G3h000001HcicEAC,selfservice,selfservice,0053h000002xqUhAAI,GuestUserGroup,,00D3h000007R1LuEAK,false,true

$ cat soql/group.soql 
SELECT
    Id,
    Name,
    DeveloperName,
    RelatedId,
    Type,
    Email,
    OwnerId,
    DoesSendEmailToMembers,
    DoesIncludeBosses
FROM Group

</code></pre>
<h3 id="queue"><a class="header" href="#queue">Queue</a></h3>
<pre><code>$ bash ./sh/getObjectFields.sh QueueSobject
Id,Queue Sobject ID,id,18
QueueId,Group ID,reference,18
SobjectType,Sobject Type,picklist,40
CreatedById,Created By ID,reference,18
SystemModstamp,System Modstamp,datetime,0

$ sfdx mohanc:data:query -u mohan.chinnappan.n_ea2@gmail.com -q ./soql/queue.soql | sed -e 's/&quot;&quot;/&quot;/g' | sed -e 's/&quot;//g'

</code></pre>
<h3 id="organization"><a class="header" href="#organization">Organization</a></h3>
<pre><code>$ bash ./sh/getObjectFields.sh Organization
Id,Organization ID,id,18
Name,Name,string,80
Division,Division,string,80
Street,Street,textarea,255
City,City,string,40
State,State/Province,string,80
PostalCode,Zip/Postal Code,string,20
Country,Country,string,80
Latitude,Latitude,double,0
Longitude,Longitude,double,0
GeocodeAccuracy,Geocode Accuracy,picklist,40
Address,Address,address,0
Phone,Phone,phone,40
Fax,Fax,phone,40
PrimaryContact,Primary Contact,string,80
DefaultLocaleSidKey,Locale,picklist,40
TimeZoneSidKey,Time Zone,picklist,40
LanguageLocaleKey,Language,picklist,40
ReceivesInfoEmails,Info Emails,boolean,0
ReceivesAdminInfoEmails,Info Emails Admin,boolean,0
PreferencesRequireOpportunityProducts,RequireOpportunityProducts,boolean,0
PreferencesTransactionSecurityPolicy,TransactionSecurityPolicy,boolean,0
PreferencesTerminateOldestSession,TerminateOldestSession,boolean,0
PreferencesConsentManagementEnabled,ConsentManagementEnabled,boolean,0
PreferencesAutoSelectIndividualOnMerge,AutoSelectIndividualOnMerge,boolean,0
PreferencesLightningLoginEnabled,LightningLoginEnabled,boolean,0
PreferencesOnlyLLPermUserAllowed,OnlyLLPermUserAllowed,boolean,0
FiscalYearStartMonth,Fiscal Year Starts In,int,0
UsesStartDateAsFiscalYearName,Fiscal Year Name by Start,boolean,0
DefaultAccountAccess,Default Account Access,picklist,40
DefaultContactAccess,Default Contact Access,picklist,40
DefaultOpportunityAccess,Default Opportunity Access,picklist,40
DefaultLeadAccess,Default Lead Access,picklist,40
DefaultCaseAccess,Default Case Access,picklist,40
DefaultCalendarAccess,Default Calendar Access,picklist,40
DefaultPricebookAccess,Default Price Book Access,picklist,40
DefaultCampaignAccess,Default Campaign Access,picklist,40
SystemModstamp,System Modstamp,datetime,0
ComplianceBccEmail,Compliance BCC Email,email,80
UiSkin,UI Skin,picklist,40
SignupCountryIsoCode,Signup Country,string,2
TrialExpirationDate,Trial Expiration Date,datetime,0
NumKnowledgeService,Knowledge Licenses,int,0
OrganizationType,Edition,picklist,40
NamespacePrefix,Namespace Prefix,string,15
InstanceName,Instance Name,string,5
IsSandbox,Is Sandbox,boolean,0
WebToCaseDefaultOrigin,Web to Cases Default Origin,string,40
MonthlyPageViewsUsed,Monthly Page Views Used,int,0
MonthlyPageViewsEntitlement,Monthly Page Views Allowed,int,0
IsReadOnly,Is Read Only,boolean,0
CreatedDate,Created Date,datetime,0
CreatedById,Created By ID,reference,18
LastModifiedDate,Last Modified Date,datetime,0
LastModifiedById,Last Modified By ID,reference,18
</code></pre>
<h3 id="user"><a class="header" href="#user">User</a></h3>
<pre><code>$ bash getObjectFields.sh User
Id,User ID,id,18
Username,Username,string,80
LastName,Last Name,string,80
FirstName,First Name,string,40
Name,Full Name,string,121
CompanyName,Company Name,string,80
Division,Division,string,80
Department,Department,string,80
Title,Title,string,80
Street,Street,textarea,255
City,City,string,40
State,State/Province,string,80
PostalCode,Zip/Postal Code,string,20
Country,Country,string,80
Latitude,Latitude,double,0
Longitude,Longitude,double,0
GeocodeAccuracy,Geocode Accuracy,picklist,40
Address,Address,address,0
Email,Email,email,128
EmailPreferencesAutoBcc,AutoBcc,boolean,0
EmailPreferencesAutoBccStayInTouch,AutoBccStayInTouch,boolean,0
EmailPreferencesStayInTouchReminder,StayInTouchReminder,boolean,0
SenderEmail,Email Sender Address,email,80
SenderName,Email Sender Name,string,80
Signature,Email Signature,textarea,1333
StayInTouchSubject,Stay-in-Touch Email Subject,string,80
StayInTouchSignature,Stay-in-Touch Email Signature,textarea,512
StayInTouchNote,Stay-in-Touch Email Note,string,512
Phone,Phone,phone,40
Fax,Fax,phone,40
MobilePhone,Mobile,phone,40
Alias,Alias,string,8
CommunityNickname,Nickname,string,40
BadgeText,User Photo badge text overlay,string,80
IsActive,Active,boolean,0
TimeZoneSidKey,Time Zone,picklist,40
UserRoleId,Role ID,reference,18
LocaleSidKey,Locale,picklist,40
ReceivesInfoEmails,Info Emails,boolean,0
ReceivesAdminInfoEmails,Admin Info Emails,boolean,0
EmailEncodingKey,Email Encoding,picklist,40
ProfileId,Profile ID,reference,18
UserType,User Type,picklist,40
LanguageLocaleKey,Language,picklist,40
EmployeeNumber,Employee Number,string,20
DelegatedApproverId,Delegated Approver ID,reference,18
ManagerId,Manager ID,reference,18
LastLoginDate,Last Login,datetime,0
LastPasswordChangeDate,Last Password Change or Reset,datetime,0
CreatedDate,Created Date,datetime,0
CreatedById,Created By ID,reference,18
LastModifiedDate,Last Modified Date,datetime,0
LastModifiedById,Last Modified By ID,reference,18
SystemModstamp,System Modstamp,datetime,0
NumberOfFailedLogins,Failed Login Attempts,int,0
OfflineTrialExpirationDate,Offline Edition Trial Expiration Date,datetime,0
OfflinePdaTrialExpirationDate,Sales Anywhere Trial Expiration Date,datetime,0
UserPermissionsMarketingUser,Marketing User,boolean,0
UserPermissionsOfflineUser,Offline User,boolean,0
UserPermissionsCallCenterAutoLogin,Auto-login To Call Center,boolean,0
UserPermissionsSFContentUser,Salesforce CRM Content User,boolean,0
UserPermissionsKnowledgeUser,Knowledge User,boolean,0
UserPermissionsInteractionUser,Flow User,boolean,0
UserPermissionsSupportUser,Service Cloud User,boolean,0
UserPermissionsJigsawProspectingUser,Data.com User,boolean,0
UserPermissionsSiteforceContributorUser,Site.com Contributor User,boolean,0
UserPermissionsSiteforcePublisherUser,Site.com Publisher User,boolean,0
UserPermissionsWorkDotComUserFeature,WDC User,boolean,0
ForecastEnabled,Allow Forecasting,boolean,0
UserPreferencesActivityRemindersPopup,ActivityRemindersPopup,boolean,0
UserPreferencesEventRemindersCheckboxDefault,EventRemindersCheckboxDefault,boolean,0
UserPreferencesTaskRemindersCheckboxDefault,TaskRemindersCheckboxDefault,boolean,0
UserPreferencesReminderSoundOff,ReminderSoundOff,boolean,0
UserPreferencesDisableAllFeedsEmail,DisableAllFeedsEmail,boolean,0
UserPreferencesDisableFollowersEmail,DisableFollowersEmail,boolean,0
UserPreferencesDisableProfilePostEmail,DisableProfilePostEmail,boolean,0
UserPreferencesDisableChangeCommentEmail,DisableChangeCommentEmail,boolean,0
UserPreferencesDisableLaterCommentEmail,DisableLaterCommentEmail,boolean,0
UserPreferencesDisProfPostCommentEmail,DisProfPostCommentEmail,boolean,0
UserPreferencesContentNoEmail,ContentNoEmail,boolean,0
UserPreferencesContentEmailAsAndWhen,ContentEmailAsAndWhen,boolean,0
UserPreferencesApexPagesDeveloperMode,ApexPagesDeveloperMode,boolean,0
UserPreferencesReceiveNoNotificationsAsApprover,ReceiveNoNotificationsAsApprover,boolean,0
UserPreferencesReceiveNotificationsAsDelegatedApprover,ReceiveNotificationsAsDelegatedApprover,boolean,0
UserPreferencesHideCSNGetChatterMobileTask,HideCSNGetChatterMobileTask,boolean,0
UserPreferencesDisableMentionsPostEmail,DisableMentionsPostEmail,boolean,0
UserPreferencesDisMentionsCommentEmail,DisMentionsCommentEmail,boolean,0
UserPreferencesHideCSNDesktopTask,HideCSNDesktopTask,boolean,0
UserPreferencesHideChatterOnboardingSplash,HideChatterOnboardingSplash,boolean,0
UserPreferencesHideSecondChatterOnboardingSplash,HideSecondChatterOnboardingSplash,boolean,0
UserPreferencesDisCommentAfterLikeEmail,DisCommentAfterLikeEmail,boolean,0
UserPreferencesDisableLikeEmail,DisableLikeEmail,boolean,0
UserPreferencesSortFeedByComment,SortFeedByComment,boolean,0
UserPreferencesDisableMessageEmail,DisableMessageEmail,boolean,0
UserPreferencesHideLegacyRetirementModal,HideLegacyRetirementModal,boolean,0
UserPreferencesJigsawListUser,JigsawListUser,boolean,0
UserPreferencesDisableBookmarkEmail,DisableBookmarkEmail,boolean,0
UserPreferencesDisableSharePostEmail,DisableSharePostEmail,boolean,0
UserPreferencesEnableAutoSubForFeeds,EnableAutoSubForFeeds,boolean,0
UserPreferencesDisableFileShareNotificationsForApi,DisableFileShareNotificationsForApi,boolean,0
UserPreferencesShowTitleToExternalUsers,ShowTitleToExternalUsers,boolean,0
UserPreferencesShowManagerToExternalUsers,ShowManagerToExternalUsers,boolean,0
UserPreferencesShowEmailToExternalUsers,ShowEmailToExternalUsers,boolean,0
UserPreferencesShowWorkPhoneToExternalUsers,ShowWorkPhoneToExternalUsers,boolean,0
UserPreferencesShowMobilePhoneToExternalUsers,ShowMobilePhoneToExternalUsers,boolean,0
UserPreferencesShowFaxToExternalUsers,ShowFaxToExternalUsers,boolean,0
UserPreferencesShowStreetAddressToExternalUsers,ShowStreetAddressToExternalUsers,boolean,0
UserPreferencesShowCityToExternalUsers,ShowCityToExternalUsers,boolean,0
UserPreferencesShowStateToExternalUsers,ShowStateToExternalUsers,boolean,0
UserPreferencesShowPostalCodeToExternalUsers,ShowPostalCodeToExternalUsers,boolean,0
UserPreferencesShowCountryToExternalUsers,ShowCountryToExternalUsers,boolean,0
UserPreferencesShowProfilePicToGuestUsers,ShowProfilePicToGuestUsers,boolean,0
UserPreferencesShowTitleToGuestUsers,ShowTitleToGuestUsers,boolean,0
UserPreferencesShowCityToGuestUsers,ShowCityToGuestUsers,boolean,0
UserPreferencesShowStateToGuestUsers,ShowStateToGuestUsers,boolean,0
UserPreferencesShowPostalCodeToGuestUsers,ShowPostalCodeToGuestUsers,boolean,0
UserPreferencesShowCountryToGuestUsers,ShowCountryToGuestUsers,boolean,0
UserPreferencesDisableFeedbackEmail,DisableFeedbackEmail,boolean,0
UserPreferencesDisableWorkEmail,DisableWorkEmail,boolean,0
UserPreferencesPipelineViewHideHelpPopover,PipelineViewHideHelpPopover,boolean,0
UserPreferencesHideS1BrowserUI,HideS1BrowserUI,boolean,0
UserPreferencesDisableEndorsementEmail,DisableEndorsementEmail,boolean,0
UserPreferencesPathAssistantCollapsed,PathAssistantCollapsed,boolean,0
UserPreferencesCacheDiagnostics,CacheDiagnostics,boolean,0
UserPreferencesShowEmailToGuestUsers,ShowEmailToGuestUsers,boolean,0
UserPreferencesShowManagerToGuestUsers,ShowManagerToGuestUsers,boolean,0
UserPreferencesShowWorkPhoneToGuestUsers,ShowWorkPhoneToGuestUsers,boolean,0
UserPreferencesShowMobilePhoneToGuestUsers,ShowMobilePhoneToGuestUsers,boolean,0
UserPreferencesShowFaxToGuestUsers,ShowFaxToGuestUsers,boolean,0
UserPreferencesShowStreetAddressToGuestUsers,ShowStreetAddressToGuestUsers,boolean,0
UserPreferencesLightningExperiencePreferred,LightningExperiencePreferred,boolean,0
UserPreferencesPreviewLightning,PreviewLightning,boolean,0
UserPreferencesHideEndUserOnboardingAssistantModal,HideEndUserOnboardingAssistantModal,boolean,0
UserPreferencesHideLightningMigrationModal,HideLightningMigrationModal,boolean,0
UserPreferencesHideSfxWelcomeMat,HideSfxWelcomeMat,boolean,0
UserPreferencesHideBiggerPhotoCallout,HideBiggerPhotoCallout,boolean,0
UserPreferencesGlobalNavBarWTShown,GlobalNavBarWTShown,boolean,0
UserPreferencesGlobalNavGridMenuWTShown,GlobalNavGridMenuWTShown,boolean,0
UserPreferencesCreateLEXAppsWTShown,CreateLEXAppsWTShown,boolean,0
UserPreferencesFavoritesWTShown,FavoritesWTShown,boolean,0
UserPreferencesRecordHomeSectionCollapseWTShown,RecordHomeSectionCollapseWTShown,boolean,0
UserPreferencesRecordHomeReservedWTShown,RecordHomeReservedWTShown,boolean,0
UserPreferencesFavoritesShowTopFavorites,FavoritesShowTopFavorites,boolean,0
UserPreferencesExcludeMailAppAttachments,ExcludeMailAppAttachments,boolean,0
UserPreferencesSuppressTaskSFXReminders,SuppressTaskSFXReminders,boolean,0
UserPreferencesSuppressEventSFXReminders,SuppressEventSFXReminders,boolean,0
UserPreferencesPreviewCustomTheme,PreviewCustomTheme,boolean,0
UserPreferencesHasCelebrationBadge,HasCelebrationBadge,boolean,0
UserPreferencesUserDebugModePref,UserDebugModePref,boolean,0
UserPreferencesSRHOverrideActivities,SRHOverrideActivities,boolean,0
UserPreferencesNewLightningReportRunPageEnabled,NewLightningReportRunPageEnabled,boolean,0
UserPreferencesNativeEmailClient,NativeEmailClient,boolean,0
ContactId,Contact ID,reference,18
AccountId,Account ID,reference,18
CallCenterId,Call Center ID,reference,18
Extension,Extension,phone,40
PortalRole,Portal Role Level,picklist,40
IsPortalEnabled,Is Portal Enabled,boolean,0
FederationIdentifier,SAML Federation ID,string,512
AboutMe,About Me,textarea,1000
FullPhotoUrl,Url for full-sized Photo,url,1024
SmallPhotoUrl,Photo,url,1024
IsExtIndicatorVisible,Show external indicator,boolean,0
OutOfOfficeMessage,Out of office message,string,40
MediumPhotoUrl,Url for medium profile photo,url,1024
DigestFrequency,Chatter Email Highlights Frequency,picklist,40
DefaultGroupNotificationFrequency,Default Notification Frequency when Joining Groups,picklist,40
JigsawImportLimitOverride,Data.com Monthly Addition Limit,int,0
LastViewedDate,Last Viewed Date,datetime,0
LastReferencedDate,Last Referenced Date,datetime,0
BannerPhotoUrl,Url for banner photo,url,1024
SmallBannerPhotoUrl,Url for IOS banner photo,url,1024
MediumBannerPhotoUrl,Url for Android banner photo,url,1024
IsProfilePhotoActive,Has Profile Photo,boolean,0
IndividualId,Individual ID,reference,18

sfdx mohanc:data:query -u mohan.chinnappan.n_ea2@gmail.com -q ~/bulkapi/dx/soql/user.soql 
&quot;attributes&quot;,&quot;Id&quot;,&quot;Name&quot;
&quot;{&quot;&quot;type&quot;&quot;:&quot;&quot;User&quot;&quot;,&quot;&quot;url&quot;&quot;:&quot;&quot;/services/data/v49.0/sobjects/User/0053h000003de6cAAA&quot;&quot;}&quot;,&quot;0053h000003de6cAAA&quot;,&quot;Automated Process&quot;
&quot;{&quot;&quot;type&quot;&quot;:&quot;&quot;User&quot;&quot;,&quot;&quot;url&quot;&quot;:&quot;&quot;/services/data/v49.0/sobjects/User/0053h000002xqUhAAI&quot;&quot;}&quot;,&quot;0053h000002xqUhAAI&quot;,&quot;selfservice Site Guest User&quot;
&quot;{&quot;&quot;type&quot;&quot;:&quot;&quot;User&quot;&quot;,&quot;&quot;url&quot;&quot;:&quot;&quot;/services/data/v49.0/sobjects/User/0053h000002xQ5sAAE&quot;&quot;}&quot;,&quot;0053h000002xQ5sAAE&quot;,&quot;Mohan Chinnappan&quot;
...
</code></pre>
<h3 id="object-permission"><a class="header" href="#object-permission">Object Permission</a></h3>
<pre><code>$ bash getObjectFields.sh ObjectPermissions
Id,ObjectPermissions ID,id,18
ParentId,Parent ID,reference,18
SobjectType,SObject Type Name,picklist,40
PermissionsCreate,Create Records,boolean,0
PermissionsRead,Read Records,boolean,0
PermissionsEdit,Edit Records,boolean,0
PermissionsDelete,Delete Records,boolean,0
PermissionsViewAllRecords,Read All Records,boolean,0
PermissionsModifyAllRecords,Edit All Records,boolean,0
CreatedDate,Created Date,datetime,0
CreatedById,Created By ID,reference,18
LastModifiedDate,Last Modified Date,datetime,0
LastModifiedById,Last Modified By ID,reference,18
SystemModstamp,System Modstamp,datetime,0


$ bash soql/ObjectPermission.sh 0053h000002xQ5sAAE Account  &gt; soql/op_account.soql
$ cat  soql/op_account.soql 

SELECT Id,
    SObjectType,

    PermissionsCreate,
    PermissionsRead,
    PermissionsEdit,
    PermissionsDelete,
    PermissionsViewAllRecords,
    PermissionsModifyAllRecords,

    Parent.label,
    Parent.IsOwnedByProfile 
 FROM ObjectPermissions  
   WHERE (ParentId IN (
                SELECT PermissionSetId                 
                  FROM PermissionSetAssignment  
                  WHERE Assignee.id = '0053h000002xQ5sAAE')
         ) 
      AND
         (SobjectType = 'Account')


$ sfdx mohanc:data:query -u mohan.chinnappan.n_ea2@gmail.com -q soql/op_account.soql | sed -e 's/&quot;&quot;/&quot;/g' | sed -e 's/&quot;//g'
attributes,Id,SobjectType,PermissionsCreate,PermissionsRead,PermissionsEdit,PermissionsDelete,PermissionsViewAllRecords,PermissionsModifyAllRecords,Parent
{type:ObjectPermissions,url:/services/data/v49.0/sobjects/ObjectPermissions/1103h00001wg5TMAAY},1103h00001wg5TMAAY,Account,true,true,true,true,true,true,{attributes:{type:PermissionSet,url:/services/data/v49.0/sobjects/PermissionSet/0PS3h000002PwNZGA0},Label:00ex00000018ozh_128_09_04_12_1,IsOwnedByProfile:true}
{type:ObjectPermissions,url:/services/data/v49.0/sobjects/ObjectPermissions/00000002PwNZ001AID},00000002PwNZ001AID,Account,true,true,true,true,true,true,{attributes:{type:PermissionSet,url:/services/data/v49.0/sobjects/PermissionSet/0PS3h000002PwNZGA0},Label:00ex00000018ozh_128_09_04_12_1,IsOwnedByProfile:true}

# column formatting
$ sfdx mohanc:data:query -u mohan.chinnappan.n_ea2@gmail.com -q soql/op_account.soql | sed -e 's/&quot;&quot;/&quot;/g' | sed -e 's/&quot;//g' |   column -t -s, | less -S

</code></pre>
<h3 id="fieldpermissions"><a class="header" href="#fieldpermissions">FieldPermissions</a></h3>
<pre><code>$ bash soql/FieldPermission.sh 0053h000002xQ5sAAE Account  &gt; soql/fp_account.soql
$ cat  soql/fp_account.soql

SELECT Id,
    SObjectType,
    Field,
    PermissionsRead,
    PermissionsEdit,
    Parent.label,
     Parent.IsOwnedByProfile 
 FROM FieldPermissions  
 WHERE (ParentId IN 
         (SELECT PermissionSetId    
              FROM PermissionSetAssignment
                  WHERE Assignee.id = '0053h000002xQ5sAAE')
      ) 
     AND
       (SobjectType = 'Account') 


$ sfdx mohanc:data:query -u mohan.chinnappan.n_ea2@gmail.com -q soql/fp_account.soql | sed -e 's/&quot;&quot;/&quot;/g'
&quot;attributes&quot;,&quot;Id&quot;,&quot;SobjectType&quot;,&quot;Field&quot;,&quot;PermissionsRead&quot;,&quot;PermissionsEdit&quot;,&quot;Parent&quot;
&quot;{&quot;type&quot;:&quot;FieldPermissions&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/FieldPermissions/01k3h0000Iu8132AQA&quot;}&quot;,&quot;01k3h0000Iu8132AQA&quot;,&quot;Account&quot;,&quot;Account.YearStarted&quot;,true,false,&quot;{&quot;attributes&quot;:{&quot;type&quot;:&quot;PermissionSet&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/PermissionSet/0PS3h000002PwNZGA0&quot;},&quot;Label&quot;:&quot;00ex00000018ozh_128_09_04_12_1&quot;,&quot;IsOwnedByProfile&quot;:true}&quot;
&quot;{&quot;type&quot;:&quot;FieldPermissions&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/FieldPermissions/01k3h0000Iu8131AQA&quot;}&quot;,&quot;01k3h0000Iu8131AQA&quot;,&quot;Account&quot;,&quot;Account.Website&quot;,true,true,&quot;{&quot;attributes&quot;:{&quot;type&quot;:&quot;PermissionSet&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/PermissionSet/0PS3h000002PwNZGA0&quot;},&quot;Label&quot;:&quot;00ex00000018ozh_128_09_04_12_1&quot;,&quot;IsOwnedByProfile&quot;:true}&quot;
&quot;{&quot;type&quot;:&quot;FieldPermissions&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/FieldPermissions/01k3h0000Iu8130AQA&quot;}&quot;,&quot;01k3h0000Iu8130AQA&quot;,&quot;Account&quot;,&quot;Account.Type&quot;,true,true,&quot;{&quot;attributes&quot;:{&quot;type&quot;:&quot;PermissionSet&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/PermissionSet/0PS3h000002PwNZGA0&quot;},&quot;Label&quot;:&quot;00ex00000018ozh_128_09_04_12_1&quot;,&quot;IsOwnedByProfile&quot;:true}&quot;
&quot;{&quot;type&quot;:&quot;FieldPermissions&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/FieldPermissions/01k3h0000Iu812zAQA&quot;}&quot;,&quot;01k3h0000Iu812zAQA&quot;,&quot;Account&quot;,&quot;Account.Tradestyle&quot;,true,false,&quot;{&quot;attributes&quot;:{&quot;type&quot;:&quot;PermissionSet&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/PermissionSet/0PS3h000002PwNZGA0&quot;},&quot;Label&quot;:&quot;00ex00000018ozh_128_09_04_12_1&quot;,&quot;IsOwnedByProfile&quot;:true}&quot;
&quot;{&quot;type&quot;:&quot;FieldPermissions&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/FieldPermissions/01k3h0000Iu812yAQA&quot;}&quot;,&quot;01k3h0000Iu812yAQA&quot;,&quot;Account&quot;,&quot;Account.TickerSymbol&quot;,true,true,&quot;{&quot;attributes&quot;:{&quot;type&quot;:&quot;PermissionSet&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/PermissionSet/0PS3h000002PwNZGA0&quot;},&quot;Label&quot;:&quot;00ex00000018ozh_128_09_04_12_1&quot;,&quot;IsOwnedByProfile&quot;:true}&quot;
&quot;{&quot;type&quot;:&quot;FieldPermissions&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/FieldPermissions/01k3h0000Iu812xAQA&quot;}&quot;,&quot;01k3h0000Iu812xAQA&quot;,&quot;Account&quot;,&quot;Account.Site&quot;,true,true,&quot;{&quot;attributes&quot;:{&quot;type&quot;:&quot;PermissionSet&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/PermissionSet/0PS3h000002PwNZGA0&quot;},&quot;Label&quot;:&quot;00ex00000018ozh_128_09_04_12_1&quot;,&quot;IsOwnedByProfile&quot;:true}&quot;
&quot;{&quot;type&quot;:&quot;FieldPermissions&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/FieldPermissions/01k3h0000Iu812wAQA&quot;}&quot;,&quot;01k3h0000Iu812wAQA&quot;,&quot;Account&quot;,&quot;Account.SicDesc&quot;,true,true,&quot;{&quot;attributes&quot;:{&quot;type&quot;:&quot;PermissionSet&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/PermissionSet/0PS3h000002PwNZGA0&quot;},&quot;Label&quot;:&quot;00ex00000018ozh_128_09_04_12_1&quot;,&quot;IsOwnedByProfile&quot;:true}&quot;
&quot;{&quot;type&quot;:&quot;FieldPermissions&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/FieldPermissions/01k3h0000Iu812vAQA&quot;}&quot;,&quot;01k3h0000Iu812vAQA&quot;,&quot;Account&quot;,&quot;Account.Sic&quot;,true,true,&quot;{&quot;attributes&quot;:{&quot;type&quot;:&quot;PermissionSet&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/PermissionSet/0PS3h000002PwNZGA0&quot;},&quot;Label&quot;:&quot;00ex00000018ozh_128_09_04_12_1&quot;,&quot;IsOwnedByProfile&quot;:true}&quot;
&quot;{&quot;type&quot;:&quot;FieldPermissions&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/FieldPermissions/01k3h0000Iu812uAQA&quot;}&quot;,&quot;01k3h0000Iu812uAQA&quot;,&quot;Account&quot;,&quot;Account.ShippingAddress&quot;,true,true,&quot;{&quot;attributes&quot;:{&quot;type&quot;:&quot;PermissionSet&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/PermissionSet/0PS3h000002PwNZGA0&quot;},&quot;Label&quot;:&quot;00ex00000018ozh_128_09_04_12_1&quot;,&quot;IsOwnedByProfile&quot;:true}&quot;
&quot;{&quot;type&quot;:&quot;FieldPermissions&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/FieldPermissions/01k3h0000Iu812tAQA&quot;}&quot;,&quot;01k3h0000Iu812tAQA&quot;,&quot;Account&quot;,&quot;Account.Rating&quot;,true,true,&quot;{&quot;attributes&quot;:{&quot;type&quot;:&quot;PermissionSet&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/PermissionSet/0PS3h000002PwNZGA0&quot;},&quot;Label&quot;:&quot;00ex00000018ozh_128_09_04_12_1&quot;,&quot;IsOwnedByProfile&quot;:true}&quot;
&quot;{&quot;type&quot;:&quot;FieldPermissions&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/FieldPermissions/01k3h0000Iu812sAQA&quot;}&quot;,&quot;01k3h0000Iu812sAQA&quot;,&quot;Account&quot;,&quot;Account.Phone&quot;,true,true,&quot;{&quot;attributes&quot;:{&quot;type&quot;:&quot;PermissionSet&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/PermissionSet/0PS3h000002PwNZGA0&quot;},&quot;Label&quot;:&quot;00ex00000018ozh_128_09_04_12_1&quot;,&quot;IsOwnedByProfile&quot;:true}&quot;
&quot;{&quot;type&quot;:&quot;FieldPermissions&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/FieldPermissions/01k3h0000Iu812rAQA&quot;}&quot;,&quot;01k3h0000Iu812rAQA&quot;,&quot;Account&quot;,&quot;Account.Parent&quot;,true,true,&quot;{&quot;attributes&quot;:{&quot;type&quot;:&quot;PermissionSet&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/PermissionSet/0PS3h000002PwNZGA0&quot;},&quot;Label&quot;:&quot;00ex00000018ozh_128_09_04_12_1&quot;,&quot;IsOwnedByProfile&quot;:true}&quot;
&quot;{&quot;type&quot;:&quot;FieldPermissions&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/FieldPermissions/01k3h0000Iu812qAQA&quot;}&quot;,&quot;01k3h0000Iu812qAQA&quot;,&quot;Account&quot;,&quot;Account.Ownership&quot;,true,true,&quot;{&quot;attributes&quot;:{&quot;type&quot;:&quot;PermissionSet&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/PermissionSet/0PS3h000002PwNZGA0&quot;},&quot;Label&quot;:&quot;00ex00000018ozh_128_09_04_12_1&quot;,&quot;IsOwnedByProfile&quot;:true}&quot;
&quot;{&quot;type&quot;:&quot;FieldPermissions&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/FieldPermissions/01k3h0000Iu812pAQA&quot;}&quot;,&quot;01k3h0000Iu812pAQA&quot;,&quot;Account&quot;,&quot;Account.NumberOfEmployees&quot;,true,true,&quot;{&quot;attributes&quot;:{&quot;type&quot;:&quot;PermissionSet&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/PermissionSet/0PS3h000002PwNZGA0&quot;},&quot;Label&quot;:&quot;00ex00000018ozh_128_09_04_12_1&quot;,&quot;IsOwnedByProfile&quot;:true}&quot;
&quot;{&quot;type&quot;:&quot;FieldPermissions&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/FieldPermissions/01k3h0000Iu812oAQA&quot;}&quot;,&quot;01k3h0000Iu812oAQA&quot;,&quot;Account&quot;,&quot;Account.NaicsDesc&quot;,true,false,&quot;{&quot;attributes&quot;:{&quot;type&quot;:&quot;PermissionSet&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/PermissionSet/0PS3h000002PwNZGA0&quot;},&quot;Label&quot;:&quot;00ex00000018ozh_128_09_04_12_1&quot;,&quot;IsOwnedByProfile&quot;:true}&quot;
&quot;{&quot;type&quot;:&quot;FieldPermissions&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/FieldPermissions/01k3h0000Iu812nAQA&quot;}&quot;,&quot;01k3h0000Iu812nAQA&quot;,&quot;Account&quot;,&quot;Account.NaicsCode&quot;,true,false,&quot;{&quot;attributes&quot;:{&quot;type&quot;:&quot;PermissionSet&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/PermissionSet/0PS3h000002PwNZGA0&quot;},&quot;Label&quot;:&quot;00ex00000018ozh_128_09_04_12_1&quot;,&quot;IsOwnedByProfile&quot;:true}&quot;
&quot;{&quot;type&quot;:&quot;FieldPermissions&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/FieldPermissions/01k3h0000Iu812mAQA&quot;}&quot;,&quot;01k3h0000Iu812mAQA&quot;,&quot;Account&quot;,&quot;Account.Jigsaw&quot;,true,true,&quot;{&quot;attributes&quot;:{&quot;type&quot;:&quot;PermissionSet&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/PermissionSet/0PS3h000002PwNZGA0&quot;},&quot;Label&quot;:&quot;00ex00000018ozh_128_09_04_12_1&quot;,&quot;IsOwnedByProfile&quot;:true}&quot;
&quot;{&quot;type&quot;:&quot;FieldPermissions&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/FieldPermissions/01k3h0000Iu812lAQA&quot;}&quot;,&quot;01k3h0000Iu812lAQA&quot;,&quot;Account&quot;,&quot;Account.Industry&quot;,true,true,&quot;{&quot;attributes&quot;:{&quot;type&quot;:&quot;PermissionSet&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/PermissionSet/0PS3h000002PwNZGA0&quot;},&quot;Label&quot;:&quot;00ex00000018ozh_128_09_04_12_1&quot;,&quot;IsOwnedByProfile&quot;:true}&quot;
&quot;{&quot;type&quot;:&quot;FieldPermissions&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/FieldPermissions/01k3h0000Iu812kAQA&quot;}&quot;,&quot;01k3h0000Iu812kAQA&quot;,&quot;Account&quot;,&quot;Account.Fax&quot;,true,true,&quot;{&quot;attributes&quot;:{&quot;type&quot;:&quot;PermissionSet&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/PermissionSet/0PS3h000002PwNZGA0&quot;},&quot;Label&quot;:&quot;00ex00000018ozh_128_09_04_12_1&quot;,&quot;IsOwnedByProfile&quot;:true}&quot;
&quot;{&quot;type&quot;:&quot;FieldPermissions&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/FieldPermissions/01k3h0000Iu812jAQA&quot;}&quot;,&quot;01k3h0000Iu812jAQA&quot;,&quot;Account&quot;,&quot;Account.DunsNumber&quot;,true,false,&quot;{&quot;attributes&quot;:{&quot;type&quot;:&quot;PermissionSet&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/PermissionSet/0PS3h000002PwNZGA0&quot;},&quot;Label&quot;:&quot;00ex00000018ozh_128_09_04_12_1&quot;,&quot;IsOwnedByProfile&quot;:true}&quot;
&quot;{&quot;type&quot;:&quot;FieldPermissions&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/FieldPermissions/01k3h0000Iu812iAQA&quot;}&quot;,&quot;01k3h0000Iu812iAQA&quot;,&quot;Account&quot;,&quot;Account.Description&quot;,true,true,&quot;{&quot;attributes&quot;:{&quot;type&quot;:&quot;PermissionSet&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/PermissionSet/0PS3h000002PwNZGA0&quot;},&quot;Label&quot;:&quot;00ex00000018ozh_128_09_04_12_1&quot;,&quot;IsOwnedByProfile&quot;:true}&quot;
&quot;{&quot;type&quot;:&quot;FieldPermissions&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/FieldPermissions/01k3h0000Iu812fAQA&quot;}&quot;,&quot;01k3h0000Iu812fAQA&quot;,&quot;Account&quot;,&quot;Account.DandbCompany&quot;,true,false,&quot;{&quot;attributes&quot;:{&quot;type&quot;:&quot;PermissionSet&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/PermissionSet/0PS3h000002PwNZGA0&quot;},&quot;Label&quot;:&quot;00ex00000018ozh_128_09_04_12_1&quot;,&quot;IsOwnedByProfile&quot;:true}&quot;
&quot;{&quot;type&quot;:&quot;FieldPermissions&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/FieldPermissions/01k3h0000Iu812eAQA&quot;}&quot;,&quot;01k3h0000Iu812eAQA&quot;,&quot;Account&quot;,&quot;Account.CleanStatus&quot;,true,false,&quot;{&quot;attributes&quot;:{&quot;type&quot;:&quot;PermissionSet&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/PermissionSet/0PS3h000002PwNZGA0&quot;},&quot;Label&quot;:&quot;00ex00000018ozh_128_09_04_12_1&quot;,&quot;IsOwnedByProfile&quot;:true}&quot;
&quot;{&quot;type&quot;:&quot;FieldPermissions&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/FieldPermissions/01k3h0000Iu812dAQA&quot;}&quot;,&quot;01k3h0000Iu812dAQA&quot;,&quot;Account&quot;,&quot;Account.BillingAddress&quot;,true,true,&quot;{&quot;attributes&quot;:{&quot;type&quot;:&quot;PermissionSet&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/PermissionSet/0PS3h000002PwNZGA0&quot;},&quot;Label&quot;:&quot;00ex00000018ozh_128_09_04_12_1&quot;,&quot;IsOwnedByProfile&quot;:true}&quot;
&quot;{&quot;type&quot;:&quot;FieldPermissions&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/FieldPermissions/01k3h0000Iu812cAQA&quot;}&quot;,&quot;01k3h0000Iu812cAQA&quot;,&quot;Account&quot;,&quot;Account.AnnualRevenue&quot;,true,true,&quot;{&quot;attributes&quot;:{&quot;type&quot;:&quot;PermissionSet&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/PermissionSet/0PS3h000002PwNZGA0&quot;},&quot;Label&quot;:&quot;00ex00000018ozh_128_09_04_12_1&quot;,&quot;IsOwnedByProfile&quot;:true}&quot;
&quot;{&quot;type&quot;:&quot;FieldPermissions&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/FieldPermissions/01k3h0000Iu812bAQA&quot;}&quot;,&quot;01k3h0000Iu812bAQA&quot;,&quot;Account&quot;,&quot;Account.AccountSource&quot;,true,true,&quot;{&quot;attributes&quot;:{&quot;type&quot;:&quot;PermissionSet&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/PermissionSet/0PS3h000002PwNZGA0&quot;},&quot;Label&quot;:&quot;00ex00000018ozh_128_09_04_12_1&quot;,&quot;IsOwnedByProfile&quot;:true}&quot;
&quot;{&quot;type&quot;:&quot;FieldPermissions&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/FieldPermissions/01k3h0000Iu812aAQA&quot;}&quot;,&quot;01k3h0000Iu812aAQA&quot;,&quot;Account&quot;,&quot;Account.AccountNumber&quot;,true,true,&quot;{&quot;attributes&quot;:{&quot;type&quot;:&quot;PermissionSet&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/PermissionSet/0PS3h000002PwNZGA0&quot;},&quot;Label&quot;:&quot;00ex00000018ozh_128_09_04_12_1&quot;,&quot;IsOwnedByProfile&quot;:true}&quot;
&quot;{&quot;type&quot;:&quot;FieldPermissions&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/FieldPermissions/01k3h0000Iu812SAQQ&quot;}&quot;,&quot;01k3h0000Iu812SAQQ&quot;,&quot;Account&quot;,&quot;Account.Segment__c&quot;,true,true,&quot;{&quot;attributes&quot;:{&quot;type&quot;:&quot;PermissionSet&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/PermissionSet/0PS3h000002PwNZGA0&quot;},&quot;Label&quot;:&quot;00ex00000018ozh_128_09_04_12_1&quot;,&quot;IsOwnedByProfile&quot;:true}&quot;
&quot;{&quot;type&quot;:&quot;FieldPermissions&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/FieldPermissions/01k3h0000Iu812ZAQQ&quot;}&quot;,&quot;01k3h0000Iu812ZAQQ&quot;,&quot;Account&quot;,&quot;Account.UpsellOpportunity__c&quot;,true,true,&quot;{&quot;attributes&quot;:{&quot;type&quot;:&quot;PermissionSet&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/PermissionSet/0PS3h000002PwNZGA0&quot;},&quot;Label&quot;:&quot;00ex00000018ozh_128_09_04_12_1&quot;,&quot;IsOwnedByProfile&quot;:true}&quot;
&quot;{&quot;type&quot;:&quot;FieldPermissions&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/FieldPermissions/01k3h0000Iu812YAQQ&quot;}&quot;,&quot;01k3h0000Iu812YAQQ&quot;,&quot;Account&quot;,&quot;Account.SLASerialNumber__c&quot;,true,true,&quot;{&quot;attributes&quot;:{&quot;type&quot;:&quot;PermissionSet&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/PermissionSet/0PS3h000002PwNZGA0&quot;},&quot;Label&quot;:&quot;00ex00000018ozh_128_09_04_12_1&quot;,&quot;IsOwnedByProfile&quot;:true}&quot;
&quot;{&quot;type&quot;:&quot;FieldPermissions&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/FieldPermissions/01k3h0000Iu812XAQQ&quot;}&quot;,&quot;01k3h0000Iu812XAQQ&quot;,&quot;Account&quot;,&quot;Account.SLAExpirationDate__c&quot;,true,true,&quot;{&quot;attributes&quot;:{&quot;type&quot;:&quot;PermissionSet&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/PermissionSet/0PS3h000002PwNZGA0&quot;},&quot;Label&quot;:&quot;00ex00000018ozh_128_09_04_12_1&quot;,&quot;IsOwnedByProfile&quot;:true}&quot;
&quot;{&quot;type&quot;:&quot;FieldPermissions&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/FieldPermissions/01k3h0000Iu812WAQQ&quot;}&quot;,&quot;01k3h0000Iu812WAQQ&quot;,&quot;Account&quot;,&quot;Account.SLA__c&quot;,true,true,&quot;{&quot;attributes&quot;:{&quot;type&quot;:&quot;PermissionSet&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/PermissionSet/0PS3h000002PwNZGA0&quot;},&quot;Label&quot;:&quot;00ex00000018ozh_128_09_04_12_1&quot;,&quot;IsOwnedByProfile&quot;:true}&quot;
&quot;{&quot;type&quot;:&quot;FieldPermissions&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/FieldPermissions/01k3h0000Iu812VAQQ&quot;}&quot;,&quot;01k3h0000Iu812VAQQ&quot;,&quot;Account&quot;,&quot;Account.NumberofLocations__c&quot;,true,true,&quot;{&quot;attributes&quot;:{&quot;type&quot;:&quot;PermissionSet&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/PermissionSet/0PS3h000002PwNZGA0&quot;},&quot;Label&quot;:&quot;00ex00000018ozh_128_09_04_12_1&quot;,&quot;IsOwnedByProfile&quot;:true}&quot;
&quot;{&quot;type&quot;:&quot;FieldPermissions&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/FieldPermissions/01k3h0000Iu812UAQQ&quot;}&quot;,&quot;01k3h0000Iu812UAQQ&quot;,&quot;Account&quot;,&quot;Account.CustomerPriority__c&quot;,true,true,&quot;{&quot;attributes&quot;:{&quot;type&quot;:&quot;PermissionSet&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/PermissionSet/0PS3h000002PwNZGA0&quot;},&quot;Label&quot;:&quot;00ex00000018ozh_128_09_04_12_1&quot;,&quot;IsOwnedByProfile&quot;:true}&quot;
&quot;{&quot;type&quot;:&quot;FieldPermissions&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/FieldPermissions/01k3h0000Iu812TAQQ&quot;}&quot;,&quot;01k3h0000Iu812TAQQ&quot;,&quot;Account&quot;,&quot;Account.Active__c&quot;,true,true,&quot;{&quot;attributes&quot;:{&quot;type&quot;:&quot;PermissionSet&quot;,&quot;url&quot;:&quot;/services/data/v49.0/sobjects/PermissionSet/0PS3h000002PwNZGA0&quot;},&quot;Label&quot;:&quot;00ex00000018ozh_128_09_04_12_1&quot;,&quot;IsOwnedByProfile&quot;:true}&quot;
</code></pre>
<h2 id="detailed-user-query"><a class="header" href="#detailed-user-query">Detailed User query</a></h2>
<pre><code>$ bash soql/userQuery.soql 0053h000002xQ5sAAE &gt; soql/userQuery.soql
$ cat  soql/userQuery.soql
SELECT Id,
    IsActive,
    ProfileId,
    Profile.Name,
    Profile.UserLicense.Name,
    UserRoleId,
    UserRole.DeveloperName,
    Username,
    Email,
    Name,
    LastLoginDate,
    CreatedBy.Name,
    CreatedDate,
    LastModifiedBy.Name,
    LastModifiedDate,
     (SELECT PermissionSet.Name           
         FROM PermissionSetAssignments          
           WHERE PermissionSet.IsOwnedByProfile = FALSE) 

FROM User WHERE Id = '0053h000002xQ5sAAE'  
LIMIT 1


$ sfdx mohanc:data:query -u mohan.chinnappan.n_ea2@gmail.com -q soql/userQuery.soql | sed -e 's/&quot;&quot;/&quot;/g' | sed -e 's/&quot;//g'
attributes,Id,IsActive,ProfileId,Profile,UserRoleId,UserRole,Username,Email,Name,LastLoginDate,CreatedBy,CreatedDate,LastModifiedBy,LastModifiedDate,PermissionSetAssignments
{type:User,url:/services/data/v49.0/sobjects/User/0053h000002xQ5sAAE},0053h000002xQ5sAAE,true,00e3h000001kqJMAAY,{attributes:{type:Profile,url:/services/data/v49.0/sobjects/Profile/00e3h000001kqJMAAY},Name:System Administrator,UserLicense:{attributes:{type:UserLicense,url:/services/data/v49.0/sobjects/UserLicense/1003h000001GeewAAC},Name:Salesforce}},00E3h000001JaqUEAS,{attributes:{type:UserRole,url:/services/data/v49.0/sobjects/UserRole/00E3h000001JaqUEAS},DeveloperName:CEO},mohan.chinnappan.n_ea2@gmail.com,mohan.chinnappan.n@gmail.com,Mohan Chinnappan,2020-08-27T10:25:03.000+0000,{attributes:{type:User,url:/services/data/v49.0/sobjects/User/0053h000002xQ5sAAE},Name:Mohan Chinnappan},2020-07-13T19:30:57.000+0000,{attributes:{type:User,url:/services/data/v49.0/sobjects/User/0053h000002xQ5sAAE},Name:Mohan Chinnappan},2020-08-23T22:09:49.000+0000,{totalSize:4,done:true,records:[{attributes:{type:PermissionSetAssignment,url:/services/data/v49.0/sobjects/PermissionSetAssignment/0Pa3h000002cLFBCA2},PermissionSet:{attributes:{type:PermissionSet,url:/services/data/v49.0/sobjects/PermissionSet/0PS3h000001i9aKGAQ},Name:EinsteinAnalyticsPlusAdmin}},{attributes:{type:PermissionSetAssignment,url:/services/data/v49.0/sobjects/PermissionSetAssignment/0Pa3h000001BwoBCAS},PermissionSet:{attributes:{type:PermissionSet,url:/services/data/v49.0/sobjects/PermissionSet/0PS3h000001iHPpGAM},Name:EA_Plus}},{attributes:{type:PermissionSetAssignment,url:/services/data/v49.0/sobjects/PermissionSetAssignment/0Pa3h000002cLF1CAM},PermissionSet:{attributes:{type:PermissionSet,url:/services/data/v49.0/sobjects/PermissionSet/0PS3h000002PwO7GAK},Name:Wave_Analytics_Trailhead_Admin}},{attributes:{type:PermissionSetAssignment,url:/services/data/v49.0/sobjects/PermissionSetAssignment/0Pa3h000002cLF3CAM},PermissionSet:{attributes:{type:PermissionSet,url:/services/data/v49.0/sobjects/PermissionSet/0PS3h000002PwO9GAK},Name:EventMonitoringWaveAdmin}}]}
</code></pre>
<h2 id="group"><a class="header" href="#group">Group</a></h2>
<p><a href="https://mohan-chinnappan-n.github.io/sfdc/fs-cloud/csv-viewer_fsc.html?f=User">User ERD</a>
<a href="https://mohan-chinnappan-n.github.io/sfdc/fs-cloud/csv-viewer_fsc.html?f=Group">Group ERD</a>
<a href="https://mohan-chinnappan-n.github.io/sfdc/fs-cloud/csv-viewer_fsc.html?f=GroupMember">GroupMember ERD</a></p>
<pre><code>$ cat ~/tmp/group.soql 
SELECT 
Id,
DeveloperName,
RelatedId,
Type,
Email,
DoesSendEmailToMembers,
DoesIncludeBosses

FROM Group
</code></pre>
<pre><code>$ sfdx mohanc:data:query -u  mohan.chinnappan.n_ea2@gmail.com -q ~/tmp/group.soql  -f json
$ sfdx mohanc:data:query -u  mohan.chinnappan.n_ea2@gmail.com -q ~/tmp/group.soql  -f json 
[
    {
        &quot;attributes&quot;: {
            &quot;type&quot;: &quot;Group&quot;,
            &quot;url&quot;: &quot;/services/data/v51.0/sobjects/Group/00G3h000001rhf6EAA&quot;
        },
        &quot;Id&quot;: &quot;00G3h000001rhf6EAA&quot;,
        &quot;DeveloperName&quot;: &quot;Sales_WW&quot;,
        &quot;RelatedId&quot;: &quot;00E3h000001JaqREAS&quot;,
        &quot;Type&quot;: &quot;Role&quot;,
        &quot;Email&quot;: null,
        &quot;DoesSendEmailToMembers&quot;: false,
        &quot;DoesIncludeBosses&quot;: true
    },
...
]
</code></pre>
<h2 id="groupmember"><a class="header" href="#groupmember">GroupMember</a></h2>
<pre><code>$ cat ~/tmp/groupMember.soql
SELECT
Id,
GroupId,
UserOrGroupId

FROM GroupMember
</code></pre>
<pre><code>$ sfdx mohanc:data:query -u  mohan.chinnappan.n_ea2@gmail.com -q ~/tmp/groupMember.soql  -f json 
[
    {
        &quot;attributes&quot;: {
            &quot;type&quot;: &quot;GroupMember&quot;,
            &quot;url&quot;: &quot;/services/data/v51.0/sobjects/GroupMember/0113h0000002627AAA&quot;
        },
        &quot;Id&quot;: &quot;0113h0000002627AAA&quot;,
        &quot;GroupId&quot;: &quot;00G3h000000OtiAEAS&quot;,
        &quot;UserOrGroupId&quot;: &quot;00G3h000001rhf7EAA&quot;
    }
]
</code></pre>
<h2 id="object-permissions"><a class="header" href="#object-permissions">Object Permissions</a></h2>
<pre><code>$ cat  ~/tmp/obj-perm.soql
SELECT Id, ParentId, SObjectType,PermissionsCreate,PermissionsRead,PermissionsEdit,PermissionsDelete,PermissionsViewAllRecords,PermissionsModifyAllRecords,Parent.label, Parent.IsOwnedByProfile  FROM ObjectPermissions 
</code></pre>
<pre><code>
$ sfdx mohanc:data:query -u mohan.chinnappan.n_ea2@gmail.com -q ~/tmp/obj-perm.soql  -f json
[
...
 {
        &quot;attributes&quot;: {
            &quot;type&quot;: &quot;ObjectPermissions&quot;,
            &quot;url&quot;: &quot;/services/data/v51.0/sobjects/ObjectPermissions/00000001i9aL801AAC&quot;
        },
        &quot;Id&quot;: &quot;00000001i9aL801AAC&quot;,
        &quot;ParentId&quot;: &quot;0PS3h000001i9aLGAQ&quot;,
        &quot;SobjectType&quot;: &quot;Order&quot;,
        &quot;PermissionsCreate&quot;: true,
        &quot;PermissionsRead&quot;: true,
        &quot;PermissionsEdit&quot;: true,
        &quot;PermissionsDelete&quot;: true,
        &quot;PermissionsViewAllRecords&quot;: true,
        &quot;PermissionsModifyAllRecords&quot;: true,
        &quot;Parent&quot;: {
            &quot;attributes&quot;: {
                &quot;type&quot;: &quot;PermissionSet&quot;,
                &quot;url&quot;: &quot;/services/data/v51.0/sobjects/PermissionSet/0PS3h000001i9aLGAQ&quot;
            },
            &quot;Label&quot;: &quot;Salesforce CMS Integration Admin&quot;,
            &quot;IsOwnedByProfile&quot;: false
        }
    },
...
]
</code></pre>
<h2 id="field-permissions"><a class="header" href="#field-permissions">Field Permissions</a></h2>
<pre><code>$ cat  ~/tmp/field-perm.soql
SELECT id,SobjectType, Field, PermissionsRead, PermissionsEdit FROM FieldPermissions

</code></pre>
<pre><code>$ sfdx mohanc:data:query -u mohan.chinnappan.n_ea2@gmail.com -q ~/tmp/field-perm.soql  -f json
[
...

 {
        &quot;attributes&quot;: {
            &quot;type&quot;: &quot;FieldPermissions&quot;,
            &quot;url&quot;: &quot;/services/data/v51.0/sobjects/FieldPermissions/01k3h0000Iu7ytcAQA&quot;
        },
        &quot;Id&quot;: &quot;01k3h0000Iu7ytcAQA&quot;,
        &quot;SobjectType&quot;: &quot;Event&quot;,
        &quot;Field&quot;: &quot;Event.Description&quot;,
        &quot;PermissionsRead&quot;: true,
        &quot;PermissionsEdit&quot;: true
    },
...
]

</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="how-to-visualize-role-hierarchy-in-salesforce-org"><a class="header" href="#how-to-visualize-role-hierarchy-in-salesforce-org">How to visualize Role Hierarchy in Salesforce org</a></h1>
<h2 id="plugin"><a class="header" href="#plugin">Plugin</a></h2>
<ul>
<li>Requires 0.0.171 version of the plugin
<ul>
<li>sfdx-mohanc-plugins@0.0.171</li>
<li><a href="https://mohan-chinnappan-n.github.io/dx/plugins.html#/1">How to install the plugin</a></li>
</ul>
</li>
</ul>
<h2 id="usage-4"><a class="header" href="#usage-4">Usage</a></h2>
<pre><code>sfdx mohanc:security:rh -h
</code></pre>
<pre><code>Render Role Hierarchy

USAGE
  $ sfdx mohanc:security:rh

OPTIONS
  -u, --targetusername=targetusername             username or alias for the target org; overrides default target org
  --apiversion=apiversion                         override the api version used for api requests made by this command
  --json                                          format output as json
  --loglevel=(trace|debug|info|warn|error|fatal)  logging level for this command invocation

EXAMPLE

       ** Render Role Hierarchy **

       Draw Role Hierarchy
       sfdx mohanc:security:rh -u &lt;username&gt; 
</code></pre>
<h2 id="demo-16"><a class="header" href="#demo-16">Demo</a></h2>
<pre><code>sfdx mohanc:security:rh  -u  mohan.chinnappan.n_ea2@gmail.com
</code></pre>
<pre><code>Writing visualization in file __RH__.svg ...
Visualization done. &quot;open  __RH__.svg&quot; in Chrome Browser to view the Visualization.

</code></pre>
<p><img src="https://github.com/mohan-chinnappan-n/cli-dx/raw/master/sharing/img/rh2.svg" alt="rh2" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="shield"><a class="header" href="#shield">Shield</a></h1>
<h2 id="topics-22"><a class="header" href="#topics-22">Topics</a></h2>
<ul>
<li><a href="security/shield.html#bp">Best Practices</a></li>
<li><a href="security/shield.html#km">Key Management</a></li>
<li><a href="security/shield.html#setup">Shield Setup</a></li>
<li><a href="security/shield.html#faq">FAQ</a></li>
</ul>
<hr />
<p><a name='bp'></a></p>
<h2 id="best-practices"><a class="header" href="#best-practices">Best Practices</a></h2>
<ul>
<li>Take the time to identify the most likely threats to your org
<ul>
<li>
<p>Distinguish data that needs encryption from data that doesn’t, so that you can <strong>encrypt only what you need 
to</strong>. Not all data is sensitive.</p>
</li>
<li>
<p>Focus on information that requires encryption to meet your regulatory, security, compliance, and privacy requirements. Unnecessarily encrypting data impacts functionality and performance.</p>
</li>
<li>
<p>Balance <strong>business-critical functionality</strong> against <strong>security and risk measures</strong> and challenge your assumptions periodically.</p>
</li>
<li>
<p>Your tenant secret and keys are backed up, and be careful <strong>who you allow to manage your secrets and keys</strong>.</p>
<ul>
<li>If your tenant secrets are destroyed, reimport them to access your data. You are <strong>solely responsible for making sure that your data and tenant secrets are backed up and stored in a safe place</strong>. Salesforce cannot help you with deleted, destroyed, or misplaced tenant secrets.</li>
</ul>
</li>
<li>
<p>To identify the <strong>threats that are most likely to affect your organization</strong>,</p>
<ul>
<li>Walk through a formal threat modeling exercise. </li>
<li>Use your findings to create a data classification scheme, which can help you decide what data to encrypt.</li>
</ul>
</li>
<li>
<p>Test Shield Platform Encryption in a <strong>sandbox environment before deploying to a production environment</strong>. Encryption policy settings can be deployed using change sets.</p>
</li>
<li>
<p>Before enabling encryption, fix any violations that you uncover.</p>
<ul>
<li>For example, if you <strong>reference encrypted fields</strong> in a SOQL ORDER BY clause, <strong>a violation occurs</strong>. Fix the violation by removing references to the encrypted fields.</li>
</ul>
</li>
<li>
<p>If you use <strong>an app from the AppExchange</strong>, test how it interacts with encrypted data in your organization and evaluate whether its functionality is affected.</p>
<ul>
<li>If you suspect Shield Platform Encryption could affect the <strong>functionality of an app</strong>, ask the provider for help with evaluation.</li>
</ul>
</li>
<li>
<p>Grant the <strong>Manage Encryption Keys</strong> user permission to authorized users only.</p>
<ul>
<li>Users with the Manage Encryption Keys permission can generate, export, import, and destroy organization-specific keys. Monitor the key management activities of these users regularly with the <strong>setup audit trail</strong>.</li>
</ul>
</li>
<li>
<p>Synchronize your existing data with your active key material.</p>
<ul>
<li><strong>Existing field and file data is not automatically encrypted</strong> when you turn on Shield Platform Encryption. </li>
<li>To <strong>encrypt existing field data</strong>, update the records associated with the field data. 
<ul>
<li>This action triggers encryption for these records so that your existing data is encrypted at rest. </li>
<li><strong>To encrypt existing files or get help updating other encrypted data, contact Salesforce</strong>.</li>
<li>We can encrypt existing file data in the background to ensure data alignment with the latest encryption policy and key material
<ul>
<li>When you contact Salesforce support to request the background encryption service, <strong>allow at least a week</strong> before you need the background encryption completed. </li>
<li>The time to complete the process varies based on the volume of data involved. <strong>It could take several days</strong>.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Currency and Number fields can’t be encrypted</strong> because they could have broad functional consequences across the platform, such as disruptions to roll-up summary reports, report timeframes, and calculations.</p>
</li>
<li>
<p>You can often keep private, sensitive, or regulated data of this variety safe in other encryption-supported field types.</p>
</li>
<li>
<p>Before you enable Shield Platform Encryption in a production environment, <strong>communicate to the users</strong> about how it affects your business solution.</p>
</li>
<li>
<p>When you <strong>generate a new tenant secret</strong>, any new data is encrypted using this key.</p>
<ul>
<li>However, existing sensitive data <strong>remains encrypted using previous keys</strong>. </li>
<li>In this situation, Salesforce strongly <strong>recommends re-encrypting these fields using the latest key</strong>. Contact Salesforce for help with re-encrypting your data.</li>
</ul>
</li>
<li>
<p>Use discretion when granting <strong>login as access to users</strong> or Salesforce Customer Support.</p>
<ul>
<li>If you grant <em>login access to a user</em>, and they have <strong>field level security access to an encrypted field</strong>, that user is <strong>able to view encrypted data in that field in plaintext</strong>.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><a name='km'></a></p>
<h2 id="key-management-and-rotation"><a class="header" href="#key-management-and-rotation">Key Management and Rotation</a></h2>
<ul>
<li>Shield Platform Encryption lets you control and rotate the key material used to encrypt your data</li>
<li>You can use Salesforce to <strong>generate a tenant secret for you</strong>
<ul>
<li>This is then combined with a <strong>per-release master secret</strong> to derive a <strong>data encryption key</strong>.</li>
</ul>
<pre><code>  tenant_secret + per_release_master_secret =&gt; data_encryption_key 
</code></pre>
<ul>
<li>This <strong>derived data encryption key</strong> is used in encrypt and decrypt functions</li>
</ul>
</li>
<li>You can also use the <strong>Bring Your Own Key (BYOK) service</strong> to upload your own key material</li>
<li>Or store key material outside of Salesforce and have the Cache-Only Key Service fetch <strong>your key material on demand</strong>.</li>
</ul>
<hr />
<p><a name='setup'></a></p>
<h2 id="shield-setup"><a class="header" href="#shield-setup">Shield Setup</a></h2>
<p><img src="security/img/Shield_setup-2.gif" alt="Shield Setup" /></p>
<hr />
<p><a name='faq'></a></p>
<h2 id="faq-1"><a class="header" href="#faq-1">FAQ</a></h2>
<h2 id="1how-do-i-know-a-field-in-an-object-is-encrypted-at-rest"><a class="header" href="#1how-do-i-know-a-field-in-an-object-is-encrypted-at-rest">1.How do I know a Field in an Object is encrypted at rest?</a></h2>
<p>Metadata API - <em><strong>describe</strong></em> - provides <strong>encrypted</strong> flag value for the encrypted fields as <strong>true</strong> as shown below:</p>
<h4 id="account-object-encrypted-fields"><a class="header" href="#account-object-encrypted-fields">Account object encrypted fields:</a></h4>
<p><img src="https://github.com/mohan-chinnappan-n/Shield-setup/raw/master/FAQ/img/account-encrypted-fields.png" alt="Account object encrypted fields:" /></p>
<h4 id="describe-on-account-object-showing-encrypted-flag-for-the--encrypted-fields"><a class="header" href="#describe-on-account-object-showing-encrypted-flag-for-the--encrypted-fields">Describe on Account Object showing <strong>encrypted flag</strong> for the  encrypted fields:</a></h4>
<p><img src="https://github.com/mohan-chinnappan-n/Shield-setup/raw/master/FAQ/img/describe-showing-encrypted-flag.png" alt="describe showing the encrypted flag" /></p>
<h4 id="describe-on-account-object"><a class="header" href="#describe-on-account-object">Describe on Account Object:</a></h4>
<p><img src="https://github.com/mohan-chinnappan-n/Shield-setup/raw/master/FAQ/img/account-describe-metadata.png" alt="describe showing the Account Object" /></p>
<h3 id="options-for-verifying-encryption"><a class="header" href="#options-for-verifying-encryption">Options for Verifying Encryption:</a></h3>
<ol>
<li>
<p>At the request of an organizations admin,  <em><strong>Tier 3 security agents</strong></em> can run a backend process to provide confirmation details of encrypted fields based on server logs which can be provided to users. Please allow two business days for these requests to process due to complexity of the request.</p>
</li>
<li>
<p>Organization admins can follow the steps below to use <strong>tenant key masking</strong> to verify field encryption at a record level:</p>
<p>a.     Export <strong>current tenant secret</strong> used to encrypt current data in report and store it in a safe place.</p>
<p>b.     Generate a <strong>new tenant secret</strong>.</p>
<p>c.     Destroy the initial key used to encrypt data.</p>
<p>d.     With the new key active navigate to any record where fields are encrypted and the data will show ????? meaning the data is encrypted.</p>
</li>
</ol>
<p>Note: Once the admin or customer has reviewed the data masked with ????, the old secret used to encrypt the data can be imported back into the org and the new key destroyed as it was not used to encrypt any data.</p>
<h4 id="how-about-attachments-encryption"><a class="header" href="#how-about-attachments-encryption">How about Attachments encryption?</a></h4>
<p>In the event that an admin would like to verify encryption on files and attachments the query below can be ran in Developer Console:</p>
<pre><code class="language-sql">    SELECT ContentType, Id, IsEncrypted FROM Attachments WHERE IsEncrypted = false/true
</code></pre>
<p>The query above will run against attachments and show all content where IsEncrypted = true or false. The attachments option can be replaced with files and content type removed to determine if files are encrypted or decrypted based on the IsEncrypted flag.</p>
<p>For additional information related to platform encryption masking please review our Salesforce article entitled:</p>
<p>What Does My Encrypted Data Look Like?:
https://help.salesforce.com/articleView?id=security_pe_masking.htm&amp;type=0</p>
<hr/>
<h2 id="knowledge-article-000247422-says-view-encrypted-data-permission-not-needed-with-shield-platform-encryption-beginning-spring-17"><a class="header" href="#knowledge-article-000247422-says-view-encrypted-data-permission-not-needed-with-shield-platform-encryption-beginning-spring-17">Knowledge Article: 000247422 says: View Encrypted Data Permission Not Needed with Shield Platform Encryption Beginning Spring ‘17</a></h2>
<h2 id="can-you-explain-this-with-an-example"><a class="header" href="#can-you-explain-this-with-an-example">Can you explain this with an example?</a></h2>
<p>![KB-FLS]https://github.com/mohan-chinnappan-n/Shield-setup/raw/master/FAQ/img/account-describe-metadata.png)
<a href="https://help.salesforce.com/articleView?id=000247422&amp;type=1">Reference to this Knowledge Article</a></p>
<p><img src="https://github.com/mohan-chinnappan-n/Shield-setup/raw/master/FAQ/img/win17-rel-notes-viewEncryptedData-perm-NN.png" alt="Winter17 release-notes" /></p>
<p><a href="https://releasenotes.docs.salesforce.com/en-us/winter17/release-notes/rn_security_pe_ved_decouple_announcement.htm">Reference: View Encrypted Data” Permission Not Needed with Shield Platform Encryption Beginning Spring ‘17</a></p>
<p>Let us take an example: In our org, we have an user: <strong>joe simple</strong></p>
<p><img src="https://github.com/mohan-chinnappan-n/Shield-setup/raw/master/FAQ/img/user-joe-simple.png" alt="user joe simple" /></p>
<p>Joe can see the <strong>encrypted</strong> field: <strong>Account.Fax</strong> but Joe <strong>can't</strong> see the <strong>encrypted</strong> field <strong>Account.Phone</strong> as per FLS for his profile:</p>
<h4 id="accountfax"><a class="header" href="#accountfax">Account.Fax:</a></h4>
<p><img src="https://github.com/mohan-chinnappan-n/Shield-setup/raw/master/FAQ/img/user-joesimple-can-seee-account_fax.png" alt="joe account.fax" /></p>
<h4 id="accountphone"><a class="header" href="#accountphone">Account.Phone:</a></h4>
<p><img src="https://github.com/mohan-chinnappan-n/Shield-setup/raw/master/FAQ/img/user-joesimple-cannot-see-account_phone.png" alt="joe account.phone" /></p>
<p>If Joe uses REST API for example, to access Account Object, Joe will be denied access to the field: <strong>Account.Phone</strong> as shown below, while Joe can access <strong>Account.Fax</strong></p>
<p><img src="https://github.com/mohan-chinnappan-n/Shield-setup/raw/master/FAQ/img/rest-api-user-cannot-access_account_phone.png" alt="joe cannot access account.phone" /></p>
<p>But other user, whose FLS allows <strong>read</strong> on these fields: <strong>Account.Fax</strong> and <strong>Account.Phone</strong> can access these two fields:</p>
<p><img src="https://github.com/mohan-chinnappan-n/Shield-setup/raw/master/FAQ/img/describe-showing-encrypted-flag.png" alt="describe showing the encrypted flag" /></p>
<hr/>
<ul>
<li><strong>Do I have to backup tenant secrets?</strong></li>
</ul>
<p>YES!!!</p>
<p>Tenant secrets are not like passwords.</p>
<p>Unlike passwords, you can’t reset a tenant secret. Salesforce can’t help with deleted, destroyed, or misplaced tenant secrets. Always back up tenant secrets!</p>
<hr/>
<ul>
<li><strong>Is the encrypted fields data encrypted at rest?</strong></li>
</ul>
<p>YES!</p>
<p>You should use field-level access controls to limit who can access this sensitive data as shown above in question number: 2</p>
<p>About guideline for selecting fields for encrypting?</p>
<p>Unnecessarily encrypting data can slow down performance and affect users day-to-day activities.  Based on your regulatory requirements define the kinds of customer data that require extra security and apply Shield Platform Encryption only to those areas.</p>
<ul>
<li><strong>About automatic encryption?</strong></li>
</ul>
<p>Field values are automatically encrypted only in records <strong>created or updated after you’ve enabled encryption</strong>. Salesforce recommends <strong>updating existing records</strong> to ensure that their field values are encrypted. For example, if you encrypt the Description field on the Case object, use the Data Loader to update all case records. Contact Salesforce if you need help with this.</p>
<p>Can you provide technical details about Platform Encryption?</p>
<ul>
<li><img src="https://github.com/mohan-chinnappan-n/Shield-setup/raw/master/FAQ/img/platform-en.png" alt="Platform Encryption Flow" /></li>
</ul>
<p>Here is the video answering this question.</p>
<iframe width="920" height="640" src="https://www.youtube.com/embed/RMUl0fF7x1E" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<ul>
<li><strong>About Sandbox Refresh: How Does Shield Platform Encryption Work In a Sandbox?</strong></li>
</ul>
<p>Refreshing a sandbox from a production organization creates an exact copy of the production organization. If Shield Platform Encryption is enabled on the production organization, all encryption settings are copied, including tenant secrets created in production.</p>
<p>Once a sandbox is refreshed, tenant secret changes are confined to your current organization. This means that when you rotate or destroy a tenant secret on sandbox, it doesn’t affect the production organization.</p>
<p>As a best practice, rotate tenant secrets on sandboxes after a refresh. Rotation ensures that production and sandbox use different tenant secrets. Destroying tenant secrets on a sandbox renders encrypted data unusable in cases of partial or full copies.</p>
<p><a href="https://help.salesforce.com/articleView?id=security_pe_sandboxes.htm&amp;type=5">How Does Shield Platform Encryption Work in a Sandbox?</a></p>
<h3 id="resources-for-curious-minds"><a class="header" href="#resources-for-curious-minds">Resources for curious minds:</a></h3>
<p><a href="https://help.salesforce.com/articleView?id=security_pe_rotate_keys.htm&amp;type=5">Rotate Your Encryption Tenant Secrets - based on your organization’s security policies</a></p>
<p><a href="https://help.salesforce.com/articleView?err=1&amp;id=security_pe_comparison_table.htm&amp;siteLang=en_US&amp;type=0">What’s the Difference Between Classic Encryption and Shield Platform Encryption?</a></p>
<p><a href="https://help.salesforce.com/articleView?id=security_pe_concepts.htm&amp;type=0&amp;language=en_US">How Shield Platform Encryption Works</a></p>
<p><a href="https://help.salesforce.com/articleView?err=1&amp;id=security_pe_considerations.htm&amp;siteLang=en_US&amp;type=0">Tradeoffs and Limitations of Shield Platform Encryption</a></p>
<p><a href="https://help.salesforce.com/articleView?err=1&amp;id=security_pe_enable_standard_fields.htm&amp;siteLang=en_US&amp;type=0&amp;language=en_US">Encrypt Fields</a></p>
<ul>
<li>
<p><a href="https://help.salesforce.com/articleView?id=000247422&amp;type=1">View Encrypted Data Permission Not Needed with Shield Platform Encryption Beginning Spring ‘17</a></p>
</li>
<li>
<p><a href="https://releasenotes.docs.salesforce.com/en-us/winter17/release-notes/rn_security_pe_ved_decouple_announcement.htm">View Encrypted Data” Permission Not Needed with Shield Platform Encryption Beginning Spring ‘17</a></p>
</li>
<li>
<p><a href="https://developer.salesforce.com/docs/atlas.en-us.securityImplGuide.meta/securityImplGuide/security_pe_best_practices.htm">Platform Encryption Best Practices</a></p>
</li>
<li>
<p><a href="https://resources.docs.salesforce.com/206/latest/en-us/sfdc/pdf/salesforce_platform_encryption_tipsheet.pdf">SALESFORCE PLATFORM ENCRYPTION</a></p>
</li>
<li>
<p><a href="https://www.youtube.com/watch?v=sZ9SvYIij4w">Tighten Your Security with Salesforce Shield Platform Encryption</a></p>
</li>
<li>
<p><a href="https://en.wikipedia.org/wiki/Probabilistic_encryption">Probabilistic encryption</a></p>
</li>
<li>
<p><a href="https://en.wikipedia.org/wiki/Deterministic_encryption">Deterministic encryption</a></p>
</li>
</ul>
<h2 id="references-23"><a class="header" href="#references-23">References</a></h2>
<ul>
<li><a href="https://help.salesforce.com/s/articleView?id=sf.security_pe_best_practices.htm&amp;type=5">Shield Platform Encryption Best Practices</a></li>
<li><a href="https://github.com/mohan-chinnappan-n/Shield-setup">Shield Setup</a></li>
<li><a href="https://help.salesforce.com/s/articleView?id=sf.security_pe_setup.htm&amp;type=5">Key Management and Rotation</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="profile-permissionset"><a class="header" href="#profile-permissionset">Profile, PermissionSet</a></h1>
<h2 id="topics-23"><a class="header" href="#topics-23">Topics</a></h2>
<ul>
<li><a href="security/profile-ps.html#profile">Retrieving Profile from an Org</a></li>
<li><a href="security/profile-ps.html#ps">Retrieving Permission from an Org</a></li>
<li><a href="security/profile-ps.html#rc2">Comparing a profile in 2 orgs </a></li>
<li><a href="security/profile-ps.html#deltaProfile">Incremental/delta deployment of profile entries</a></li>
<li><a href="security/profile-ps.html#compare2branches">Comparing a permissionset/profile between 2 git branches</a></li>
<li><a href="security/profile-ps.html#viewprofile">Viewing Profile components</a></li>
<li><a href="security/profile-ps.html#micro-delta">Micro-delta on Profile and PermissionSet</a></li>
<li><a href="security/profile-ps.html#queries">Queries</a></li>
<li><a href="security/profile-ps.html#EOLProfile">EOL for permissions on profiles by Spring 26</a></li>
<li><a href="security/profile-ps.html#viz">Visualize Profile, PermissionSet</a>
<ul>
<li><a href="security/profile-ps.html#xmlutil">Using xmlutil tool</a></li>
</ul>
</li>
</ul>
<hr />
<p><a name='profile'></a></p>
<h2 id="how-to-retrieve-profile-from-an-org-and-verify-its-correctness"><a class="header" href="#how-to-retrieve-profile-from-an-org-and-verify-its-correctness">How to retrieve Profile from an Org and verify its correctness?</a></h2>
<h3 id="demo-video"><a class="header" href="#demo-video">Demo Video</a></h3>
<ul>
<li>Explains :
<ul>
<li>How to Retrieve a Profile from a Salesforce org and check its validity and talks about how you can commit it back into version control and deploy into another Salesforce org</li>
</ul>
</li>
</ul>
<iframe width="920" height="500" src="https://www.youtube.com/embed/aP4A9By1Ex8" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<pre><code> sfdx mohanc:mdapi:helper:retrieve  -m Profile -u mohan.chinnappan.n.sel@gmail.com -n &quot;Admin&quot; 
==== Writing to ./43/unpackaged/profiles/Admin.profile-meta.xml... ====
==== Writing package.xml into ./43/unpackaged/package.xml... ====
==== Executing zip command:  zip -r 43.zip unpackaged ====
==== RUN:  cd 43; sfdx force:mdapi:deploy -f 43.zip -u mohan.chinnappan.n.sel@gmail.com  -w 1000  --verbose -c ====
~/test2  &gt;vi 43/unpackaged/profiles/Admin.profile-meta.xml 
~/test2  &gt;cd 43; sfdx force:mdapi:deploy -f 43.zip -u mohan.chinnappan.n.sel@gmail.com  -w 1000  --verbose -c
Deploying metadata to mohan.chinnappan.n.sel@gmail.com using the v56.0 SOAP API
Deploy ID: 0Af4x00000YA7XwCAL
DEPLOY PROGRESS | ████████████████████████████████████████ | 1/1 Components

=== Deployed Source

 Type    File                                       Name        Id                 
 ─────── ────────────────────────────────────────── ─────────── ────────────────── 
         unpackaged/package.xml                     package.xml                    
 Profile unpackaged/profiles/Admin.profile-meta.xml Admin       00e4x000002b8IgAAI 
~/test2/43  &gt;cd ..
~/test2  &gt;!v
vi 43/unpackaged/profiles/Admin.profile-meta.xml

</code></pre>
<ul>
<li>Note you can pass comma separated list of Profiles to this command like </li>
</ul>
<pre><code> sfdx mohanc:mdapi:helper:retrieve  -m Profile -u mohan.chinnappan.n.sel@gmail.com -n &quot;Profile1, Profile2&quot; 
</code></pre>
<p><a name='ps'></a></p>
<h2 id="how-to-retrieve-permission-set-from-an-org-and-verify-its-correctness"><a class="header" href="#how-to-retrieve-permission-set-from-an-org-and-verify-its-correctness">How to retrieve Permission Set from an Org and verify its correctness?</a></h2>
<h3 id="demo-video-1"><a class="header" href="#demo-video-1">Demo Video</a></h3>
<iframe width="920" height="500" src="https://www.youtube.com/embed/k3ITeTNQT7U" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<pre><code>~/test2  &gt; sfdx mohanc:mdapi:helper:retrieve  -m PermissionSet -u mohan.chinnappan.n.sel@gmail.com -n 'Experience_Profile_Manager'
==== Writing to ./41/unpackaged/permissionsets/Experience_Profile_Manager.permissionset-meta.xml... ====
==== Writing package.xml into ./41/unpackaged/package.xml... ====
==== Executing zip command:  zip -r 41.zip unpackaged ====
==== RUN:  cd 41; sfdx force:mdapi:deploy -f 41.zip -u mohan.chinnappan.n.sel@gmail.com  -w 1000  --verbose -c ====
~/test2  &gt;vi 41/unpackaged/permissionsets/Experience_Profile_Manager.permissionset-meta.xml 
~/test2  &gt;cd 41; sfdx force:mdapi:deploy -f 41.zip -u mohan.chinnappan.n.sel@gmail.com  -w 1000  --verbose -c
Deploying metadata to mohan.chinnappan.n.sel@gmail.com using the v56.0 SOAP API
Deploy ID: 0Af4x00000YA7YGCA1
DEPLOY PROGRESS | ████████████████████████████████████████ | 1/1 Components

=== Deployed Source

 Type          File                                                                        Name                       Id                 
 ───────────── ─────────────────────────────────────────────────────────────────────────── ────────────────────────── ────────────────── 
               unpackaged/package.xml                                                      package.xml                                   
 PermissionSet unpackaged/permissionsets/Experience_Profile_Manager.permissionset-meta.xml Experience_Profile_Manager 0PS4x0000045OQEGA2 
~/test2/41  &gt;

</code></pre>
<ul>
<li>Note you can pass comma separated list of <strong>PermissionSets API Names</strong> to this command like </li>
</ul>
<pre><code> sfdx mohanc:mdapi:helper:retrieve  -m PermissionSet -u mohan.chinnappan.n.sel@gmail.com -n &quot;Acct_View_All, Oppty_View_All&quot; 
</code></pre>
<hr />
<p><a name='rc2'></a></p>
<h2 id="comparing-a-profile-in-2-orgs"><a class="header" href="#comparing-a-profile-in-2-orgs">Comparing a profile in 2 orgs</a></h2>
<iframe width="920" height="500" src="https://www.youtube.com/embed/LABZgIj2QAI" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<pre><code>~/treeprj [patch1] &gt; sfdx mohanc:mdapi:helper:rc2 -m Profile -o mohan.chinnappan.n.sel@gmail.com,mohan.chinnappan.n.sel2@gmail.com  -n Admin
====  sfdx mohanc:mdapi:helper:retrieveSimple -u mohan.chinnappan.n.sel@gmail.com -m Profile -n &quot;Admin&quot; &gt; /var/folders/ch/p19n6yj11wd1vp5c3svhpt800000gp/T/Profile-Admin.xml ====
====  sfdx mohanc:mdapi:helper:retrieveSimple -u mohan.chinnappan.n.sel2@gmail.com -m Profile -n &quot;Admin&quot; &gt; /var/folders/ch/p19n6yj11wd1vp5c3svhpt800000gp/T/Profile-Admin.xml  ====
~/treeprj [patch1] &gt;

</code></pre>
<h2 id="package-xml"><a class="header" href="#package-xml">Package xml</a></h2>
<ul>
<li>For <a href="https://developer.salesforce.com/docs/atlas.en-us.api_meta.meta/api_meta/meta_profile.htm">Profile</a> </li>
</ul>
<pre><code class="language-xml">&lt;?xml version=1.0 encoding=UTF-8 standalone=yes?&gt;
&lt;Package xmlns=http://soap.sforce.com/2006/04/metadata&gt;

    &lt;types&gt;
        &lt;members&gt;*&lt;/members&gt;
        &lt;name&gt;ApexClass&lt;/name&gt;
    &lt;/types&gt;
    &lt;types&gt;
        &lt;members&gt;*&lt;/members&gt;
        &lt;name&gt;ApexPage&lt;/name&gt;
    &lt;/types&gt;
    &lt;types&gt;
        &lt;members&gt;*&lt;/members&gt;
        &lt;name&gt;CustomApplication&lt;/name&gt;
    &lt;/types&gt;
  &lt;!-- need to specify Object.Field 
     &lt;types&gt;
        &lt;members&gt;*&lt;/members&gt;
        &lt;name&gt;CustomField&lt;/name&gt;
    &lt;/types&gt;
    --&gt;
    &lt;types&gt;
        &lt;members&gt;*&lt;/members&gt;
        &lt;name&gt;CustomMetadata&lt;/name&gt;
    &lt;/types&gt;  
    &lt;types&gt;
        &lt;members&gt;*&lt;/members&gt;
        &lt;name&gt;CustomObject&lt;/name&gt;
    &lt;/types&gt;
    &lt;types&gt;
        &lt;members&gt;*&lt;/members&gt;
        &lt;name&gt;CustomTab&lt;/name&gt;
    &lt;/types&gt;

&lt;types&gt;
        &lt;members&gt;*&lt;/members&gt;
        &lt;name&gt;ExternalDataSource&lt;/name&gt;
&lt;/types&gt;    

        &lt;members&gt;*&lt;/members&gt;
        &lt;name&gt;Layout&lt;/name&gt;
&lt;/types&gt;    
&lt;!-- needs specific value    
    &lt;types&gt;
        &lt;members&gt;*&lt;/members&gt;
        &lt;name&gt;RecordType&lt;/name&gt;
    &lt;/types&gt;
--&gt;
    &lt;types&gt;
        &lt;members&gt;*&lt;/members&gt;
        &lt;name&gt;FlexiPage&lt;/name&gt;
    &lt;/types&gt;
    &lt;types&gt;
        &lt;members&gt;*&lt;/members&gt;
        &lt;name&gt;Profile&lt;/name&gt;
    &lt;/types&gt;
    &lt;version&gt;56.0&lt;/version&gt;
&lt;/Package&gt;
</code></pre>
<ul>
<li>For Permission set</li>
</ul>
<pre><code class="language-xml">&lt;?xml version=1.0 encoding=UTF-8 standalone=yes?&gt;
&lt;Package xmlns=http://soap.sforce.com/2006/04/metadata&gt;
 
    &lt;types&gt;
        &lt;members&gt;*&lt;/members&gt;
        &lt;name&gt;ApexClass&lt;/name&gt;
    &lt;/types&gt;
    &lt;types&gt;
        &lt;members&gt;*&lt;/members&gt;
        &lt;name&gt;ApexPage&lt;/name&gt;
    &lt;/types&gt;
    &lt;types&gt;
        &lt;members&gt;*&lt;/members&gt;
        &lt;name&gt;CustomApplication&lt;/name&gt;
    &lt;/types&gt;

    &lt;!-- need to specify Object.Field 
     &lt;types&gt;
        &lt;members&gt;*&lt;/members&gt;
        &lt;name&gt;CustomField&lt;/name&gt;
    &lt;/types&gt;
    --&gt;
    &lt;types&gt;
        &lt;members&gt;*&lt;/members&gt;
        &lt;name&gt;CustomMetadata&lt;/name&gt;
    &lt;/types&gt;  
    &lt;types&gt;
        &lt;members&gt;*&lt;/members&gt;
        &lt;name&gt;CustomObject&lt;/name&gt;
    &lt;/types&gt;
    &lt;types&gt;
        &lt;members&gt;*&lt;/members&gt;
        &lt;name&gt;CustomTab&lt;/name&gt;
    &lt;/types&gt;
    &lt;types&gt;
        &lt;members&gt;*&lt;/members&gt;
        &lt;name&gt;ExternalDataSource&lt;/name&gt;
    &lt;/types&gt;    
&lt;!-- needs specific value    
    &lt;types&gt;
        &lt;members&gt;*&lt;/members&gt;
        &lt;name&gt;RecordType&lt;/name&gt;
    &lt;/types&gt;
--&gt;
    &lt;types&gt;
        &lt;members&gt;*&lt;/members&gt;
        &lt;name&gt;PermissionSet&lt;/name&gt;
    &lt;/types&gt;
    &lt;version&gt;56.0&lt;/version&gt;
&lt;/Package&gt;
</code></pre>
<p><a name='deltaProfile'></a></p>
<h2 id="incrementaldelta-deployment-of-profile-entries"><a class="header" href="#incrementaldelta-deployment-of-profile-entries">Incremental/delta deployment of profile entries</a></h2>
<h3 id="use-case-4"><a class="header" href="#use-case-4">Use Case</a></h3>
<ul>
<li><code>Read Only.profile</code> current has no <code>pageAccesses</code> for <code>CommunitiesLanding</code></li>
</ul>
<p><img src="security/img/ROProfilePageAccessesPre.png" alt="Pre" /></p>
<ul>
<li>
<p>Current xml
<img src="security/img/RO-per-xml.png" alt="Current xml" /></p>
</li>
<li>
<p>We like to add this <code>pageAccesses</code> in the file <code>Read Only.profile</code></p>
</li>
</ul>
<pre><code class="language-xml">
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;Profile xmlns=&quot;http://soap.sforce.com/2006/04/metadata&quot;&gt;
   &lt;pageAccesses&gt;
        &lt;apexPage&gt;CommunitiesLanding&lt;/apexPage&gt;
        &lt;enabled&gt;true&lt;/enabled&gt;
    &lt;/pageAccesses&gt;
&lt;/Profile&gt;
 

</code></pre>
<p>in an incremental manner <strong>instead of deploying the whole xml</strong> with </p>
<p><img src="security/img/RO-updated.png" alt="whole xml" /></p>
<h3 id="steps-5"><a class="header" href="#steps-5">Steps</a></h3>
<ul>
<li>
<ol>
<li>Build the folders</li>
</ol>
</li>
</ul>
<pre><code>mkdir 100
cd 100
mkdir unpackaged
cd unpackaged
mkdir profiles

</code></pre>
<ul>
<li>
<ol start="2">
<li>Build the <code>package.xml</code> using this <a href="https://mohan-chinnappan-n5.github.io/pkg/pkg-gen.html">tool</a>:
<img src="security/img/package-xml-builder.webm.gif" alt="Build package.xml" /></li>
</ol>
<ul>
<li>Note this tool puts the package.xml content into  your clipboard</li>
</ul>
</li>
</ul>
<pre><code># Get the package.xml content from clipboard
pbpaste &gt; package.xml

</code></pre>
<pre><code>bat package.xml 
───────┬────────────────────────────────────────────────────────────────────────────────────────────────────────────
       │ File: package.xml
───────┼────────────────────────────────────────────────────────────────────────────────────────────────────────────
   1   │ &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
   2   │ &lt;Package xmlns=&quot;http://soap.sforce.com/2006/04/metadata&quot;&gt;
   3   │   &lt;version&gt;56.0&lt;/version&gt;
   4   │ 
   5   │ &lt;types&gt;
   6   │     &lt;members&gt;Read Only&lt;/members&gt;
   7   │     &lt;name&gt;Profile&lt;/name&gt;
   8   │ &lt;/types&gt;
   9   │ 
  10   │ 
  11   │ &lt;/Package&gt;
</code></pre>
<ul>
<li>Copy <code>Read Only.profile</code> to profiles folder</li>
</ul>
<pre><code>
/tmp/profile-exp/100/unpackaged  &gt;vi &quot;profiles/Read Only.profile&quot;
/tmp/profile-exp/100/unpackaged  &gt;bat  &quot;profiles/Read Only.profile&quot;
───────┬────────────────────────────────────────────────────────────────────────────────────────────────────────────
       │ File: profiles/Read Only.profile
───────┼────────────────────────────────────────────────────────────────────────────────────────────────────────────
   1   │ &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
   2   │ &lt;Profile xmlns=&quot;http://soap.sforce.com/2006/04/metadata&quot;&gt;
   3   │    &lt;pageAccesses&gt;
   4   │         &lt;apexPage&gt;CommunitiesLanding&lt;/apexPage&gt;
   5   │         &lt;enabled&gt;true&lt;/enabled&gt;
   6   │     &lt;/pageAccesses&gt;
   7   │ &lt;/Profile&gt;
   8   │  
   9   │ 
  10   │ 
───────┴────────────────────────────────────────────────────────────────────────────────────────────────────────────
 
</code></pre>
<ul>
<li>zip the package</li>
</ul>
<pre><code>/tmp/profile-exp/100/unpackaged  &gt;cd ..
/tmp/profile-exp/100  &gt;pwd
/tmp/profile-exp/100
/tmp/profile-exp/100  &gt;zip -r 100.zip unpackaged 
  adding: unpackaged/ (stored 0%)
  adding: unpackaged/package.xml (deflated 24%)
  adding: unpackaged/profiles/ (stored 0%)
  adding: unpackaged/profiles/Read Only.profile (deflated 29%)
</code></pre>
<pre><code>&gt;tree
.
├── 100.zip
└── unpackaged
    ├── package.xml
    └── profiles
        └── Read\ Only.profile
</code></pre>
<ul>
<li>Deploy 100.zip after you have logged into the org (checkOnly)</li>
</ul>
<pre><code>/tmp/profile-exp/100  &gt;sfdx force:mdapi:deploy -f 100.zip -u mohan.chinnappan.n.sel@gmail.com  -w 1000  --verbose -c 
Deploying metadata to mohan.chinnappan.n.sel@gmail.com using the v57.0 SOAP API
Deploy ID: 0Af4x00000YS5fmCAD
DEPLOY PROGRESS | ████████████████████████████████████████ | 1/1 Components

=== Deployed Source

 Type    File                                  Name        Id                 
 ─────── ───────────────────────────────────── ─────────── ────────────────── 
         unpackaged/package.xml                package.xml                    
 Profile unpackaged/profiles/Read Only.profile Read Only   00e4x000002b8JCAAY
</code></pre>
<ul>
<li>Now Deploy </li>
</ul>
<pre><code>sfdx force:mdapi:deploy -f 100.zip -u mohan.chinnappan.n.sel@gmail.com  -w 1000  --verbose  
Deploying metadata to mohan.chinnappan.n.sel@gmail.com using the v57.0 SOAP API
Deploy ID: 0Af4x00000YS5hlCAD
DEPLOY PROGRESS | ████████████████████████████████████████ | 1/1 Components

=== Deployed Source

 Type    File                                  Name        Id                 
 ─────── ───────────────────────────────────── ─────────── ────────────────── 
         unpackaged/package.xml                package.xml                    
 Profile unpackaged/profiles/Read Only.profile Read Only   00e4x000002b8JCAAY 
</code></pre>
<ul>
<li>Open the org to see the DeployStatus</li>
</ul>
<pre><code>sfdx force:org:open  -p  lightning/setup/DeployStatus/home -u mohan.chinnappan.n.sel@gmail.com  

</code></pre>
<p><img src="security/img/deploy-status-1.png" alt="Deploy Status" /></p>
<ul>
<li>Check this profile in the org</li>
</ul>
<p><img src="security/img/ROProfilePageAccessesPost.png?v=2" alt="post" /></p>
<p><a name="viewprofile"></a></p>
<h2 id="viewing-components-in-profilepermissionset-in-the-org"><a class="header" href="#viewing-components-in-profilepermissionset-in-the-org">Viewing components in Profile/PermissionSet in the org</a></h2>
<h3 id="get-xmljson-for-the-given-profilepermissionset-in-the-org"><a class="header" href="#get-xmljson-for-the-given-profilepermissionset-in-the-org">Get XML/JSON for the given Profile/PermissionSet in the org</a></h3>
<pre><code>sfdx mohanc:mdapi:helper:retrieveSimple  -m Profile -u mohan.chinnappan.n.sel2@gmail.com -n Admin -f xml
</code></pre>
<pre><code>sfdx mohanc:mdapi:helper:retrieveSimple  -m Profile -u mohan.chinnappan.n.sel2@gmail.com -n Admin -f json
</code></pre>
<pre><code>sfdx mohanc:mdapi:helper:retrieveSimple  -m PermissionSet -u mohan.chinnappan.n.sel2@gmail.com -n &quot;Experience_Profile_Manager&quot; -f xml

</code></pre>
<pre><code>sfdx mohanc:mdapi:helper:retrieveSimple  -m PermissionSet -u mohan.chinnappan.n.sel2@gmail.com -n &quot;Experience_Profile_Manager&quot; -f json

</code></pre>
<pre><code>
sfdx mohanc:mdapi:helper:retrieveSimple  -m PermissionSet -u mohan.chinnappan.n.sel2@gmail.com -n Experience_Profile_Manager -f dt -s objectPermissions

</code></pre>
<pre><code>No data found!
Valid sections:
_________
applicationVisibilities
classAccesses
customPermissions
customMetadataTypeAccesses
fieldPermissions
layoutAssignments
objectPermissions
recordTypeVisibilities
tabVisibilities
userPermissions
________

</code></pre>
<h3 id="permissionset"><a class="header" href="#permissionset">PermissionSet</a></h3>
<pre><code>sfdx mohanc:mdapi:helper:retrieveSimple  -m PermissionSet -u mohan.chinnappan.n.sel2@gmail.com  -n Experience_Profile_Manager -f dt -s userPermissions 
</code></pre>
<p><img src="security/img/ps.viz-1.png" alt="ps userpermissions" /></p>
<h3 id="profile"><a class="header" href="#profile">Profile</a></h3>
<pre><code>sfdx mohanc:mdapi:helper:retrieveSimple  -m Profile -u mohan.chinnappan.n.sel2@gmail.com -n Admin -f dt -s userPermissions
</code></pre>
<p><img src="security/img/profile-viz-1.png" alt="profile userpermissions" /></p>
<p><a name='micro-delta'></a></p>
<h2 id="micro-delta-on-profile-and-permissionset"><a class="header" href="#micro-delta-on-profile-and-permissionset">Micro-delta on Profile and PermissionSet</a></h2>
<h3 id="use-case-5"><a class="header" href="#use-case-5">Use case</a></h3>
<ul>
<li>We like to know the delta for a Profile or PermissionSet in the version control (which is in our local folder) with the same Profile or PermissionSet in the Org</li>
<li>Tool should be able to produce a micro-delta profile or PermissionSet xml file which we can use for our delta deployments</li>
</ul>
<pre><code>
sfdx mohanc:mdapi:helper:retrieveSimple  -m Profile -u mohan.chinnappan.n.sel2@gmail.com -n Admin -f jsonSection  -l ~/treeprj/force-app/main/default/profiles/Admin.profile-meta.xml -s ALL 


</code></pre>
<h3 id="flags"><a class="header" href="#flags">Flags:</a></h3>
<ul>
<li>-m Profile - metadata type</li>
<li>-u is user name to login into the org</li>
<li>-n Admin : We are working with Admin Proffile</li>
<li>-f jsonSection : we like to go by section by section </li>
<li>-l is the local file we got from the version control</li>
<li>-s All says all the sections</li>
</ul>
<h3 id="sections"><a class="header" href="#sections"><a href="https://github.com/mohan-chinnappan-n/xml-xslt/blob/main/permissionSections.json">Sections</a></a></h3>
<pre><code class="language-json"> {
          &quot;applicationVisibilities&quot;: &quot;application&quot;,
          &quot;classAccesses&quot;: &quot;apexClass&quot;,
          &quot;customPermissions&quot;:&quot;name&quot;,
          &quot;customMetadataTypeAccesses&quot;:&quot;name&quot;,
          &quot;fieldPermissions&quot;:&quot;field&quot;,
          &quot;layoutAssignments&quot;:&quot;layout&quot;,
          &quot;objectPermissions&quot;:&quot;object&quot;,
          &quot;recordTypeVisibilities&quot;:&quot;recordType&quot;,
          &quot;tabVisibilities&quot;:&quot;tab&quot;,
          &quot;userPermissions&quot;: &quot;name&quot;

 }
</code></pre>
<h3 id="video-about-micro-delta-profile-file"><a class="header" href="#video-about-micro-delta-profile-file">Video about Micro-delta Profile file</a></h3>
<iframe width="920" height="480" src="https://www.youtube.com/embed/XAkvLAZzOq4" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<pre><code>cat /tmp/Admin_micro-delta.xml
</code></pre>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;Profile xmlns=&quot;http://soap.sforce.com/2006/04/metadata&quot;&gt;
&lt;!-- Diff item --&gt;
&lt;applicationVisibilities&gt;
   &lt;application&gt;standard__AllTabSet&lt;/application&gt;
   &lt;default&gt;false&lt;/default&gt;
   &lt;visible&gt;false&lt;/visible&gt;
&lt;/applicationVisibilities&gt;
&lt;!-- New item --&gt;
&lt;applicationVisibilities&gt;
   &lt;application&gt;TESTAPP&lt;/application&gt;
   &lt;default&gt;false&lt;/default&gt;
   &lt;visible&gt;false&lt;/visible&gt;
&lt;/applicationVisibilities&gt;
&lt;!-- New item --&gt;
&lt;applicationVisibilities&gt;
   &lt;application&gt;NEWAPP&lt;/application&gt;
   &lt;default&gt;false&lt;/default&gt;
   &lt;visible&gt;false&lt;/visible&gt;
&lt;/applicationVisibilities&gt;
&lt;!-- Diff item --&gt;
&lt;classAccesses&gt;
   &lt;apexClass&gt;MyDomain&lt;/apexClass&gt;
   &lt;enabled&gt;false&lt;/enabled&gt;
&lt;/classAccesses&gt;
&lt;!-- New item --&gt;
&lt;classAccesses&gt;
   &lt;apexClass&gt;Yourclass&lt;/apexClass&gt;
   &lt;enabled&gt;true&lt;/enabled&gt;
&lt;/classAccesses&gt;
&lt;!-- Diff item --&gt;
&lt;fieldPermissions&gt;
   &lt;editable&gt;false&lt;/editable&gt;
   &lt;field&gt;Account.AccountNumber&lt;/field&gt;
   &lt;readable&gt;true&lt;/readable&gt;
&lt;/fieldPermissions&gt;
&lt;!-- New item --&gt;
&lt;fieldPermissions&gt;
   &lt;editable&gt;true&lt;/editable&gt;
   &lt;field&gt;Account.testNumber__c&lt;/field&gt;
   &lt;readable&gt;true&lt;/readable&gt;
&lt;/fieldPermissions&gt;
&lt;!-- New item --&gt;
&lt;fieldPermissions&gt;
   &lt;editable&gt;true&lt;/editable&gt;
   &lt;field&gt;Account.NewAccountNumber__c&lt;/field&gt;
   &lt;readable&gt;true&lt;/readable&gt;
&lt;/fieldPermissions&gt;
&lt;/Profile&gt;
</code></pre>
<h3 id="permission-set"><a class="header" href="#permission-set">Permission Set</a></h3>
<pre><code>
sfdx mohanc:mdapi:helper:retrieveSimple  -m PermissionSet -u mohan.chinnappan.n.sel2@gmail.com -n &quot;Experience_Profile_Manager&quot;  -f jsonSection  -l ~/treeprj/force-app/main/default/permissionsets/Experience_Profile_Manager.permissionset-meta.xml -s ALL


</code></pre>
<pre><code class="language-xml">
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;PermissionSet xmlns=&quot;http://soap.sforce.com/2006/04/metadata&quot;&gt;
&lt;!-- Diff item --&gt;
&lt;userPermissions&gt;
	&lt;enabled&gt;false&lt;/enabled&gt;
	&lt;name&gt;AccessCMC&lt;/name&gt;
&lt;/userPermissions&gt;

</code></pre>
<h3 id="how-about-getting-micro-delta-between-2-local-files-may-be-coming-from-2-branches"><a class="header" href="#how-about-getting-micro-delta-between-2-local-files-may-be-coming-from-2-branches">How about getting micro-delta between 2 local files (may be coming from 2 branches)</a></h3>
<ul>
<li>with <code>-x</code> flag you can provide second file - this file will be treated as it is from the org</li>
</ul>
<pre><code>sfdx mohanc:mdapi:helper:retrieveSimple  -m PermissionSet -u mohan.chinnappan.n.sel2@gmail.com -n &quot;Experience_Profile_Manager&quot;  -f jsonSection  -l ~/treeprj/force-app/main/default/permissionsets/Experience_Profile_Manager.permissionset-meta.xml -s ALL  -x /tmp/EPM.permissionset-meta.xml 

</code></pre>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;PermissionSet xmlns=&quot;http://soap.sforce.com/2006/04/metadata&quot;&gt;
&lt;!-- Diff item --&gt;
&lt;userPermissions&gt;
	&lt;enabled&gt;false&lt;/enabled&gt;
	&lt;name&gt;AccessCMC&lt;/name&gt;
&lt;/userPermissions&gt;
&lt;!-- Diff item --&gt;
&lt;userPermissions&gt;
	&lt;enabled&gt;true&lt;/enabled&gt;
	&lt;name&gt;CreateReportInLightning&lt;/name&gt;
&lt;/userPermissions&gt;
&lt;/PermissionSet&gt;
</code></pre>
<h4 id="prepare-the-diff-viewer"><a class="header" href="#prepare-the-diff-viewer">Prepare the diff viewer</a></h4>
<pre><code>pbcopy &lt; ~/treeprj/force-app/main/default/permissionsets/Experience_Profile_Manager.permissionset-meta.xml

# Put the clipboard content into left side of the https://mohan-chinnappan-n5.github.io/delta/diff.html

pbcopy &lt; /tmp/EPM.permissionset-meta.xml     

# Now put the clipboard content into left side of the https://mohan-chinnappan-n5.github.io/delta/diff.html



</code></pre>
<p><img src="security/img/diff-ps-1.png" alt="Diff for Permission Set" /></p>
<hr />
<p><a name='compare2branches'></a></p>
<h2 id="comparing-a-permissionsetprofile-between-2-git-branches"><a class="header" href="#comparing-a-permissionsetprofile-between-2-git-branches">Comparing a permissionset/profile between 2 git branches</a></h2>
<h3 id="demo-video-2"><a class="header" href="#demo-video-2">Demo video</a></h3>
<iframe width="920" height="480" src="https://www.youtube.com/embed/fDriAOo0r7o" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<h3 id="commands-used-in-this-video"><a class="header" href="#commands-used-in-this-video">Commands used in this video</a></h3>
<pre><code>~/lwc/dreamhouse-lwc [feature-1] &gt;git branch -a
* feature-1
  main
  remotes/origin/HEAD -&gt; origin/main
  remotes/origin/main

</code></pre>
<pre><code>vi force-app/main/default/permissionsets/dreamhouse.permissionset-meta.xml
~/lwc/dreamhouse-lwc [feature-1] &gt;git checkout main
Switched to branch 'main'
Your branch is up to date with 'origin/main'.
vi force-app/main/default/permissionsets/dreamhouse.permissionset-meta.xml
</code></pre>
<pre><code>~/lwc/dreamhouse-lwc [main] &gt;python3 ~/sf-git-utils/git_diff_file_two_branches.py  --branch1=main --branch2=feature-1 --filepath=&quot;force-app/main/default/permissionsets/dreamhouse.permissionset-meta.xml&quot; --metadataType='permissionset' --help
usage: git_diff_file_two_branches.py [-h] [--branch1 BRANCH1] [--branch2 BRANCH2] [--filepath FILEPATH]
                                     [--metadataType METADATATYPE]

Get content for a file from given 2 branches

options:
  -h, --help            show this help message and exit
  --branch1 BRANCH1     branch1 (Default: main)
  --branch2 BRANCH2     branch2 (Default: develop)
  --filepath FILEPATH   File path for the file (Default: README.md)
  --metadataType METADATATYPE
                        profile or permission set (Default: profile)

Get given file content in given 2 branches
</code></pre>
<pre><code>~/lwc/dreamhouse-lwc [main] &gt;python3 ~/sf-git-utils/git_diff_file_two_branches.py  --branch1=main --branch2=feature-1 --filepath=&quot;force-app/main/default/permissionsets/dreamhouse.permissionset-meta.xml&quot; --metadataType='permissionset' 
=== Checking out main ===
Already on 'main'
Temporary file name: /var/folders/ch/p19n6yj11wd1vp5c3svhpt800000gp/T/tmpa701j416
=== Going to run xml transform...===
=== Writing the output into file : /var/folders/ch/p19n6yj11wd1vp5c3svhpt800000gp/T/tmpa701j416.html ===

=== Contents of /var/folders/ch/p19n6yj11wd1vp5c3svhpt800000gp/T/tmpa701j416 is copied into your clipboard. Opening the diff app... ===
=== ACTION REQUIRED: Paste the content into the diff app, once it opens up... and press [Enter] ===


=== Continuing with the program... ===
=== checking out feature-1 ===
Switched to branch 'feature-1'
Temporary file name: /var/folders/ch/p19n6yj11wd1vp5c3svhpt800000gp/T/tmp2rdylch1
going to run xml transform...
=== Writing the output into file : /var/folders/ch/p19n6yj11wd1vp5c3svhpt800000gp/T/tmp2rdylch1.html ===

=== Contents of /var/folders/ch/p19n6yj11wd1vp5c3svhpt800000gp/T/tmp2rdylch1 is copied into your clipboard. Goto the diff app... ===
===     ACTION REQUIRED: Paste the content into the diff app right side box ===
</code></pre>
<h4 id="tools-1"><a class="header" href="#tools-1">Tools</a></h4>
<ul>
<li><a href="https://github.com/mohan-chinnappan-n/sf-git-utils">sf-git-utils</a></li>
</ul>
<p><a name='queries'></a></p>
<h2 id="queries"><a class="header" href="#queries">Queries</a></h2>
<h3 id="query-to-check-users-assigned-with-a-given-permissionset"><a class="header" href="#query-to-check-users-assigned-with-a-given-permissionset">Query to check users assigned with a given permissionset</a></h3>
<pre><code class="language-sql">SELECT id,PermissionSetId, Assignee.Name, Assignee.id FROM PermissionSetAssignment
WHERE PermissionSet.Name = 'SalesUserPsl'

</code></pre>
<p><img src="security/img/permset-users-1.png" alt="permset-user" /></p>
<p><a name='EOLProfile'></a></p>
<h2 id="end-of-life-eol-of-permissions-on-profiles"><a class="header" href="#end-of-life-eol-of-permissions-on-profiles">End of life (EOL) of permissions on profiles</a></h2>
<ul>
<li>Permission sets are the future of user management</li>
<li>End of life (EOL) of permissions on profiles that will be the <strong>Spring ’26</strong> release. </li>
</ul>
<h3 id="what-will-remain-on-a-profile"><a class="header" href="#what-will-remain-on-a-profile">What will remain on a profile?</a></h3>
<ul>
<li>One-to-one relationships
<ul>
<li>login hours/IP ranges</li>
</ul>
</li>
<li>Defaults—record types, apps</li>
<li>Page layout assignment</li>
<li>The future is <strong>App Builder/Dynamic Forms</strong> so Salesforce will not invest in bringing page layout assignment to permission sets.</li>
</ul>
<h3 id="what-will-be-available-only-on-permission-sets-after-this-eol"><a class="header" href="#what-will-be-available-only-on-permission-sets-after-this-eol">What will be available <strong>only</strong> on permission sets after this EOL?</a></h3>
<ul>
<li>User permissions (system and app permissions)</li>
<li>Object permissions (object Create, Read, Update, and Delete - CRUD)</li>
<li>Field permissions (field-level security FLS)</li>
<li>Tabs</li>
<li>Record types (not defaults)</li>
<li>Apps (not defaults)</li>
<li>Connected app access</li>
<li>Apex classes</li>
<li>Visualforce pages</li>
<li>Custom permissions</li>
</ul>
<h3 id="turning-of-profiles-before-eol"><a class="header" href="#turning-of-profiles-before-eol">Turning of Profiles before EOL</a></h3>
<ul>
<li>Turning  off the ability to use permissions on profiles before the official EOL - targeted for  Spring ’24 release</li>
</ul>
<h3 id="references-24"><a class="header" href="#references-24">References</a></h3>
<ul>
<li><a href="https://admin.salesforce.com/blog/2023/permissions-updates-learn-moar-spring-23">Permissions Updates | Learn MOAR Spring ’23</a></li>
</ul>
<p><a name='viz'></a></p>
<h2 id="visualize-profile-permissionset"><a class="header" href="#visualize-profile-permissionset">Visualize Profile, PermissionSet</a></h2>
<h3 id="profile-1"><a class="header" href="#profile-1">Profile</a></h3>
<pre><code>sfdx mohanc:xml:transform -i &lt;ProfileXmlFile&gt; -m Profile

</code></pre>
<pre><code>sfdx mohanc:xml:transform -i force-app/main/default/profiles/Admin.profile-meta.xml -m Profile```

</code></pre>
<h3 id="permissionset-1"><a class="header" href="#permissionset-1">PermissionSet</a></h3>
<pre><code>
sfdx mohanc:xml:transform -i force-app/main/default/permissionsets/Experience_Profile_Manager.permissionset-meta.xml -m PermissionSet
</code></pre>
<h3 id="demos-2"><a class="header" href="#demos-2">Demos</a></h3>
<iframe width="900" height="620" src="https://www.youtube.com/embed/dK2IzpwxO_w" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<hr />
<p><img src="security/img/viz-ps-1.webm.gif" alt="viz-permissionset" /></p>
<p><a name='xmlutil'></a></p>
<h3 id="using-xmlutil-executable"><a class="header" href="#using-xmlutil-executable">Using xmlutil executable</a></h3>
<ul>
<li><a href="https://github.com/mohan-chinnappan-n/xml-xslt/blob/main/py/dist/macOS/xmlutil">Download the tool</a></li>
<li>Put the downloaded tool in your PATH</li>
<li>You need to give permission to run this command in your macOS via <strong>System Settings</strong> &gt;  <strong>Privacy &amp; Security</strong></li>
<li>Make it executable</li>
</ul>
<pre><code>chmod +x xmlutil
</code></pre>
<ul>
<li>Visualize  Permission Set </li>
</ul>
<pre><code>
xmlutil transform --xml=MyTest.profile-meta.xml --xsl=PermissionSet3 --out=/tmp/myTest.html

</code></pre>
<ul>
<li>Visualize  Profile</li>
</ul>
<pre><code>
xmlutil transform --xml=MyProfile.permissionset-meta.xml --xsl=Profile3 --out=/tmp/myProfile.html

</code></pre>
<ul>
<li>Visualize  CustomLabels</li>
</ul>
<pre><code>
xmlutil transform --xml=CustomLabels.labels-meta.xml --xsl=CustomLabel2 --out=/tmp/cl.html

</code></pre>
<h3 id="how-to-get-visualization-for-all-the-profiles-or--permissionsets-in-the-given-folder"><a class="header" href="#how-to-get-visualization-for-all-the-profiles-or--permissionsets-in-the-given-folder">How to get Visualization for all the profiles or  permissionsets in the given folder</a></h3>
<ul>
<li>
<p>Make sure that xmlutil executable is in <strong>your PATH</strong> to make this work</p>
</li>
<li>
<p>Download the scripts</p>
<ul>
<li><a href="https://github.com/mohan-chinnappan-n/xml-xslt/blob/main/py/process_profile.sh">Batch processing for profiles</a></li>
<li><a href="https://github.com/mohan-chinnappan-n/xml-xslt/blob/main/py/process_ps.sh">Batch processing for permissionsets</a></li>
</ul>
</li>
</ul>
<pre><code> bash process_profile.sh &lt;profiles folder&gt; 
 bash process_ps.sh &lt;permissionsets folder&gt; 

</code></pre>
<ul>
<li>Example for permissionsets</li>
</ul>
<pre><code>bash process_ps.sh ~/treeprj/force-app/main/default/permissionsets
</code></pre>
<pre><code>=== 1: Processing /Users/mchinnappan/treeprj/force-app/main/default/permissionsets/Experience_Profile_Manager.permissionset-meta.xml file...
=== Output is written into /tmp/_viz_PermissionSet/Experience_Profile_Manager.permissionset-meta.xml.html, view this file in your web browser: open /tmp/_viz_PermissionSet/Experience_Profile_Manager.permissionset-meta.xml.html ===
-------------------------------------------
=== 2: Processing /Users/mchinnappan/treeprj/force-app/main/default/permissionsets/Manage_Encryption_Keys.permissionset-meta.xml file...
=== Output is written into /tmp/_viz_PermissionSet/Manage_Encryption_Keys.permissionset-meta.xml.html, view this file in your web browser: open /tmp/_viz_PermissionSet/Manage_Encryption_Keys.permissionset-meta.xml.html ===
-------------------------------------------
=== 3: Processing /Users/mchinnappan/treeprj/force-app/main/default/permissionsets/sf_devops_InitializeEnvironments.permissionset-meta.xml file...
=== Output is written into /tmp/_viz_PermissionSet/sf_devops_InitializeEnvironments.permissionset-meta.xml.html, view this file in your web browser: open /tmp/_viz_PermissionSet/sf_devops_InitializeEnvironments.permissionset-meta.xml.html ===
-------------------------------------------
=== 4: Processing /Users/mchinnappan/treeprj/force-app/main/default/permissionsets/sf_devops_NamedCredentials.permissionset-meta.xml file...
=== Output is written into /tmp/_viz_PermissionSet/sf_devops_NamedCredentials.permissionset-meta.xml.html, view this file in your web browser: open /tmp/_viz_PermissionSet/sf_devops_NamedCredentials.permissionset-meta.xml.html ===
-------------------------------------------
=== 4  processed ===
  adding: tmp/_viz_PermissionSet/Experience_Profile_Manager.permissionset-meta.xml.html (deflated 79%)
  adding: tmp/_viz_PermissionSet/Manage_Encryption_Keys.permissionset-meta.xml.html (deflated 80%)
  adding: tmp/_viz_PermissionSet/sf_devops_InitializeEnvironments.permissionset-meta.xml.html (deflated 79%)
  adding: tmp/_viz_PermissionSet/sf_devops_NamedCredentials.permissionset-meta.xml.html (deflated 79%)
=== _viz_PermissionSet_files.zip created ===

</code></pre>
<h2 id="packagexml-for-profilepermissionset-covering-sales-objects"><a class="header" href="#packagexml-for-profilepermissionset-covering-sales-objects">Package.xml for profile/permissionset covering sales objects</a></h2>
<ul>
<li><a href="https://github.com/mohan-chinnappan-n/xml-xslt/blob/main/profiles-with-stdobjects-package.xml">Online</a></li>
</ul>
<pre><code class="language-xml">
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;Package xmlns=&quot;http://soap.sforce.com/2006/04/metadata&quot;&gt;
  &lt;version&gt;56.0&lt;/version&gt;

&lt;!-- 

usage:
sfdx force:mdapi:retrieve -k  profiles-with-stdobjects-package.xml -u &lt;username&gt; -r .

--&gt;
&lt;types&gt;
    &lt;!-- needs to be customizable CustomObjects --&gt;
	&lt;members&gt;Account&lt;/members&gt;
	&lt;members&gt;Contact&lt;/members&gt;
	&lt;members&gt;Opportunity&lt;/members&gt;
	&lt;members&gt;Campaign&lt;/members&gt;
	&lt;members&gt;Case&lt;/members&gt;
	&lt;members&gt;Asset&lt;/members&gt;
	&lt;members&gt;Order&lt;/members&gt;
	&lt;members&gt;Lead&lt;/members&gt;
	&lt;members&gt;CampaignMember&lt;/members&gt;
	&lt;members&gt;Contract&lt;/members&gt;
	&lt;name&gt;CustomObject&lt;/name&gt;
&lt;/types&gt;

&lt;types&gt;
	&lt;members&gt;*&lt;/members&gt;
	 
	&lt;name&gt;Profile&lt;/name&gt;
&lt;/types&gt;

&lt;/Package&gt;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="setupaudittrail"><a class="header" href="#setupaudittrail">SetupAuditTrail</a></h1>
<h2 id="using-chrome-extension-onnu---query-console-to-query-setupaudittrail-and-filter-the-results-easily"><a class="header" href="#using-chrome-extension-onnu---query-console-to-query-setupaudittrail-and-filter-the-results-easily">Using Chrome Extension <a href="security/../chromeext/onnu.html">ONNU</a> - Query Console to query SetupAuditTrail and filter the results easily</a></h2>
<iframe width="920" height="500" src="https://www.youtube.com/embed/ZVtgJCImbbo" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<div style="break-before: page; page-break-before: always;"></div><h1 id="data-mask"><a class="header" href="#data-mask">Data Mask</a></h1>
<ul>
<li>Data Mask helps test environment secure by replacing sensitive data with mock realistic test data.</li>
</ul>
<p><img src="security/img/data-mask-1.png" alt="Data Mask" /></p>
<h2 id="features-1"><a class="header" href="#features-1">Features</a></h2>
<p><img src="security/img/datamask-2.png" alt="data mask features" /></p>
<h2 id="how-to"><a class="header" href="#how-to">How to</a></h2>
<p><img src="security/img/datamaks-h-1.png" alt="Data mask how to 1" /></p>
<ul>
<li>
<p>Deleting data that is not needed for testing
<img src="security/img/datamask-h-2.png" alt="Data mask how to 2" /></p>
</li>
<li>
<p>Phone replace with random numbers and leave blank for fields needing unmasked data</p>
</li>
</ul>
<p><img src="security/img/datamask-h-3.png" alt="Data mask how to 3" /></p>
<ul>
<li>Libraries for masking the fields</li>
</ul>
<p><img src="security/img/datamaks-lib-1.png" alt="Data mask lib" /></p>
<h3 id="data-mask-demo"><a class="header" href="#data-mask-demo">Data Mask Demo</a></h3>
<iframe width="920" height="480" src="https://www.youtube.com/embed/jRm6wTPC_9M" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<h2 id="references-25"><a class="header" href="#references-25">References</a></h2>
<ul>
<li><a href="https://www.salesforce.com/content/dam/web/en_us/www/documents/datasheets/data-mask-datasheet.pdf">Data Mask data sheet</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="saml---security-assertion-markup-language"><a class="header" href="#saml---security-assertion-markup-language">SAML - Security Assertion Markup Language.</a></h1>
<pre class="mermaid">sequenceDiagram
title: Magic of Security Assertion Markup Language -  Get into ExternalApps 
User-&gt;&gt;Dashboard: Lands on  Dashboard
Dashboard-&gt;&gt;IdP: Logs in using IdP
CorporatePortal-&gt;&gt;User: Presents External Apps available to the User
User-&gt;&gt;ExternalApp:Clicks into the ExternalApp 
ExternalApp-&gt;&gt;IdP: Sends  Security Assertion Markup Language  &lt;br/&gt;request to authenticate User
IdP-&gt;&gt;ExternalApp: Verifies the session and sends the User back to ExternalApp &lt;br/&gt; with Security Assertion Markup Language Response
User-&gt;&gt;ExternalApp: Got access to ExternalApp


</pre>
<p>It is an XML-based open-standard for transferring identity data between two parties: an identity provider (IdP) and a service provider (SP).</p>
<h3 id="identity-provider-idp"><a class="header" href="#identity-provider-idp">Identity Provider (IdP)</a></h3>
<p>— Performs authentication and passes the user’s identity and authorization level to the service provider.</p>
<h3 id="service-provider-sp"><a class="header" href="#service-provider-sp">Service Provider (SP)</a></h3>
<p>— <strong>Trusts</strong> the identity provider and authorizes the given user to access the requested resource.</p>
<h2 id="benefits"><a class="header" href="#benefits">Benefits</a></h2>
<ul>
<li>
<p>Improved User Experience — Users only need to sign in one time to access multiple service providers.</p>
</li>
<li>
<p>Increased Security — SAML provides a single point of authentication, which happens at a secured IdP.</p>
<ul>
<li>Then, SAML transfers the identity information to the service providers. This form of authentication ensures that credentials are only sent to the IdP directly.</li>
</ul>
</li>
<li>
<p>Loose Coupling of Directories — SAML doesn’t require user information to be maintained and synchronized between directories.</p>
</li>
<li>
<p>Reduced Costs for Service Providers — With SAML, you don’t have to maintain account information across multiple SPs. IdP bears this burden.</p>
</li>
</ul>
<h3 id="saml-request-from-sp"><a class="header" href="#saml-request-from-sp">SAML Request from SP</a></h3>
<p>This SAML request is a POST binding request, meaning that it will be sent via an HTTP POST request to the Identity Provider (IdP) endpoint specified in the Destination attribute.</p>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;samlp:AuthnRequest
    xmlns:samlp=&quot;urn:oasis:names:tc:SAML:2.0:protocol&quot;
    xmlns:saml=&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot;
    ID=&quot;12345&quot;
    Version=&quot;2.0&quot;
    IssueInstant=&quot;2023-03-26T12:34:56Z&quot;
    ProtocolBinding=&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST&quot;
    AssertionConsumerServiceURL=&quot;https://sp.example.com/acs&quot;
    Destination=&quot;https://idp.example.com/idp/login&quot;&gt;
    &lt;saml:Issuer&gt;https://sp.example.com&lt;/saml:Issuer&gt;
    &lt;samlp:NameIDPolicy
        Format=&quot;urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified&quot;
        AllowCreate=&quot;true&quot; /&gt;
&lt;/samlp:AuthnRequest&gt;




</code></pre>
<p><img src="security/img/samlRequest-2.png" alt="SAML Request" /></p>
<table><thead><tr><th>Element</th><th>Description</th></tr></thead><tbody>
<tr><td>samlp:AuthnRequest</td><td>The root element of the SAML request</td></tr>
<tr><td>xmlns:samlp and xmlns:saml</td><td>The namespaces used in the SAML request</td></tr>
<tr><td>ID</td><td>A unique identifier for the SAML request</td></tr>
<tr><td>Version</td><td>The version of the SAML protocol being used (in this case, SAML 2.0).</td></tr>
<tr><td>IssueInstant</td><td>The timestamp when the SAML request was issued.</td></tr>
<tr><td>ProtocolBinding</td><td>The binding used for the SAML request.</td></tr>
<tr><td>AssertionConsumerServiceURL</td><td>The URL where the SAML response should be sent.</td></tr>
<tr><td>Destination</td><td>The endpoint URL of the IdP where the SAML request should be sent.</td></tr>
<tr><td>saml:Issuer</td><td>The entity ID of the service provider sending the SAML request.</td></tr>
<tr><td>samlp:NameIDPolicy</td><td>A policy that specifies how the NameID should be formatted in the SAML response. In this case, the format is unspecified and the IdP is allowed to create a new NameID if necessary.</td></tr>
</tbody></table>
<ul>
<li>Assertion Consumer Service (ACS)</li>
</ul>
<h3 id="saml-response-from-idp"><a class="header" href="#saml-response-from-idp">SAML response from IdP</a></h3>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;samlp:Response
    xmlns:samlp=&quot;urn:oasis:names:tc:SAML:2.0:protocol&quot;
    xmlns:saml=&quot;urn:oasis:names:tc:SAML:2.0:assertion&quot;
    ID=&quot;abcdefg&quot;
    Version=&quot;2.0&quot;
    IssueInstant=&quot;2023-03-26T12:34:56Z&quot;
    Destination=&quot;https://sp.example.com/acs&quot;
    InResponseTo=&quot;12345&quot;&gt;
    &lt;saml:Issuer&gt;https://idp.example.com&lt;/saml:Issuer&gt;
    &lt;samlp:Status&gt;
        &lt;samlp:StatusCode
            Value=&quot;urn:oasis:names:tc:SAML:2.0:status:Success&quot; /&gt;
    &lt;/samlp:Status&gt;
    &lt;saml:Assertion
        ID=&quot;hijklmn&quot;
        Version=&quot;2.0&quot;
        IssueInstant=&quot;2023-03-26T12:34:56Z&quot;&gt;
        &lt;saml:Issuer&gt;https://idp.example.com&lt;/saml:Issuer&gt;
        &lt;saml:Subject&gt;
            &lt;saml:NameID&gt;user@example.com&lt;/saml:NameID&gt;
            &lt;saml:SubjectConfirmation
                Method=&quot;urn:oasis:names:tc:SAML:2.0:cm:bearer&quot;&gt;
                &lt;saml:SubjectConfirmationData
                    InResponseTo=&quot;12345&quot;
                    NotOnOrAfter=&quot;2023-03-26T12:44:56Z&quot;
                    Recipient=&quot;https://sp.example.com/acs&quot; /&gt;
            &lt;/saml:SubjectConfirmation&gt;
        &lt;/saml:Subject&gt;
        &lt;saml:Conditions
            NotBefore=&quot;2023-03-26T12:24:56Z&quot;
            NotOnOrAfter=&quot;2023-03-26T12:44:56Z&quot;&gt;
            &lt;saml:AudienceRestriction&gt;
                &lt;saml:Audience&gt;https://sp.example.com&lt;/saml:Audience&gt;
            &lt;/saml:AudienceRestriction&gt;
        &lt;/saml:Conditions&gt;
        &lt;saml:AuthnStatement
            AuthnInstant=&quot;2023-03-26T12:34:56Z&quot;
            SessionIndex=&quot;12345&quot;&gt;
            &lt;saml:AuthnContext&gt;
                &lt;saml:AuthnContextClassRef&gt;
                    urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport
                &lt;/saml:AuthnContextClassRef&gt;
            &lt;/saml:AuthnContext&gt;
        &lt;/saml:AuthnStatement&gt;
    &lt;/saml:Assertion&gt;
&lt;/samlp:Response&gt;
</code></pre>
<p><img src="security/img/samlResponse-2.png" alt="SAML Response" /></p>
<table><thead><tr><th>Item</th><th>Description</th></tr></thead><tbody>
<tr><td>Assertion</td><td>This is the primary component of the SAML response and contains the actual authentication and authorization information about the user. The assertion typically includes the user's identity information, such as their name and email address, as well as any relevant access control information.</td></tr>
<tr><td>Status</td><td>This element indicates the success or failure of the authentication process. If the authentication was successful, the status will be set to &quot;Success.&quot; If it failed, the status will be set to &quot;Failure&quot; and may include an error message.</td></tr>
<tr><td>Signature</td><td>The SAML response may be digitally signed to ensure its authenticity and integrity. The signature is typically generated using the private key of the IdP and can be verified using the public key of the IdP.</td></tr>
<tr><td>Destination</td><td>This element specifies the URL of the SP that the SAML response is intended for.</td></tr>
<tr><td>IssueInstant</td><td>This element indicates the time when the SAML response was issued.</td></tr>
<tr><td>Issuer</td><td>This element identifies the IdP that issued the SAML response</td></tr>
</tbody></table>
<pre class="mermaid">sequenceDiagram
title: Security Assertion Markup Language -  Request and Response
User-&gt;&gt;Dashboard: Lands on  Dashboard via Browser
Dashboard-&gt;&gt;IdP: POSTs Request 
IdP-&gt;&gt;ExternalApp: Parses Request and authenticates User and sends Response via Browser
User-&gt;&gt;ExternalApp: Got access to ExternalApp


</pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="openid-concepts"><a class="header" href="#openid-concepts">OpenID Concepts</a></h1>
<h2 id="basic-concepts"><a class="header" href="#basic-concepts">Basic Concepts</a></h2>
<ul>
<li>OpenID Connect is an open standard for <strong>authentication and authorization</strong> that provides an interoperable authentication layer between applications</li>
<li>It is a protocol that helps applications of all types
<ul>
<li>handle end-user authentication and verify the identities of these users</li>
</ul>
</li>
<li>OpenID Connect is based on a framework called OAuth 2.0, which handles delegated authorization </li>
<li>OpenID Connect enables scenarios where one login can be used across multiple applications, also known as <strong>single sign-on</strong> (SSO).</li>
</ul>
<img src='https://github.com/mohan-chinnappan-n/cli-dx/raw/master/oid/img/oid-1.png' width='500'/>
<h3 id="authentication"><a class="header" href="#authentication">authentication</a></h3>
<ul>
<li>The process of confirming the identity of an entity (e.g user)</li>
</ul>
<h3 id="authorization"><a class="header" href="#authorization">authorization</a></h3>
<ul>
<li>The process of verifying what entities can <strong>access</strong>, or what actions they can <strong>perform</strong>.</li>
</ul>
<pre><code>For a concrete example, imagine a situation where you buy a ticket for a show. In this case,
more often than not, the establishment will not be interested in your identity (i.e., on who you are). What
they care about is whether you are authorized or not to attend the show. To prove that you have the right
to be there, instead of using an ID or a passport, you would use a ticket that contains no information
about you.
</code></pre>
<ul>
<li>The authentication can lead to authorization but that the opposite is not true.
<ul>
<li>having authorization does not mean being authenticated or identified</li>
</ul>
</li>
</ul>
<h3 id="entity"><a class="header" href="#entity">entity</a></h3>
<ul>
<li>thing that exists as an individual unit</li>
</ul>
<h3 id="identity"><a class="header" href="#identity">identity</a></h3>
<ul>
<li>
<p>is a set of attributes that you can use to distinguish the entity within a context. </p>
</li>
<li>
<p>Multiple Identities can belong to an Entity</p>
</li>
</ul>
<pre class="mermaid">flowchart LR
identity1 --&gt; entity
identity2 --&gt; entity
observer1 --&gt; identity1 
observer2 --&gt; identity2
identity2 --&gt; attributes2
identity1 --&gt; attributes1



</pre>
<ul>
<li>Apps based on the OpenID Connect protocol rely on 
<ul>
<li>identity providers to handle authentication processes for them securely and to verify the identities (i.e., personal attributes) of their users</li>
<li>Note: OIDC spec uses <strong>Authorization Server to refer to the entity in charge of authenticating end-users</strong></li>
</ul>
</li>
</ul>
<pre><code>Imagine, for example, you have a restaurant application that allows authenticated users to book tables.
By using OpenID Connect, instead of dealing with the credentials of these users, your app would offload
the authentication process to an identity provider (for example, Google, Microsoft, or Auth0). More
specifically, when visitors start this process, your application would redirect them to the identity provider
of choice where they would authenticate themselves to prove their identities. After the authentication
process, your app would get this identity proof and would allow users to book their tables based on it
</code></pre>
<pre class="mermaid">sequenceDiagram
title: Restaurant table booking
    User-&gt;&gt;App: I need to book table
    App-&gt;&gt;User: OK, can you prove your identity, I will send you to Google OIDC&lt;br/&gt; Since that is configured as your authProvider
    User-&gt;&gt;GoogleOIDC:  Login
    GoogleOIDC-&gt;&gt;App: Here is the ID proof of the User
    App-&gt;&gt;GoogleOIDC: Here is the artifacts for the authentication
    App-&gt;&gt;User: You are logged-in, go ahead and book the table
    User-&gt;&gt;App: Books the table

</pre>
<hr />
<pre class="mermaid">sequenceDiagram
title: Salesforce Org Access 

    User-&gt;&gt;SFDC: I need to login into the Org 
    SFDC-&gt;&gt;User: OK, can you prove your identity, I will send you to Google OIDC,&lt;br/&gt; Since that is configured as your authProvider
    User-&gt;&gt;GoogleOIDC:  Login
    GoogleOIDC-&gt;&gt;SFDC: Here is the ID proof of the User
    SFDC-&gt;&gt;GoogleOIDC: Here is the artifacts for the authentication
    SFDC-&gt;&gt;User: You are logged-in, go ahead and use the Org 
    User-&gt;&gt;SFDC: Performs work in the Org

</pre>
<ul>
<li>For OIDC spec point of view:
<ul>
<li>Identity providers are free to decide if they handle user authentication through a set of credentials (e.g., username and password)</li>
<li>if they enhance the security of the process by using features like multi-factor authentication (MFA), </li>
<li>or even if they relay this process to other identity providers and other protocols. </li>
</ul>
</li>
</ul>
<h2 id="history---how-we-landed-here"><a class="header" href="#history---how-we-landed-here">History - how we landed here?</a></h2>
<h3 id="password-days"><a class="header" href="#password-days">Password days</a></h3>
<ul>
<li>It all started if you have a password you can access the computer</li>
</ul>
<pre class="mermaid">flowchart LR

User--&gt;Password--&gt;Computer

</pre>
<h3 id="birth-of-authentication-protocol-like-kerberos"><a class="header" href="#birth-of-authentication-protocol-like-kerberos">Birth of Authentication Protocol like <a href="https://web.mit.edu/kerberos/">Kerberos</a></a></h3>
<ul>
<li>With advent of computer networks, we need to avoid the issue of users would end up being duplicated all over the place</li>
<li>Authentication Protocol like <a href="https://web.mit.edu/kerberos/">Kerberos</a> are created to solve these issues</li>
<li>Then we decided to centralize authentication on domain controllers (servers that respond to security authentication requests like login, permission checking, etc.)</li>
</ul>
<pre class="mermaid">flowchart LR

Apps&lt;--&gt;DomainController&lt;--&gt;User

</pre>
<ul>
<li>Single organization focused:
<ul>
<li>The biggest problem with these domain controllers was that they were conceived to put all the entities (end-users, applications, and services) involved in the process under the control of a single organization. </li>
</ul>
</li>
<li>These protocols were not created to handle scenarios where users want to connect to third-party clients as in a typical cloud computing scenario, where the organization that handles the
identity provider typically does not have knowledge or control over those clients.</li>
</ul>
<h4 id="saml"><a class="header" href="#saml">SAML</a></h4>
<ul>
<li>For exchanging authentication and authorization data between different security domains.</li>
<li>A user that belonged to company A could consume a service on Company B in a reliable way and <strong>without requiring companies to duplicate user profile</strong></li>
<li>Heavily based on XML for flexibility , but the issues are:
<ul>
<li>becomes a problem when you need to digitally sign identities 
<ul>
<li>where two elements listed in a different order can break a signature verification.</li>
</ul>
</li>
</ul>
</li>
<li>Technically speaking, SAML provides enough to cover similar scenarios to the ones OpenID Connect addresses
<ul>
<li>But the protocol ended up being used mostly in the business world. </li>
<li>In the consumer world (social networks, for example), there was another effort called OAuth (Open Authorization)</li>
</ul>
</li>
</ul>
<pre class="mermaid">
flowchart LR    
CompanyA &lt;--&gt; SAML &lt;--&gt; CompanyB 

</pre>
<h3 id="oauth-open-authorization-and-oidc"><a class="header" href="#oauth-open-authorization-and-oidc">OAuth (Open Authorization) and OIDC</a></h3>
<ul>
<li>OAuth created specifically to handle <strong>delegated authorization</strong> scenarios, like when you let a random application post something on Facebook as if it was you. </li>
<li>OAuth got so much traction that developers started using it to do things it was not created to do, <strong>like handling end-user authentication</strong>. </li>
<li>This led to an effort that resulted in OpenID Connect, a protocol that <strong>extends</strong> OAuth 2.0 to address authentication.</li>
</ul>
<h2 id="oauth-20"><a class="header" href="#oauth-20">OAuth 2.0</a></h2>
<ul>
<li>
<p>OAuth 2.0 is an authorization framework that enables <strong>clients to use resource servers on behalf of resources owners</strong></p>
</li>
<li>
<p>Delegated authorization</p>
</li>
<li>
<p>OAuth 2.0 framework defines Authorization Server </p>
<ul>
<li>Authorization Server provides a means for resource owners to decide whether they want to grant the client the <strong>power to do something on their behalf or not</strong></li>
</ul>
</li>
<li>
<p>OAuth 2.0 framework uses the term <strong>Access Token</strong> to define the artifact that grants third-party applications (Clients) delegated authorization to act on behalf of users (Resource Owners).</p>
</li>
<li>
<p>OAuth 2.0 is an authorization framework that enables applications(clients) to use APIs on behalf of users </p>
<ul>
<li>With this token, an API (Resource Server) will let an application access some part of it to perform some action</li>
</ul>
</li>
<li>
<p>Since the only thing OAuth 2.o handles is authorization, the framework does not support end-user authentication by itself </p>
</li>
</ul>
<pre class="mermaid">sequenceDiagram
title: How SFDX CLI uses OAuth 2.0?

User-&gt;&gt;SFDXCLI: Grants access (after giving the consent) &lt;br/&gt; User is the Resource Owner
SFDXCLI-&gt;&gt;SFOrg: Authorization &lt;br/&gt;(SFDXCLI is Client/Application) (SFOrg is Resource Server)

</pre>
<h2 id="oidc-use-cases"><a class="header" href="#oidc-use-cases">OIDC Use Cases</a></h2>
<ul>
<li>OpenID Connect lets applications offload the authentication process burden to identity providers.</li>
</ul>
<ol>
<li>
<p>Use OIDC to enable your users to <strong>reuse their accounts</strong> on an identity provider</p>
<ul>
<li>Instead of asking users to create yet another account – which would mean asking them to remember
another set of credentials (or, even worse, reusing usernames and passwords) – you could take advantage
of OIDC to integrate with an identity provider like Google or Microsoft to let them reuse existing accounts.</li>
<li>The signup process would be smoother, resulting in fewer dropouts</li>
<li>OIDC defines a set of <strong>profile data categories</strong> that you can use to acquire more information about your users</li>
</ul>
</li>
<li>
<p>Instead of making your application communicate with multiple providers, you can make it connect to a single one that works as a <strong>hub</strong> for the others. For example: <a href="https://auth0.com/docs/authenticate/identity-providers">Auth0</a> company integrates with more than fifty identity providers</p>
</li>
<li>
<p>Work as a proxy for other protocols</p>
<ul>
<li>For example make an OpenID Connect identity provider work as a proxy for a more restrictive protocol like SAML </li>
</ul>
</li>
</ol>
<h3 id="key-terms-1"><a class="header" href="#key-terms-1">Key terms</a></h3>
<table><thead><tr><th>Item</th><th>Description</th></tr></thead><tbody>
<tr><td><strong>Authorization Server</strong></td><td>the place where, in a pure OAuth 2.0 authorization flow, end-users authorize third-party applications to act on their behalf; or, in an OpenID Connect flow, where end-users authenticate.</td></tr>
<tr><td><strong>ID Token</strong></td><td>an artifact that carries personal information about end-users that authenticate on an OpenID Connect flow.</td></tr>
<tr><td><strong>Digital Signature</strong></td><td>the mechanism that allows third-party applications to confirm the veracity of the information they find in ID Tokens.</td></tr>
<tr><td><strong>Delegated Authorization</strong></td><td>a particular type of authorization where an entity enables another entity to act on its behalf.</td></tr>
<tr><td><strong>Access Tokens</strong></td><td>the artifact that grants, to a third-party application, the authorization to act on behalf of a resource owner (e.g., an end-user)</td></tr>
<tr><td><strong>Implicit flow</strong></td><td>tokens are handed to the applications directly by the authorization endpoint (i.e., when the authorization server redirects users back to the application)</td></tr>
<tr><td><strong>authorization code flow</strong></td><td>Applications first get authorization codes (hence, the name); then, they have to exchange these codes for the tokens they need</td></tr>
</tbody></table>
<hr />
<iframe width="920" height="480" src="https://www.youtube.com/embed/t18YB3xDfXI" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<iframe width="920" height="480 " src="https://www.youtube.com/embed/8aCyojTIW6U" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<h2 id="resources-4"><a class="header" href="#resources-4">Resources</a></h2>
<ul>
<li><a href="https://auth0.com/resources/ebooks/the-openid-connect-handbook">OIDC Handbook - by Auth0 - Bruno Krebs</a></li>
<li><a href="https://openidconnect.herokuapp.com/">OpenID Connect Playground</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="openid-connect"><a class="header" href="#openid-connect">OpenId Connect</a></h1>
<h2 id="how-to-use-google-as-openid-connect-provider-for-salesforce"><a class="header" href="#how-to-use-google-as-openid-connect-provider-for-salesforce">How to use Google as OpenID Connect provider for Salesforce?</a></h2>
<h2 id="topics-24"><a class="header" href="#topics-24">Topics</a></h2>
<ul>
<li><a href="security/openIDConnect.html#demo">Demo</a></li>
<li><a href="security/openIDConnect.html#ap">Auth. Provider Settings</a></li>
<li><a href="security/openIDConnect.html#cs">Open ID Provider client secret</a></li>
<li><a href="security/openIDConnect.html#rh">Auth.RegistrationHandler</a></li>
<li><a href="security/openIDConnect.html#lrh">Auth.RegistrationHandler Log</a></li>
<li><a href="security/openIDConnect.html#mdapi">Using Metadata API</a></li>
<li><a href="security/openIDConnect.html#authtoken">Getting AccessToken for the Google using Auth.AuthToken and Getting userInfo</a></li>
<li><a href="security/openIDConnect.html#ref">References</a></li>
</ul>
<p><a name='demo'></a></p>
<h2 id="demo-17"><a class="header" href="#demo-17">Demo</a></h2>
<p><img src="https://github.com/mohan-chinnappan-n/cli-dx/raw/master/oid/img/openIdconnect-SF-Google-1.gif" alt="Demo oid" /></p>
<p><a name='ap'></a></p>
<h2 id="auth-provider-settings"><a class="header" href="#auth-provider-settings">Auth. Provider settings</a></h2>
<p><img src="https://github.com/mohan-chinnappan-n/cli-dx/raw/master/oid/img/auth-provide-google-1.png" alt="auth provide settings" /></p>
<h2 id="salesforce-configuration"><a class="header" href="#salesforce-configuration">Salesforce Configuration</a></h2>
<table><thead><tr><th>URL</th><th>Link</th></tr></thead><tbody>
<tr><td>Test-Only Initialization URL</td><td>https://mohansun-ea-02-dev-ed.my.salesforce.com/services/auth/test/Google</td></tr>
<tr><td>Single Sign-On Initialization URL</td><td>https://mohansun-ea-02-dev-ed.my.salesforce.com/services/auth/sso/Google</td></tr>
<tr><td>Existing User Linking URL</td><td>https://mohansun-ea-02-dev-ed.my.salesforce.com/services/auth/link/Google</td></tr>
<tr><td>OAuth-Only Initialization URL</td><td>https://mohansun-ea-02-dev-ed.my.salesforce.com/services/auth/oauth/Google</td></tr>
<tr><td>Callback URL</td><td>https://mohansun-ea-02-dev-ed.my.salesforce.com/services/authcallback/Google</td></tr>
<tr><td>Single Logout URL</td><td>https://mohansun-ea-02-dev-ed.my.salesforce.com/services/auth/rp/oidc/logout</td></tr>
</tbody></table>
<h2 id="google-oidc-provider-configuration"><a class="header" href="#google-oidc-provider-configuration">Google OIDC Provider Configuration</a></h2>
<table><thead><tr><th>URL</th><th>Link</th></tr></thead><tbody>
<tr><td>Authorize Endpoint URL</td><td>https://accounts.google.com/o/oauth2/auth</td></tr>
<tr><td>Token Endpoint URL</td><td>https://accounts.google.com/o/oauth2/token</td></tr>
<tr><td>User Info Endpoint URL</td><td>https://www.googleapis.com/oauth2/v3/userinfo</td></tr>
</tbody></table>
<p><a name='cs'></a></p>
<h2 id="oid-provider-client-secret-details"><a class="header" href="#oid-provider-client-secret-details">OID provider client secret details</a></h2>
<ul>
<li>Note: Content is mangled here to protect the Identity</li>
</ul>
<pre><code class="language-json">
{
  &quot;web&quot;: {
    &quot;project_id&quot;: &quot;oidtest-310720&quot;,
    
    &quot;client_id&quot;: &quot;113225562349-fqktafcJUNK.apps.googleusercontent.com&quot;,
    &quot;client_secret&quot;: &quot;6VIgVAz8NlJUNKIk4INu4&quot;,

    &quot;auth_uri&quot;: &quot;https://accounts.google.com/o/oauth2/auth&quot;,
    &quot;token_uri&quot;: &quot;https://oauth2.googleapis.com/token&quot;,
   
     &quot;auth_provider_x509_cert_url&quot;: &quot;https://www.googleapis.com/oauth2/v1/certs&quot;,


    &quot;redirect_uris&quot;: [
      &quot;https://mohansun-ea-02-dev-ed.my.salesforce.com/services/authcallback/Google&quot;
    ]
  }
}

</code></pre>
<p><a name='rh'></a></p>
<h2 id="sample-autocreated-reghandler-class"><a class="header" href="#sample-autocreated-reghandler-class">Sample Autocreated RegHandler class</a></h2>
<pre><code class="language-java">// TODO:This autogenerated class includes the basics for a Registration

// Handler class. You will need to customize it to ensure it meets your needs and
// the data provided by the third party.

global class AutocreatedRegHandler1618428423355 implements Auth.RegistrationHandler {
   
 global boolean canCreateUser(Auth.UserData data) {
        //TODO: Check whether we want to allow creation of a user with this data
        //Set&lt;String&gt; s = new Set&lt;String&gt;{'usernamea', 'usernameb', 'usernamec'};
        //if(s.contains(data.username)) {
            //return true;
        //}
        return false;
    }

    global User createUser(Id portalId, Auth.UserData data){
        System.debug(data);       
    
        User u = [Select Id From User WHERE federationidentifier = :data.email LIMIT 1];
        return u;
    }

    global void updateUser(Id userId, Id portalId, Auth.UserData data){
         
    }


}
</code></pre>
<h2 id="querying-authprovider"><a class="header" href="#querying-authprovider">Querying AuthProvider</a></h2>
<pre><code class="language-sql">
SELECT Id,authorizeUrl,
consumerKey,consumerSecret,
customMetadataTypeRecord,
defaultScopes,
DeveloperName,
errorUrl,
friendlyName,
iconUrl,
idTokenIssuer,
LinkKickoffUrl,
logoutUrl,
OauthKickoffUrl,
providerType,
tokenUrl,
userInfoUrl


FROM AuthProvider 


</code></pre>
<p><a name='lrh'></a></p>
<h2 id="log-from-the-reghandler"><a class="header" href="#log-from-the-reghandler">Log from the RegHandler</a></h2>
<p><img src="https://github.com/mohan-chinnappan-n/cli-dx/raw/master/oid/img/oid-log-1.png" alt="log regHandler" /></p>
<p><a name='mdapi'></a></p>
<h2 id="metadata-details-of-this-authprovider"><a class="header" href="#metadata-details-of-this-authprovider">Metadata details of this AuthProvider</a></h2>
<pre><code>$ sfdx mohanc:mdapi:list -u mohan.chinnappan.n_ea2@gmail.com -t AuthProvider

</code></pre>
<pre><code>{
  result: [
    {
      createdById: '0053h000002xQ5sAAE',
      createdByName: 'Mohan Chinnappan',
      createdDate: 2020-12-11T17:06:31.000Z,
      fileName: 'authproviders/Google.authprovider',
      fullName: 'Google',
      id: '0SO3h000000CwxxGAC',
      lastModifiedById: '0053h000002xQ5sAAE',
      lastModifiedByName: 'Mohan Chinnappan',
      lastModifiedDate: 1970-01-01T00:00:00.000Z,
      type: 'AuthProvider'
    }
  ]
}

</code></pre>
<pre><code>$ sfdx mohanc:mdapi:retrieve -u mohan.chinnappan.n_ea2@gmail.com -t AuthProvider
</code></pre>
<pre><code>{
    &quot;RetrieveRequest&quot;: {
        &quot;apiVersion&quot;: &quot;51.0&quot;,
        &quot;unpackaged&quot;: [
            {
                &quot;types&quot;: {
                    &quot;members&quot;: &quot;*&quot;,
                    &quot;name&quot;: &quot;AuthProvider&quot;
                }
            }
        ]
    }
}
{ result: { done: false, id: '09S3h000005hIRGEA2', state: 'Queued' } }
</code></pre>
<pre><code>$ sfdx mohanc:mdapi:checkRetrieveStatus  -u mohan.chinnappan.n_ea2@gmail.com -i 09S3h000005hIRGEA2

</code></pre>
<pre><code>[
  {
    createdById: '',
    createdByName: '',
    createdDate: 2020-12-11T17:06:31.000Z,
    fileName: 'unpackaged/authproviders/Google.authprovider',
    fullName: 'Google',
    id: '0SO3h000000CwxxGAC',
    lastModifiedById: '',
    lastModifiedByName: '',
    lastModifiedDate: 1970-01-01T00:00:00.000Z,
    type: 'AuthProvider'
  },
  {
    createdById: '0053h000002xQ5sAAE',
    createdByName: 'Mohan Chinnappan',
    createdDate: 2021-04-16T01:12:48.036Z,
    fileName: 'unpackaged/package.xml',
    fullName: 'unpackaged/package.xml',
    id: '',
    lastModifiedById: '0053h000002xQ5sAAE',
    lastModifiedByName: 'Mohan Chinnappan',
    lastModifiedDate: 2021-04-16T01:12:48.036Z,
    manageableState: 'unmanaged',
    type: 'Package'
  }
]
=== Writing zipFile base64 content to 09S3h000005hIRGEA2.zip.txt ...
=== Writing zipFile binary content to 09S3h000005hIRGEA2.zip ... 

</code></pre>
<pre><code>$ jar tvf 09S3h000005hIRGEA2.zip
  1054 Fri Apr 16 01:12:48 EDT 2021 unpackaged/authproviders/Google.authprovider
   224 Fri Apr 16 01:12:48 EDT 2021 unpackaged/package.xml
</code></pre>
<pre><code>$ unzip 09S3h000005hIRGEA2.zip
Archive:  09S3h000005hIRGEA2.zip
  inflating: unpackaged/authproviders/Google.authprovider  
  inflating: unpackaged/package.xml  

</code></pre>
<pre><code>$ cat authproviders/Google.authprovider 
</code></pre>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;AuthProvider xmlns=&quot;http://soap.sforce.com/2006/04/metadata&quot;&gt;
    &lt;authorizeUrl&gt;https://accounts.google.com/o/oauth2/auth&lt;/authorizeUrl&gt;
    &lt;consumerKey&gt;_junk_-fqktafcmesni74spapbj1ep0pvja4oor.apps.googleusercontent.com&lt;/consumerKey&gt;
    &lt;consumerSecret&gt;_____&lt;/consumerSecret&gt;
    &lt;defaultScopes&gt;email openid  profile&lt;/defaultScopes&gt;
    &lt;executionUser&gt;mohan.chinnappan@email.com&lt;/executionUser&gt;
    &lt;friendlyName&gt;Google&lt;/friendlyName&gt;
    &lt;includeOrgIdInIdentifier&gt;false&lt;/includeOrgIdInIdentifier&gt;
    &lt;providerType&gt;Google&lt;/providerType&gt;
    &lt;registrationHandler&gt;AutocreatedRegHandler1618428423355&lt;/registrationHandler&gt;
    &lt;sendAccessTokenInHeader&gt;false&lt;/sendAccessTokenInHeader&gt;
    &lt;sendClientCredentialsInHeader&gt;false&lt;/sendClientCredentialsInHeader&gt;
    &lt;sendSecretInApis&gt;true&lt;/sendSecretInApis&gt;
    &lt;tokenUrl&gt;https://accounts.google.com/o/oauth2/token&lt;/tokenUrl&gt;
    &lt;userInfoUrl&gt;https://www.googleapis.com/oauth2/v3/userinfo&lt;/userInfoUrl&gt;
&lt;/AuthProvider&gt;


</code></pre>
<h2 id="test-only-initialization-url"><a class="header" href="#test-only-initialization-url">Test-Only Initialization URL</a></h2>
<ul>
<li>https://mohansun-ea-02-dev-ed.my.salesforce.com/services/auth/test/Google</li>
<li><a href="https://mohansun-ea-02-dev-ed.my.salesforce.com/services/auth/test/Google">Run Test Only</a></li>
</ul>
<p><a name='authtoken'></a></p>
<h2 id="getting-accesstoken-for-the-google-using-authauthtoken-and-userinfo"><a class="header" href="#getting-accesstoken-for-the-google-using-authauthtoken-and-userinfo">Getting AccessToken for the Google using Auth.AuthToken and UserInfo</a></h2>
<pre><code class="language-java">// file: ~/.apex/oidc.cls 
String authProviderId = '0SO3h000000Cwxx';
String providerName = 'Google';
String accessToken = Auth.AuthToken.getAccessToken(authProviderId, providerName);
System.debug('accessToken: ' + accessToken);

</code></pre>
<pre><code class="language-bash"># you can also use developer console to execute above apex code instead of CLI
sfdx mohanc:tooling:execute -a ~/.apex/oidc.cls -u mohan.chinnappan.n_ea2@gmail.com   
</code></pre>
<pre><code>apexCode: String authProviderId = '0SO3h000000Cwxx';
String providerName = 'Google';
String accessToken = Auth.AuthToken.getAccessToken(authProviderId, providerName);
System.debug('accessToken: ' + accessToken);

compiled?: true
executed?: true
{
  line: -1,
  column: -1,
  compiled: true,
  success: true,
  compileProblem: null,
  exceptionStackTrace: null,
  exceptionMessage: null
}

</code></pre>
<h3 id="check-logs"><a class="header" href="#check-logs">Check logs</a></h3>
<pre><code>sfdx force:apex:log:list  -u mohan.chinnappan.n_ea2@gmail.com
</code></pre>
<pre><code>APPLICATION DURATION (MS) ID                 LOCATION   SIZE (B) LOG USER         OPERATION                                                 REQUEST     START TIME               STATUS  
 ─────────── ───────────── ────────────────── ────────── ──────── ──────────────── ───────────────────────────────────────────────────────── ─────────── ──────────────────────── ─────── 
 Unknown     94            07L3h00000AvxqyEAB SystemLog  3640     Mohan Chinnappan /services/data/v57.0/tooling/executeAnonymous             Api         2023-04-04T05:44:30+0000 Success 

</code></pre>
<pre><code>sfdx force:apex:log:get -i 07L3h00000AvxqyEAB  -u mohan.chinnappan.n_ea2@gmail.com    | grep -i Debug
</code></pre>
<pre><code>57.0 APEX_CODE,FINEST;APEX_PROFILING,INFO;CALLOUT,INFO;DB,INFO;NBA,INFO;SYSTEM,DEBUG;VALIDATION,INFO;VISUALFORCE,FINER;WAVE,INFO;WORKFLOW,INFO
Execute Anonymous: System.debug('accessToken: ' + accessToken);
22:44:30.1 (7497609)|USER_DEBUG|[4]|DEBUG|accessToken: ya29.a0Ael9sCNXJZqO7O34pvUcb4sDkO9S0X3hbBTxtMnnZ1H00TJQq_mhaPAR5fXffydfasdfsarerrvSneMUdC8Wen9YOHYNn4rQ1sNtiHDFQqRQ6gtqGPBdrgHFz3kBsTEobU4OP59OJSIJJ1OO1kUkaCgYKAUYSARMSFQF4udJh3LjnChU-94GnI--qgC6QcA0166

</code></pre>
<h4 id="if-you-have-used-developer-console-to-execute-the-apex-code-here-is-the-view-from-the-developer-console"><a class="header" href="#if-you-have-used-developer-console-to-execute-the-apex-code-here-is-the-view-from-the-developer-console">If you have used Developer Console to execute the apex code, here is the view from the Developer Console:</a></h4>
<p><img src="security/img/accessToken-google-2.png" alt="Access Token Google" /></p>
<h3 id="let-us-get-the-userinfo"><a class="header" href="#let-us-get-the-userinfo">Let us get the userInfo</a></h3>
<pre><code class="language-bash">
# Note the accessToken used here is mangled to protect identity
curl https://www.googleapis.com/oauth2/v3/userinfo -H &quot;Authorization: Bearer ya29.a0Ael9sCNXJZqO7O34pvUcb4sDkO9S0X3hbBTxtMnnZ1H00TJQq_mhadfdj3335fXffy4JsugBpVZSjY06npxOmlFJPvSneMUdC8Wen9YOHYNn4rQ1sNtiHDFQqRQ6gtqGPBdrgHFz3kBsTEobU4OP59OJSIJJ1OO1kUkaCgYKAUYSARMSFQF4udJh3LjnChU-94GnI--qgC6QcA0166&quot; -X GET


</code></pre>
<pre><code class="language-json">{
  &quot;sub&quot;: &quot;102467670031694452102&quot;,
  &quot;name&quot;: &quot;Mohan Chinnappan&quot;,
  &quot;given_name&quot;: &quot;Mohan&quot;,
  &quot;family_name&quot;: &quot;Chinnappan&quot;,
  &quot;picture&quot;: &quot;https://lh3.googleusercontent.com/a/AGNmyxbp471dpjPtNSeeeejyyNbh1fFJqlknZUaDqrmb\u003ds96-c&quot;,
  &quot;email&quot;: &quot;mohan.chinnappan.n@gmail.com&quot;,
  &quot;email_verified&quot;: true,
  &quot;locale&quot;: &quot;en&quot;

}
</code></pre>
<h3 id="viewing-registrationhandleruserupdate-log"><a class="header" href="#viewing-registrationhandleruserupdate-log">Viewing RegistrationHandlerUserUpdate log</a></h3>
<pre><code>sfdx force:apex:log:list  -u mohan.chinnappan.n_ea2@gmail.com

 APPLICATION DURATION (MS) ID                 LOCATION   SIZE (B) LOG USER         OPERATION                                                 REQUEST     START TIME               STATUS  
 ─────────── ───────────── ────────────────── ────────── ──────── ──────────────── ───────────────────────────────────────────────────────── ─────────── ──────────────────────── ─────── 
 Unknown     91            07L3h00000AvxrhEAB SystemLog  6559     Mohan Chinnappan RegistrationHandlerUserUpdate                             Application 2023-04-04T10:44:35+0000 Success 


</code></pre>
<pre><code>sfdx force:apex:log:get -i 07L3h00000AvxrhEAB  -u mohan.chinnappan.n_ea2@gmail.com    | grep -i Debug
</code></pre>
<pre><code>03:44:35.5 (12059570)|USER_DEBUG|[25]|DEBUG|UserData:[attributeMap={email=mohan.chinnappan.n@gmail.com, email_verified=true, family_name=Chinnappan, given_name=Mohan, locale=en, name=Mohan Chinnappan, picture=https://lh3.googleusercontent.com/a/AGNmyxbp471dpjPtNSeeeejyyNbh1fFJqlknZUaDqrmb=s96-c, sub=102467670031694452102}, email=mohan.chinnappan.n@gmail.com, firstName=Mohan, fullName=Mohan Chinnappan, identifier=102467670031694452102, lastName=Chinnappan, link=null, locale=en, provider=Google, siteLoginUrl=null, username=null]

</code></pre>
<p><a name='ref'></a></p>
<h2 id="resources-5"><a class="header" href="#resources-5">Resources</a></h2>
<ul>
<li>
<p><a href="https://developer.salesforce.com/docs/atlas.en-us.apexcode.meta/apexcode/apex_auth_plugin.htm">RegistrationHandler Interface</a></p>
</li>
<li>
<p><a href="https://developer.salesforce.com/docs/atlas.en-us.apexref.meta/apexref/apex_auth_plugin.htm#apex_auth_plugin_part2">Auth.RegistrationHandler Example Implementation</a></p>
</li>
<li>
<p><a href="https://developer.salesforce.com/docs/atlas.en-us.mobile_sdk.meta/mobile_sdk/sso_provider_openid_connect.htm">Configure an OpenID Connect Authentication Provider</a></p>
</li>
<li>
<p><a href="https://developers.google.com/identity/openid-connect/openid-connect#sendauthrequest">Google OpenID Connect</a></p>
</li>
<li>
<p><a href="https://openid.net/connect/">OpenID Connect</a></p>
</li>
<li>
<p><a href="https://openid.net/specs/openid-connect-basic-1_0.html">Spec</a></p>
</li>
<li>
<p>Okta specific</p>
<ul>
<li><a href="https://developer.okta.com/docs/reference/api/oidc/">OpenID Connect &amp; OAuth 2.0 API - Endpoints </a></li>
<li><a href="https://auth0.com/docs/protocols/configure-okta-as-oauth2-identity-provider">Configure Okta for use as an OpenID Connect (OIDC) identity provide</a></li>
</ul>
</li>
<li>
<p>Videos</p>
<ul>
<li><a href="https://www.youtube.com/watch?v=996OiexHze0">OAuth 2.0 and OpenID Connect (in plain English)</a></li>
<li><a href="https://www.youtube.com/watch?v=0qNQ_YEIM8s">OpenId Connect in Salesforce | SSO Between Google and Salesforce</a></li>
</ul>
</li>
<li>
<p>Playgrounds</p>
<ul>
<li><a href="https://openidconnect.herokuapp.com/">Salesforce as OpenID Connect - Playground</a></li>
<li><a href="https://openidconnect.net/">Auth0 - OpenID Connect Playground</a></li>
<li><a href="https://developers.google.com/oauthplayground/">Google OAuth2 Playground</a></li>
</ul>
</li>
</ul>
<h2 id="about-openid-connect"><a class="header" href="#about-openid-connect">About OpenID connect</a></h2>
<ul>
<li>Simple Identity layer on top of the OAuth 2.0 protocol</li>
<li>Allows Clients (like service providers) to verify the identity of the End-User based on the authentication performed by an Authorization Server</li>
</ul>
<img src='https://github.com/mohan-chinnappan-n/cli-dx/raw/master/oid/img/oid-1.png' height='300'/>
<div style="break-before: page; page-break-before: always;"></div><h1 id="openid-connect-oidc-provider"><a class="header" href="#openid-connect-oidc-provider">OpenID Connect (OIDC) Provider</a></h1>
<h2 id="coding"><a class="header" href="#coding">Coding</a></h2>
<ul>
<li>Configure your provider 
<ul>
<li>You need to configure your provider :</li>
<li>specifying the issuer URL</li>
<li>the client ID and secret, </li>
<li>the scopes you want to use.</li>
</ul>
</li>
<li>Implement the <strong>authorization endpoint</strong> <code>/authorize</code>
<ul>
<li>This endpoint handles user authentication and authorization</li>
<li>When a user attempts to log in, they will be <strong>redirected to this endpoint</strong></li>
<li>You will need to prompt the user to log in and <strong>authorize</strong> the <strong>requested scopes</strong></li>
</ul>
</li>
</ul>
<h2 id="salesforce-configuration-1"><a class="header" href="#salesforce-configuration-1">Salesforce Configuration</a></h2>
<table><thead><tr><th>URL</th><th>Link</th></tr></thead><tbody>
<tr><td>Test-Only Initialization URL</td><td>https://mohansun-ea-02-dev-ed.my.salesforce.com/services/auth/test/Google</td></tr>
<tr><td>Single Sign-On Initialization URL</td><td>https://mohansun-ea-02-dev-ed.my.salesforce.com/services/auth/sso/Google</td></tr>
<tr><td>Existing User Linking URL</td><td>https://mohansun-ea-02-dev-ed.my.salesforce.com/services/auth/link/Google</td></tr>
<tr><td>OAuth-Only Initialization URL</td><td>https://mohansun-ea-02-dev-ed.my.salesforce.com/services/auth/oauth/Google</td></tr>
<tr><td>Callback URL</td><td>https://mohansun-ea-02-dev-ed.my.salesforce.com/services/authcallback/Google</td></tr>
<tr><td>Single Logout URL</td><td>https://mohansun-ea-02-dev-ed.my.salesforce.com/services/auth/rp/oidc/logout</td></tr>
</tbody></table>
<h2 id="google-oidc-provider-configuration-1"><a class="header" href="#google-oidc-provider-configuration-1">Google OIDC Provider Configuration</a></h2>
<table><thead><tr><th>URL</th><th>Link</th></tr></thead><tbody>
<tr><td>Authorize Endpoint URL</td><td>https://accounts.google.com/o/oauth2/auth</td></tr>
<tr><td>Token Endpoint URL</td><td>https://accounts.google.com/o/oauth2/token</td></tr>
<tr><td>User Info Endpoint URL</td><td>https://www.googleapis.com/oauth2/v3/userinfo</td></tr>
</tbody></table>
<h3 id="authorization-end-point"><a class="header" href="#authorization-end-point">AUthorization end point</a></h3>
<p><img src="https://github.com/mohan-chinnappan-n/cli-dx/raw/master/oid/img/auth-provide-google-1.png" alt="Sample client" /></p>
<h4 id="digging-deeper"><a class="header" href="#digging-deeper">Digging deeper...</a></h4>
<pre><code>curl 'https://accounts.google.com/o/oauth2/auth?response_type=code&amp;client_id=113225562349-fqktafcmesni74spapbj1ep0pvja4oor.apps.googleusercontent.com&amp;redirect_uri=https%3A%2F%2Fmohansun-ea-02-dev-ed.my.salesforce.com%2Fservices%2Fauthcallback%2FGoogle&amp;scope=email+openid++profile&amp;state=CAAAAYcyiOKSMDAwMDAwMDAwMDAwMDAwAAAA8muQ9vyTuOZ1uRL1-H30_n-abNbVuoLO32Tl1OlRdT-uaHJrpKY_02vYBvWlWtOxWsB0wODRqoyDZD6MyteiJcRmkeEQQFxjZXB-_lWFAjHW4brvhjPGWGoOCGyI1-NbUElsg_sbNRqfHBqKtmPCxR39uK8hAu88cAEKitoJUchOMhSa6TLbN1puVbOBQUQUY4gtawZ7wyNCfSQ5VDP0G6x7_EwYHpfCgbtv5zee_OGw0jSrRDGFh3hwN14bw6NJyw%3D%3D' \
  -H 'authority: accounts.google.com' \
  -H 'accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7' \
  -H 'accept-language: en-US,en;q=0.9' \
  -H 'cookie: SMSV=ADHTe-A4DYNhjtsQ9HsUTQtFvTNXHpLdZ04HxHbq7iwzxSqKK8K1AP3E3E1_jd0rItdNoqGd650_Sc-1cX0tvT8Cz7hqzClpq3a4YziVdbSO7lM61qvI4mI; LSOLH=_SVI_EPbFnLSe1PsCGA0iP01BRURIZl9xN1ZKemF1eGVDaHl1aGU2aVVZNk0zRVFESW1aSGpVWW1QVFNRVUV3dFVBVkwzWU5CNVh2NnBzQQ_:27829248:f334; ACCOUNT_CHOOSER=AFx_qI7V7VEYJej7Ykov04Vrzq5A4_lDKibmV59PmAF20VUie91gKs9wCHS1je3okc4e0Ash2J7IggG8rH_w9TIvFyLAmqCzLzReX9DHCyqfRWF9JW6Ay95sd9pW9Jj1chlVpYuldJuIsif1joMKWgghl4h5Y8PpLbmskYC_j4UcuLil6STA7rLWALpbBtClLyv8V4maNfl933_2cnloK8fgGF0OAXPHvPfOuX3i1eccntjfP2WnCVq1E5eO7PHG3WbS0ieW9HhAiBbAf7KPbQqVewLHt6S_o61MV-sfm1SxpYwXsd760WHCO-N2Wkt7od4dRoI_dM57nVf_LAJzp2Myl8WYTp27jU_c9rq4lVAkZO5EgxDo8xE; user_id=102467670031694452102; SID=Ugi1I85WSY9C5ab3s1crnWPFArrjJ9281xpuc75ZTh9aCJMbzZE_SzFdwcD9bTdPo9Bucw.; __Secure-1PSID=Ugi1I85WSY9C5ab3s1crnWPFArrjJ9281xpuc75ZTh9aCJMbIZaMWo88ze8emst2djLA6Q.; __Secure-3PSID=Ugi1I85WSY9C5ab3s1crnWPFArrjJ9281xpuc75ZTh9aCJMbfLml6pHozIpG1K4nIG1rFw.; LSID=o.calendar.google.com|o.chat.google.com|o.drive.google.com|o.groups.google.com|o.lens.google.com|o.mail.google.com|o.meet.google.com|o.play.google.com|o.store.google.com|s.blogger|s.youtube:Ugi1I8tfct6dQOO-qPyKgV4Ha29QOMbZr5ctdnf3Sf9HqxsPZd14eK8G30Swws7LSup9Ag.; __Host-1PLSID=o.calendar.google.com|o.chat.google.com|o.drive.google.com|o.groups.google.com|o.lens.google.com|o.mail.google.com|o.meet.google.com|o.play.google.com|o.store.google.com|s.blogger|s.youtube:Ugi1I8tfct6dQOO-qPyKgV4Ha29QOMbZr5ctdnf3Sf9HqxsPDhMdmIlVdR8c5dtYsdoWGg.; __Host-3PLSID=o.calendar.google.com|o.chat.google.com|o.drive.google.com|o.groups.google.com|o.lens.google.com|o.mail.google.com|o.meet.google.com|o.play.google.com|o.store.google.com|s.blogger|s.youtube:Ugi1I8tfct6dQOO-qPyKgV4Ha29QOMbZr5ctdnf3Sf9HqxsPOZdCNWhVBl79ZqQKnP6BAA.; HSID=AbpN7mtQ4ZrFiXUmT; SSID=A9My-LpWUK-E4r7AG; APISID=IbDmx8r0qLbrL-RR/AmOxvGGxLvSzxnsgI; SAPISID=eJ_nQyk1nKB5iKMM/AVN6ZTGMq7qWxaEVu; __Secure-1PAPISID=eJ_nQyk1nKB5iKMM/AVN6ZTGMq7qWxaEVu; __Secure-3PAPISID=eJ_nQyk1nKB5iKMM/AVN6ZTGMq7qWxaEVu; AEC=AUEFqZeU5ix63mgATKsT_B_8nJ5HMCvzMz865MhcSRFZkaImjtODFIogmw; NID=511=IjViYjqGfKANVt5V2z5b9pOeE6BacqtY7fuRlwNz-Oilmm3XhWFjSYUMG6YZJoRcIxPaQUilDoK8RDBz0LM0GkaCLVI8M1QffX4K-2N65AZ_gNUIfrwgP-KuRWGjoY-INvYwBfYjR7gESIj127KE9Ur6UkSVB3_qdfhdd37oHmQKbhmOckrzXwo8LiEtX08X-UA9yEbTHWjtQyRZUV3J2utDBl9omh1YFRteY4uss5AuL8J4NW5VUtUiVLZlcxuWJjjgarXg_EJz0OJ0F9q9jRPIyb2GHO9rnDpedHgun-z5MvuarhMgtdrk5jevwIRAN1WAh2HBpQoIYXMUpTaURroFSK7W1SuHG3Rk5FyoNpLFvJEdMNopCe3g4jLlIzMM; 1P_JAR=2023-03-30-12; __Host-GAPS=1:ZyvvyOwHAegzD3RyYvG5p98L6wA_zhvWdfbbqHx-lRSKP05LryST18rKEZfAxVCdMQTvucTa993UgRV_E9zZO1BTgKv4bw:IyvRFMgyJdq7vjgn; SIDCC=AFvIBn8xSu6nUAArPyQcTCvydpPlThjwVbbivL-8sNeWkRx5iHw_yvBJZH96HxHeyVDuwxY50F8R; __Secure-1PSIDCC=AFvIBn8H1BlHixXBGGbs5mqbhQjz3Tmc9KpJeZjEuyjEDbuTZd0dQm3OpMgTbNqAUz5QHbXWWs4; __Secure-3PSIDCC=AFvIBn_ZDNglnMEA17ZnzPuhdmQ8DwiVezhvI4B1iOTnRJMVfEYQjWwwHQbPRkk1OVu61guANIo' \
  -H 'referer: https://mohansun-ea-02-dev-ed.my.salesforce.com/' \
  -H 'sec-ch-ua: &quot;Google Chrome&quot;;v=&quot;111&quot;, &quot;Not(A:Brand&quot;;v=&quot;8&quot;, &quot;Chromium&quot;;v=&quot;111&quot;' \
  -H 'sec-ch-ua-arch: &quot;x86&quot;' \
  -H 'sec-ch-ua-bitness: &quot;64&quot;' \
  -H 'sec-ch-ua-full-version: &quot;111.0.5563.146&quot;' \
  -H 'sec-ch-ua-full-version-list: &quot;Google Chrome&quot;;v=&quot;111.0.5563.146&quot;, &quot;Not(A:Brand&quot;;v=&quot;8.0.0.0&quot;, &quot;Chromium&quot;;v=&quot;111.0.5563.146&quot;' \
  -H 'sec-ch-ua-mobile: ?0' \
  -H 'sec-ch-ua-model: &quot;&quot;' \
  -H 'sec-ch-ua-platform: &quot;macOS&quot;' \
  -H 'sec-ch-ua-platform-version: &quot;13.2.1&quot;' \
  -H 'sec-ch-ua-wow64: ?0' \
  -H 'sec-fetch-dest: document' \
  -H 'sec-fetch-mode: navigate' \
  -H 'sec-fetch-site: cross-site' \
  -H 'sec-fetch-user: ?1' \
  -H 'upgrade-insecure-requests: 1' \
  -H 'user-agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36' \
  -H 'x-chrome-id-consistency-request: version=1,client_id=77185425430.apps.googleusercontent.com,device_id=6774b99a-0361-4feb-8398-814743d0a935,signin_mode=all_accounts,signout_mode=show_confirmation' \
  --compressed
</code></pre>
<pre><code>url = 'https://accounts.google.com/o/oauth2/auth?response_type=code&amp;client_id=113225562349-fqktafcmesni74spapbj1ep0pvja4oor.apps.googleusercontent.com&amp;redirect_uri=https%3A%2F%2Fmohansun-ea-02-dev-ed.my.salesforce.com%2Fservices%2Fauthcallback%2FGoogle&amp;scope=email+openid++profile&amp;state=CAAAAYcycWR5MDAwMDAwMDAwMDAwMDAwAAAA8vlkOR0tObD2YFyIGcyW5uNODCoVk-UbAFB67fKsPwsXLPrGFjlfWXpi9CQQgfXdm06to3jqNofBSOe4DvcoyDzCBtvnUrkrCTL9to_CblC3Qj4L48_E1vvIvjXlmVzjnSGRBiWYyu2GX8mups7UUBk9u8z7K1r-6VlBx3e6bt7ovlSqMeSz1-DUYuDKBI3pcBGTpgqmTbuCZE_6wi2LC7QY8Bo29ETSb4aakGKRGJb2Vx78NSMUODioVO4ZmGr9CA%3D%3D'

const urlParsed = new URL(url);
urlParsed
URL {origin: 'https://accounts.google.com', protocol: 'https:', username: '', password: '', host: 'accounts.google.com', …}hash: &quot;&quot;host: &quot;accounts.google.com&quot;hostname: &quot;accounts.google.com&quot;href: &quot;https://accounts.google.com/o/oauth2/auth?response_type=code&amp;client_id=113225562349-fqktafcmesni74spapbj1ep0pvja4oor.apps.googleusercontent.com&amp;redirect_uri=https%3A%2F%2Fmohansun-ea-02-dev-ed.my.salesforce.com%2Fservices%2Fauthcallback%2FGoogle&amp;scope=email+openid++profile&amp;state=CAAAAYcycWR5MDAwMDAwMDAwMDAwMDAwAAAA8vlkOR0tObD2YFyIGcyW5uNODCoVk-UbAFB67fKsPwsXLPrGFjlfWXpi9CQQgfXdm06to3jqNofBSOe4DvcoyDzCBtvnUrkrCTL9to_CblC3Qj4L48_E1vvIvjXlmVzjnSGRBiWYyu2GX8mups7UUBk9u8z7K1r-6VlBx3e6bt7ovlSqMeSz1-DUYuDKBI3pcBGTpgqmTbuCZE_6wi2LC7QY8Bo29ETSb4aakGKRGJb2Vx78NSMUODioVO4ZmGr9CA%3D%3D&quot;origin: &quot;https://accounts.google.com&quot;password: &quot;&quot;pathname: &quot;/o/oauth2/auth&quot;port: &quot;&quot;protocol: &quot;https:&quot;search: &quot;?response_type=code&amp;client_id=113225562349-fqktafcmesni74spapbj1ep0pvja4oor.apps.googleusercontent.com&amp;redirect_uri=https%3A%2F%2Fmohansun-ea-02-dev-ed.my.salesforce.com%2Fservices%2Fauthcallback%2FGoogle&amp;scope=email+openid++profile&amp;state=CAAAAYcycWR5MDAwMDAwMDAwMDAwMDAwAAAA8vlkOR0tObD2YFyIGcyW5uNODCoVk-UbAFB67fKsPwsXLPrGFjlfWXpi9CQQgfXdm06to3jqNofBSOe4DvcoyDzCBtvnUrkrCTL9to_CblC3Qj4L48_E1vvIvjXlmVzjnSGRBiWYyu2GX8mups7UUBk9u8z7K1r-6VlBx3e6bt7ovlSqMeSz1-DUYuDKBI3pcBGTpgqmTbuCZE_6wi2LC7QY8Bo29ETSb4aakGKRGJb2Vx78NSMUODioVO4ZmGr9CA%3D%3D&quot;searchParams: URLSearchParams {}username: &quot;&quot;[[Prototype]]: URL

urlParsed.search
'?response_type=code&amp;client_id=113225562349-fqktafcmesni74spapbj1ep0pvja4oor.apps.googleusercontent.com&amp;redirect_uri=https%3A%2F%2Fmohansun-ea-02-dev-ed.my.salesforce.com%2Fservices%2Fauthcallback%2FGoogle&amp;scope=email+openid++profile&amp;state=CAAAAYcycWR5MDAwMDAwMDAwMDAwMDAwAAAA8vlkOR0tObD2YFyIGcyW5uNODCoVk-UbAFB67fKsPwsXLPrGFjlfWXpi9CQQgfXdm06to3jqNofBSOe4DvcoyDzCBtvnUrkrCTL9to_CblC3Qj4L48_E1vvIvjXlmVzjnSGRBiWYyu2GX8mups7UUBk9u8z7K1r-6VlBx3e6bt7ovlSqMeSz1-DUYuDKBI3pcBGTpgqmTbuCZE_6wi2LC7QY8Bo29ETSb4aakGKRGJb2Vx78NSMUODioVO4ZmGr9CA%3D%3D'

urlParsed.search.split('&amp;')
(5) ['?response_type=code', 'client_id=113225562349-fqktafcmesni74spapbj1ep0pvja4oor.apps.googleusercontent.com', 'redirect_uri=https%3A%2F%2Fmohansun-ea-02-dev-ed.m…salesforce.com%2Fservices%2Fauthcallback%2FGoogle', 'scope=email+openid++profile', 'state=CAAAAYcycWR5MDAwMDAwMDAwMDAwMDAwAAAA8vlkOR0t…Y8Bo29ETSb4aakGKRGJb2Vx78NSMUODioVO4ZmGr9CA%3D%3D']

Object.assign({}, urlParsed.search.split('&amp;') ); 
{
  0: '?response_type=code', 
  1: 'client_id=113225562349-fqktafcmesni74spapbj1ep0pvja4oor.apps.googleusercontent.com', 
  2: 'redirect_uri=https%3A%2F%2Fmohansun-ea-02-dev-ed.m…salesforce.com%2Fservices%2Fauthcallback%2FGoogle', 
  3: 'scope=email+openid++profile', 
  4: 'state=CAAAAYcycWR5MDAwMDAwMDAwMDAwMDAwAAAA8vlkOR0t…Y8Bo29ETSb4aakGKRGJb2Vx78NSMUODioVO4ZmGr9CA%3D%3D'
}

</code></pre>
<pre><code>response_type: code
client_id: 113225562349-fqktafcmesni74spapbj1ep0pvja4oor.apps.googleusercontent.com
redirect_uri: https://mohansun-ea-02-dev-ed.my.salesforce.com/services/authcallback/Google
scope: email openid  profile
state: CAAAAYcycWR5MDAwMDAwMDAwMDAwMDAwAAAA8vlkOR0tObD2YFyIGcyW5uNODCoVk-UbAFB67fKsPwsXLPrGFjlfWXpi9CQQgfXdm06to3jqNofBSOe4DvcoyDzCBtvnUrkrCTL9to_CblC3Qj4L48_E1vvIvjXlmVzjnSGRBiWYyu2GX8mups7UUBk9u8z7K1r-6VlBx3e6bt7ovlSqMeSz1-DUYuDKBI3pcBGTpgqmTbuCZE_6wi2LC7QY8Bo29ETSb4aakGKRGJb2Vx78NSMUODioVO4ZmGr9CA==

</code></pre>
<ul>
<li>Consent </li>
</ul>
<pre><code>
https://accounts.google.com/signin/oauth/consent?authuser=0&amp;part=AJi8hAPPKVJYXZWoTwsAvFBuRYB7qFqGMagu55E253ysGRFqZgWZMdOjqEMP5YqvtEdf0B566yMiguqZSSZ4lbgsLdyErCN7Zmibhm9pjMTeJsy4kIibA-O8lK314NlUmbAVPEyLNZ8AbCQkVbBb_9qAdHxdEK7rkD0KJbOhKcFL0BO_SNbUbwQLmABvm3r7uorry7AuxtvDw1w1ok8CI6u08IDtVKXx5LnDSjFvn1U93GRtxT4DfklSsDbHjcPTB-a7Qj_98dbo0L9FojzSq1l8IltdnWL6YvT0GkXO_WVHb5Mh5Iu8vpDaBD1vaYCIlG5A


authuser: 0
part: AJi8hAPPKVJYXZWoTwsAvFBuRYB7qFqGMagu55E253ysGRFqZgWZMdOjqEMP5YqvtEdf0B566yMiguqZSSZ4lbgsLdyErCN7Zmibhm9pjMTeJsy4kIibA-O8lK314NlUmbAVPEyLNZ8AbCQkVbBb_9qAdHxdEK7rkD0KJbOhKcFL0BO_SNbUbwQLmABvm3r7uorry7AuxtvDw1w1ok8CI6u08IDtVKXx5LnDSjFvn1U93GRtxT4DfklSsDbHjcPTB-a7Qj_98dbo0L9FojzSq1l8IltdnWL6YvT0GkXO_WVHb5Mh5Iu8vpDaBD1vaYCIlG5AuPU6JRCQY1a5SGdDLribsqCPzuE9z9wrqbmU_iFHpcl8vhdGBnqLoEjkNgzmb3V6TlxWAkWEuti6r8y8dkWuduYd0rGcRersJ_pD3f8rtHT00IVTu0mB7tGgN6UEWb8rey9D4v6jxgK_el8fXIFiAByfO1ni_1pZj1DWvRvp4IDRYzowLa4oxU0GSPZNTmRdT9r-qCMC
as: S-1290867910:1680177605126845
client_id: 113225562349-fqktafcmesni74spapbj1ep0pvja4oor.apps.googleusercontent.com
pli: 1
rapt: AEjHL4PiKkA1sGph8xQqIaNrSv-lknPQyYaBt15Hc4GkzOB7AwQX-wQTo3W-dsAfETT82g0Ybf3TmqLglD1kasQo5QkGWw5mPA

</code></pre>
<pre><code>https://mohansun-ea-02-dev-ed.my.salesforce.com/services/authcallback/Google?state=CAAAAYcycWR5MDAwMDAwMDAwMDAwMDAwAAAA8vlkOR0tObD2YFyIGcyW5uNODCoVk-UbAFB67fKsPwsXLPrGFjlfWXpi9CQQgfXdm06to3jqNofBSOe4DvcoyDzCBtvnUrkrCTL9to_CblC3Qj4L48_E1vvIvjXlmVzjnSGRBiWYyu2GX8mups7UUBk9u8z7K1r-6VlBx3e6bt7ovlSqMeSz1-DUYuDKBI3pcBGTpgqmTbuCZE_6wi2LC7QY8Bo29ETSb4aakGKRGJb2Vx78NSMUODioVO4ZmGr9CA==&amp;code=4/0AVHEtk7MijYSTwo9rTHxlZksTZHx7ua6suRe3d9ISEVIPGhQNazKbJqPabgNko1gukZumw&amp;scope=email+profile+https://www.googleapis.com/auth/userinfo.email+https://www.googleapis.com/auth/userinfo.profile+openid&amp;authuser=0&amp;prompt=none

</code></pre>
<pre><code>state: CAAAAYcycWR5MDAwMDAwMDAwMDAwMDAwAAAA8vlkOR0tObD2YFyIGcyW5uNODCoVk-UbAFB67fKsPwsXLPrGFjlfWXpi9CQQgfXdm06to3jqNofBSOe4DvcoyDzCBtvnUrkrCTL9to_CblC3Qj4L48_E1vvIvjXlmVzjnSGRBiWYyu2GX8mups7UUBk9u8z7K1r-6VlBx3e6bt7ovlSqMeSz1-DUYuDKBI3pcBGTpgqmTbuCZE_6wi2LC7QY8Bo29ETSb4aakGKRGJb2Vx78NSMUODioVO4ZmGr9CA==
code: 4/0AVHEtk7MijYSTwo9rTHxlZksTZHx7ua6suRe3d9ISEVIPGhQNazKbJqPabgNko1gukZumw
scope: email profile https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/userinfo.profile openid
authuser: 0
prompt: none

</code></pre>
<pre><code>curl 'https://mohansun-ea-02-dev-ed.file.force.com/secur/contentDoor?startURL=https%3A%2F%2Fmohansun-ea-02-dev-ed.my.salesforce.com%2Fsetup%2FforcecomHomepage.apexp%3Fsetupid%3DForceCom&amp;sid=00D3h000007R1Lu%21AR0AQMK0XqIiTcFHijiGI.5J303.dtTTgZqyYbnK6iu6_mBrIxFkmFzqShvE6c8FY4ELjJ1Z5cl5_NDV27FylouPaLDmbWKl&amp;skipRedirect=1&amp;lm=eyJlbmMiOiJBMjU2R0NNIiwiYXVkIjoiMDBEM2gwMDAwMDdSMUx1Iiwia2lkIjoie1widFwiOlwiMDBEM2gwMDAwMDdSMUx1XCIsXCJ2XCI6XCIwMkczaDAwMDAwMFFGWE9cIixcImFcIjpcImNvbnRlbnRkb29ydXNlcnRyYW5zaWVudGtleWVuY3J5cHRcIixcInVcIjpcIjAwNTNoMDAwMDAyeFE1c1wifSIsImNyaXQiOlsiaWF0Il0sImlhdCI6MTY4MDE3OTE3NjQ2NiwiZXhwIjowfQ%3D%3D..BEIS8BDm_kfKDL9I.IC5eP6YZO2nhu-WSWP56HA%3D%3D.cadev8_F5qhzIdAzzcv-vQ%3D%3D' \
  -H 'authority: mohansun-ea-02-dev-ed.file.force.com' \
  -H 'accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7' \
  -H 'accept-language: en-US,en;q=0.9' \
  -H $'cookie: _ce.s=v~521a935acbeb20c80c9fcd40ee0d1e47ceeb29fb~vpv~0; _ga_1HBYZJY0L5=GS1.1.1650657815.1.0.1650657821.0; _ga=GA1.2.731290433.1606657544; sid_Client=h000002xQ5sh000007R1Lu; clientSrc=24.188.37.149; BrowserId_sec=Ga1_6sSXEe26w5WqP0vh9g; CookieConsentPolicy=0:1; LSKey-c$CookieConsentPolicy=0:1; BrowserId=Pi75EcoLEe2nss1S-y4GIg; sid=00D3h000007R1Lu\u0021AR0AQPQxwTIi4..zhspyWG5FXJJqqH9TMtpFr2ZkqpQH5WaBlHkivD7aJpjJlD884mCseXoShUalu3IdLjOr7GBNOSxY5I2p; inst=APP_3h' \
  -H 'referer: https://mohansun-ea-02-dev-ed.my.salesforce.com/' \
  -H 'sec-ch-ua: &quot;Google Chrome&quot;;v=&quot;111&quot;, &quot;Not(A:Brand&quot;;v=&quot;8&quot;, &quot;Chromium&quot;;v=&quot;111&quot;' \
  -H 'sec-ch-ua-mobile: ?0' \
  -H 'sec-ch-ua-platform: &quot;macOS&quot;' \
  -H 'sec-fetch-dest: document' \
  -H 'sec-fetch-mode: navigate' \
  -H 'sec-fetch-site: cross-site' \
  -H 'upgrade-insecure-requests: 1' \
  -H 'user-agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36' \
  --compressed
</code></pre>
<pre><code>oid: 00D3h000007R1Lu
retURL: https://mohansun-ea-02-dev-ed.file.force.com/secur/contentDoor?startURL=https%3A%2F%2Fmohansun-ea-02-dev-ed.my.salesforce.com%2Fsetup%2FforcecomHomepage.apexp%3Fsetupid%3DForceCom&amp;sid=00D3h000007R1Lu%21AR0AQIXvv71zFeZY_eRCCFTHPs2.xrl69eBVSmaBJX.wDdf7_Q5gCtWf70K4Ao9VKDmd0k616oMgBIyR2_ISlLBGl1eim57i&amp;skipRedirect=1&amp;lm=eyJlbmMiOiJBMjU2R0NNIiwiYXVkIjoiMDBEM2gwMDAwMDdSMUx1Iiwia2lkIjoie1widFwiOlwiMDBEM2gwMDAwMDdSMUx1XCIsXCJ2XCI6XCIwMkczaDAwMDAwMFFGWE9cIixcImFcIjpcImNvbnRlbnRkb29ydXNlcnRyYW5zaWVudGtleWVuY3J5cHRcIixcInVcIjpcIjAwNTNoMDAwMDAyeFE1c1wifSIsImNyaXQiOlsiaWF0Il0sImlhdCI6MTY4MDE3ODQ4MjAyMywiZXhwIjowfQ%3D%3D..sxLY9IUn87nIGIuv.DylJd7gqisXaz0tZZn66uw%3D%3D.g8WTiSfkUkPNnp7NjManyA%3D%3D
</code></pre>
<pre><code>startURL: https://mohansun-ea-02-dev-ed.my.salesforce.com/setup/forcecomHomepage.apexp?setupid=ForceCom
sid: 00D3h000007R1Lu!AR0AQMK0XqIiTcFHijiGI.5J303.dtTTgZqyYbnK6iu6_mBrIxFkmFzqShvE6c8FY4ELjJ1Z5cl5_NDV27FylouPaLDmbWKl
skipRedirect: 1
lm: eyJlbmMiOiJBMjU2R0NNIiwiYXVkIjoiMDBEM2gwMDAwMDdSMUx1Iiwia2lkIjoie1widFwiOlwiMDBEM2gwMDAwMDdSMUx1XCIsXCJ2XCI6XCIwMkczaDAwMDAwMFFGWE9cIixcImFcIjpcImNvbnRlbnRkb29ydXNlcnRyYW5zaWVudGtleWVuY3J5cHRcIixcInVcIjpcIjAwNTNoMDAwMDAyeFE1c1wifSIsImNyaXQiOlsiaWF0Il0sImlhdCI6MTY4MDE3OTE3NjQ2NiwiZXhwIjowfQ==..BEIS8BDm_kfKDL9I.IC5eP6YZO2nhu-WSWP56HA==.cadev8_F5qhzIdAzzcv-vQ==

</code></pre>
<pre><code>jwt:
eyJlbmMiOiJBMjU2R0NNIiwiYXVkIjoiMDBEM2gwMDAwMDdSMUx1Iiwia2lkIjoie1widFwiOlwiMDBEM2gwMDAwMDdSMUx1XCIsXCJ2XCI6XCIwMkczaDAwMDAwMFFGWE9cIixcImFcIjpcImNvbnRlbnRkb29ydXNlcnRyYW5zaWVudGtleWVuY3J5cHRcIixcInVcIjpcIjAwNTNoMDAwMDAyeFE1c1wifSIsImNyaXQiOlsiaWF0Il0sImlhdCI6MTY4MDE3OTE3NjQ2NiwiZXhwIjowfQ==..BEIS8BDm_kfKDL9I.IC5eP6YZO2nhu-WSWP56HA==.cadev8_F5qhzIdAzzcv-vQ==
</code></pre>
<ul>
<li>header</li>
</ul>
<pre><code class="language-json">{
  &quot;enc&quot;: &quot;A256GCM&quot;,
  &quot;aud&quot;: &quot;00D3h000007R1Lu&quot;,
  &quot;kid&quot;: &quot;{\&quot;t\&quot;:\&quot;00D3h000007R1Lu\&quot;,\&quot;v\&quot;:\&quot;02G3h000000QFXO\&quot;,\&quot;a\&quot;:\&quot;contentdoorusertransientkeyencrypt\&quot;,\&quot;u\&quot;:\&quot;0053h000002xQ5s\&quot;}&quot;,
  &quot;crit&quot;: [
    &quot;iat&quot;
  ],
  &quot;iat&quot;: 1680179176466,
  &quot;exp&quot;: 0
}

</code></pre>
<table><thead><tr><th>Name</th><th>Requirement</th><th>Description</th></tr></thead><tbody>
<tr><td>response_type</td><td>REQUIRED</td><td><code>code</code> for Authorization Code Grant and <code>token</code> for Implicit Grant.</td></tr>
<tr><td>client_id</td><td>REQUIRED</td><td>The client ID of the client application making the authorization request. A client ID is an opaque number or string issued by a service.</td></tr>
<tr><td>redirect_uri</td><td>OPTIONAL</td><td>The URL to which the client application requests the result of the authorization request to be reported. If the client application has registered multiple redirect URIs or has not registered any redirect URI (this is allowed when the client type of the client application is “confidential”), this request parameter is REQUIRED.</td></tr>
<tr><td>scope</td><td>OPTIONAL</td><td>A space-delimited list of scopes (permissions) that the client application requires. The service defines a set of valid scope values. Some implementations of OAuth 2.0 (e.g. Facebook) do not correctly implement the specification, requiring a comma-delimited list.</td></tr>
<tr><td>state</td><td>RECOMMENDED</td><td>An opaque value that the client application may use. If this request parameter is contained in the authorization request, it is returned to the redirect URI as a query parameter.</td></tr>
</tbody></table>
<pre><code class="language-py"># Implement your authorization endpoint here
# https://www.authlete.com/developers/definitive_guide/authorization_endpoint_spec/
@app.route('/authorize')
def authorize():
    #...
</code></pre>
<ul>
<li>Implement the token endpoint <code>/token</code>
<ul>
<li>This endpoint handles the <strong>exchange of an authorization code</strong> for an <strong>access token and ID token</strong></li>
</ul>
</li>
</ul>
<pre><code class="language-py"># Implement your token endpoint here
@app.route('/token', methods=['POST'])
def token():
    # ...
</code></pre>
<ul>
<li>Implement the <strong>userinfo</strong> endpoint <code>/userinfo</code>
<ul>
<li>This endpoint returns <strong>information about the authenticated user</strong></li>
</ul>
</li>
</ul>
<pre><code class="language-py"># Implement your userinfo endpoint here
@app.route('/userinfo')
def userinfo():
    # ...
</code></pre>
<ul>
<li>Implement the logout endpoint 
<ul>
<li>This endpoint handles the <strong>user logout</strong> process</li>
</ul>
</li>
</ul>
<pre><code class="language-py"># Implement your logout endpoint here
@app.route('/logout')
def logout():
    # ...
</code></pre>
<h2 id="code-outline"><a class="header" href="#code-outline">Code outline</a></h2>
<pre><code class="language-py">
from flask import Flask, redirect, url_for
from flask_oidc import OpenIDConnect

app = Flask(__name__)
app.config.update({
    'SECRET_KEY': 'secret',
    'OIDC_CLIENT_SECRETS': 'client_secrets.json',
    'OIDC_ID_TOKEN_COOKIE_SECURE': False,
    'OIDC_REQUIRE_VERIFIED_EMAIL': False,
    'OIDC_VALID_ISSUERS': 'https://accounts.example.com',
    'OIDC_SCOPES': ['openid', 'email', 'profile'],
})

oidc = OpenIDConnect(app)

@app.route('/')
@oidc.require_login
def index():
    user_info = oidc.user_getinfo(['sub', 'email', 'preferred_username'])
    return 'Hello, {} ({})'.format(user_info['preferred_username'], user_info['email'])

# Implement your authorization endpoint here
@app.route('/authorize')
def authorize():
    # ...

# Implement your token endpoint here
@app.route('/token', methods=['POST'])
def token():
    # ...

# Implement your userinfo endpoint here
@app.route('/userinfo')
def userinfo():
    # ...

# Implement your logout endpoint here
@app.route('/logout')
def logout():
    # ...

if __name__ == '__main__':
    app.run()

</code></pre>
<pre><code>SECRET_KEY: A secret key for Flask to use for its session management.
OIDC_CLIENT_SECRETS: A path to a JSON file containing client secrets for your OIDC provider.
OIDC_ID_TOKEN_COOKIE_SECURE: Whether or not the ID token cookie should be marked as secure.
OIDC_REQUIRE_VERIFIED_EMAIL: Whether or not email verification should be required for OIDC logins.
OIDC_VALID_ISSUERS: A string or list of valid issuer URLs for OIDC logins.
OIDC_SCOPES: A list of scopes to request from the OIDC provider.

</code></pre>
<pre><code class="language-js">const { Issuer, Strategy } = require('openid-client');

Issuer.discover('https://accounts.example.com')
  .then((issuer) =&gt; {
    const client = new issuer.Client({
      client_id: 'client_id',
      client_secret: 'client_secret',
    });

    const params = {
      redirect_uri: 'https://example.com/callback',
      scope: 'openid email profile',
    };

    const strategy = new Strategy(
      {
        client,
        params,
        passReqToCallback: false,
        usePKCE: 'S256',
      },
      (tokenset, userinfo, done) =&gt; {
        // Handle successful authentication here
      }
    );

    // Implement your authorization endpoint here
    app.get('/authorize', (req, res) =&gt; {
      // ...
    });

    // Implement your token endpoint here
    app.post('/token', (req, res) =&gt; {
      // ...
    });

    // Implement your userinfo endpoint here
    app.get('/userinfo', (req, res) =&gt; {
      // ...
    });

    // Implement your logout endpoint here
    app.post('/logout', (req, res) =&gt; {
      // ...
    });
  })
  .catch((err) =&gt; {
    console.error(err);
  });

</code></pre>
<h2 id="references-26"><a class="header" href="#references-26">References</a></h2>
<ul>
<li><a href="https://deno.land/x/authlete_deno_fen_oauth_server@v1.0.0">Authorization Server Implementation for Deno</a></li>
<li><a href="https://developer.okta.com/blog/2019/10/21/illustrated-guide-to-oauth-and-oidc">An Illustrated Guide to OAuth and OpenID Connect</a></li>
<li><a href="https://help.salesforce.com/s/articleView?id=sf.sso_provider_openid_connect.htm&amp;type=5">Configure an Authentication Provider Using OpenID Connect</a></li>
<li><a href="https://developer.salesforce.com/docs/atlas.en-us.apexref.meta/apexref/apex_auth_plugin.htm">RegistrationHandler Interface</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="jwt-json-web-tokens"><a class="header" href="#jwt-json-web-tokens">JWT (JSON Web Tokens)</a></h1>
<pre class="mermaid">sequenceDiagram
title: JWT - JSON Web Token - GoogleOIDC

    User-&gt;&gt;SFDC: I need to login into the Org 
    SFDC-&gt;&gt;User: OK, can you prove your identity, I will send you to Google OIDC,&lt;br/&gt; Since that is configured as your authProvider
    User-&gt;&gt;GoogleOIDC:  Login
    GoogleOIDC-&gt;&gt;SFDC: Here is the ID proof of the User, JWT    
    SFDC-&gt;&gt;User: You are logged-in, go ahead and use the Org 
    User-&gt;&gt;SFDC: Performs work in the Org: Authorization: Bearer JWT

</pre>
<h2 id="parts-of-jwt"><a class="header" href="#parts-of-jwt">Parts of JWT</a></h2>
<p><strong>Header.Payload.Signature</strong></p>
<table><thead><tr><th>Part</th><th>Description</th></tr></thead><tbody>
<tr><td><strong>Header</strong></td><td><code>{typ: &quot;JWT&quot;, alg: &quot;HS256&quot;}</code></td></tr>
<tr><td><strong>Payload</strong></td><td></td></tr>
<tr><td>&gt; Registered Claims</td><td><code>{exp: 1679913812248, sub: &quot;Subject here&quot;}</code></td></tr>
<tr><td>&gt; Public Claims</td><td><code>{name: &quot;Ken Thompson&quot;}</code></td></tr>
<tr><td>&gt; Private Claim</td><td><code>{admin: true}</code></td></tr>
<tr><td><strong>Signature</strong></td><td><code> HMACSHA256( base64URLencode( Header+Payload, secret )</code></td></tr>
</tbody></table>
<h3 id="signature"><a class="header" href="#signature">Signature</a></h3>
<pre><code class="language-js">  const signature =  HMACSHA256( base64URLencode( Header+Payload, secret );
  
</code></pre>
<ul>
<li><strong>Verification</strong>:
Server calculates the signature based on the data present in the token (JWT) and compares with the signature that came in the token. If a malicious user tampers anything in the header or payload, the server’s calculated signature won’t match the received signature.</li>
</ul>
<h3 id="code"><a class="header" href="#code">Code</a></h3>
<ul>
<li>jwt util module (jwt.ts)</li>
</ul>
<pre><code class="language-ts">// jwt.ts

// Exports:
//  createJWT 
//  verifyJWT

import { encode, decode } from &quot;https://deno.land/std/encoding/base64url.ts&quot;;
import { Sha256 } from &quot;https://deno.land/std@0.90.0/hash/sha256.ts&quot;;

// create JWT
export function createJWT(header: any, payload: any, secret: string): string {
  const eHeader = encode(new TextEncoder().encode(JSON.stringify(header)));
  const ePayload = encode(new TextEncoder().encode(JSON.stringify(payload)));
  const token = `${eHeader}.${ePayload}`;
  // hash functions process input of any length and produces a fixed-size hash.
  return token + &quot;.&quot; + new Sha256(secret).update(token).toString();
}



// verification
export function verifyJWT(token: string, secret: string): any {
  // get the parts
  const parts = token.split(&quot;.&quot;);
  if (parts.length !== 3) return &quot;not enought items&quot;; // not enough items
  const [header, payload, signature] = parts;

  const calcSign = new Sha256(secret).update(`${header}.${payload}`).toString();
  if (calcSign !== signature) return &quot;invalid signature&quot;; // invalid signature

  const payloadOut = JSON.parse(new TextDecoder().decode(decode(payload)));
  if (payloadOut.exp &amp;&amp; Date.now() &gt; payloadOut.exp) return `EXPIRED:${JSON.stringify(payloadOut)}`; // expired

  return payloadOut;
}


</code></pre>
<ul>
<li>using jwt.ts</li>
</ul>
<pre><code class="language-js">

// jwtApp.ts

// uses jwt.ts in the local
// run:
// . deno run jwtApp.ts

import {createJWT, verifyJWT} from './jwt.ts';


const secret = &quot;mySecret&quot;;
const jwt1 = createJWT(
  { typ: &quot;JWT&quot;, alg: &quot;HS256&quot; },
  { exp: 1679913812248, sub: &quot;SUB1&quot;, name: &quot;Ken Thompson&quot;, admin: true },
  secret
);
console.log('JWT:', jwt1);

console.log('Verification:', verifyJWT(jwt1, secret));




</code></pre>
<ul>
<li>Testing</li>
</ul>
<pre><code class="language-bash">
deno run jwtApp.ts

JWT: eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE2Nzk5MTM4MTIyNDgsInN1YiI6IlNVQjEiLCJuYW1lIjoiS2VuIFRob21wc29uIiwiYWRtaW4iOnRydWV9.5eaeb498ad001a7a17ce1816d5dea56a6fa6c11438ce4aa93361224f
Verification: EXPIRED:{&quot;exp&quot;:1679913812248,&quot;sub&quot;:&quot;SUB1&quot;,&quot;name&quot;:&quot;Ken Thompson&quot;,&quot;admin&quot;:true}


</code></pre>
<ul>
<li>Testing at <a href="https://jwt.io/">jwt.io</a></li>
</ul>
<p><img src="security/img/jwt-check-1.png" alt="jwt checking" /></p>
<h3 id="using-cli-2"><a class="header" href="#using-cli-2">Using CLI</a></h3>
<ul>
<li>Create</li>
</ul>
<pre><code>cat payload.json 
</code></pre>
<pre><code class="language-json"> { &quot;exp&quot;: 1679913812248, &quot;sub&quot;: &quot;SUB1&quot;, &quot;name&quot;: &quot;Ken Thompson&quot;, &quot;admin&quot;: true }
</code></pre>
<pre><code>
sfdx mohanc:security:jwt:create -i payload.json -s &quot;mySecret&quot;


</code></pre>
<pre><code>
eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE2Nzk5MTM4MTIyNDgsInN1YiI6IlNVQjEiLCJuYW1lIjoiS2VuIFRob21wc29uIiwiYWRtaW4iOnRydWUsImlhdCI6MTY3OTkxNzc0OX0.B0KltHsNOUBlPjA8YEdpXKY24ZsGpJI67GBzOW-jMr8

</code></pre>
<hr />
<ul>
<li>Verify</li>
</ul>
<pre><code>
sfdx mohanc:security:jwt:verify -s &quot;mySecret&quot; -j &quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE2Nzk5MTM4MTIyNDgsInN1YiI6IlNVQjEiLCJuYW1lIjoiS2VuIFRob21wc29uIiwiYWRtaW4iOnRydWUsImlhdCI6MTY3OTkxODQ3NX0.KvYu4MvjmTsX3gfEow7eAHY7PspDV465RCb4tkIme2Y&quot;

</code></pre>
<pre><code class="language-json">{
  exp: 1679913812248,
  sub: 'SUB1',
  name: 'Ken Thompson',
  admin: true,
  iat: 1679918475
}

</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="openssl"><a class="header" href="#openssl">OpenSSL</a></h1>
<ul>
<li>Secret Generation using OpenSSL</li>
</ul>
<pre><code>openssl rand -hex 32
</code></pre>
<pre><code>bb5e5ae325f4cfb8a9215602ef3964efc79848232d7c8715e621923692a27669
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="penetration-pen-testing"><a class="header" href="#penetration-pen-testing">Penetration (pen) Testing</a></h1>
<p>Penetration testing, or <strong>pen testing</strong> for short, is the process of testing a website or other digital system for vulnerabilities that could be exploited by attackers. Penetration testing typically involves <strong>simulating</strong> various types of <strong>attacks</strong> to see how the system responds and to identify potential weaknesses that could be exploited by attackers.</p>
<h2 id="steps-6"><a class="header" href="#steps-6">Steps</a></h2>
<ul>
<li>Note:  Unauthorized pen testing is illegal and could result in criminal charges.Take appropriate precautions to avoid causing any harm or disruption to the website or its users during the testing process</li>
</ul>
<table><thead><tr><th>Step</th><th>Description</th></tr></thead><tbody>
<tr><td>1. Define the scope of the test</td><td>Determine what <strong>parts</strong> of the website will be tested, what types of attacks will be simulated, and any limitations or constraints that need to be taken into consideration.</td></tr>
<tr><td>2. Reconnaissance/Scouting</td><td>Conduct a thorough reconnaissance of the website and any associated systems to identify potential vulnerabilities or weaknesses.Ping probes, port scanning, or <code>traceroute</code> or finger-printing are practical examples of active reconnaissance.</td></tr>
<tr><td>3. Vulnerability scanning</td><td>Use automated tools to scan the website and associated systems for known vulnerabilities. Example: QL injection or cross-site scripting (XSS) vulnerabilities.</td></tr>
<tr><td>4. Manual testing</td><td>Perform manual testing to identify any additional vulnerabilities or weaknesses that may <strong>not have been identified by automated tools</strong>.</td></tr>
<tr><td>5. Exploitation</td><td>Attempt to exploit any vulnerabilities that have been identified to see if they can be used to <strong>gain unauthorized access</strong> or perform other malicious activities.</td></tr>
<tr><td>6. Reporting</td><td>Document all findings and provide recommendations for remediation</td></tr>
</tbody></table>
<h2 id="reconnaissancescouting"><a class="header" href="#reconnaissancescouting">Reconnaissance/Scouting</a></h2>
<p>The process of gathering information about a target system or network before attempting to launch a pen testing. It is an important step since it helps the tester to identify potential vulnerabilities and weaknesses in the target system, network or application.</p>
<table><thead><tr><th>Step</th><th>Description</th></tr></thead><tbody>
<tr><td>Passive reconnaissance</td><td>This involves gathering information about the target system, network or application without actively engaging with it. This includes searching for information on search engines, social media, and other publicly available sources.</td></tr>
<tr><td>Active reconnaissance</td><td>This involves actively engaging with the target system, network or application to gather information. This includes techniques such as port scanning, network mapping, and fingerprinting.</td></tr>
<tr><td>Social engineering</td><td>This involves using psychological manipulation to gather information from people associated with the target system, network or application. This includes techniques such as phishing, pre-texting, and baiting.</td></tr>
<tr><td>Open-source intelligence (OSINT)</td><td>This involves gathering information from publicly available sources such as company websites, job postings, and news articles.</td></tr>
</tbody></table>
<h2 id="vulnerability-scanning"><a class="header" href="#vulnerability-scanning">Vulnerability scanning</a></h2>
<table><thead><tr><th>Step</th><th>Description</th></tr></thead><tbody>
<tr><td>1. Planning</td><td>Identify the scope of the scan, including the systems, networks, or applications to be scanned, and the types of vulnerabilities to be checked.</td></tr>
<tr><td>2. Scanning</td><td>Use a vulnerability scanning tool to scan the target systems, networks, or applications to identify vulnerabilities, misconfigurations, or weak points that could be exploited.</td></tr>
<tr><td>3. Analysis</td><td>Review the scan results to prioritize the vulnerabilities based on their severity, potential impact, and exploitability.</td></tr>
<tr><td>4. Reporting</td><td>Generate a report that summarizes the vulnerabilities found, their severity, and recommendations for remediation</td></tr>
<tr><td>5. Remediation</td><td>Address the vulnerabilities by applying patches, updating configurations, or implementing other measures to mitigate the identified risks</td></tr>
</tbody></table>
<h3 id="vulnerability-scanning-tools-for-linux"><a class="header" href="#vulnerability-scanning-tools-for-linux">Vulnerability scanning Tools for Linux</a></h3>
<table><thead><tr><th>Tool</th><th>Description</th></tr></thead><tbody>
<tr><td><a href="https://en.wikipedia.org/wiki/OpenVAS">OpenVAS</a></td><td>Can detect thousands of known vulnerabilities in Linux systems. It includes a web-based user interface and can be configured to run scheduled scans.</td></tr>
<tr><td><a href="https://en.wikipedia.org/wiki/Nikto_(vulnerability_scanner)">Nikto</a></td><td>Can identify vulnerabilities in web servers and web applications running on Linux systems. It includes over 6,700 checks for potential vulnerabilities and misconfigurations.</td></tr>
<tr><td>Nmap - <a href="https://en.wikipedia.org/wiki/Nmap">Network Mapper</a></td><td>Network scanner that can identify open ports, running services, and potential vulnerabilities in Linux systems. It includes a wide range of features, including version detection and OS fingerprinting.</td></tr>
<tr><td><a href="https://en.wikipedia.org/wiki/Lynis">Lynis</a></td><td>Security auditing tool that can identify vulnerabilities in Linux systems. It includes over 200 tests for security and compliance</td></tr>
</tbody></table>
<h2 id="sample-pen-test-report"><a class="header" href="#sample-pen-test-report">Sample Pen Test Report</a></h2>
<table><thead><tr><th>Section</th><th>Description</th></tr></thead><tbody>
<tr><td>Executive Summary</td><td>Provides a high-level overview of the penetration test results, including the scope, objectives, key findings, and recommendations for remediation.</td></tr>
<tr><td>Scope and Methodology</td><td>Outlines the scope of the penetration test, including the systems, networks, or applications tested, and the methodology used to conduct the test.</td></tr>
<tr><td>Vulnerabilities</td><td>Provides a detailed description of the vulnerabilities found during the test, including their severity, potential impact, and recommendations for remediation.</td></tr>
<tr><td>Exploitation</td><td>Provides details on how the vulnerabilities were exploited during the test, including the tools and techniques used.</td></tr>
<tr><td>Recommendations</td><td>Provides recommendations for remediation, including prioritization of vulnerabilities and specific steps to be taken to address the identified risks.</td></tr>
<tr><td>Conclusion</td><td>Summarizes the key findings and recommendations of the penetration test, and emphasizes the importance of addressing the identified vulnerabilities to improve the overall security of the organization</td></tr>
<tr><td>Appendices</td><td>Includes additional information such as network diagrams, screenshots, and raw data from the penetration test.</td></tr>
</tbody></table>
<div style="break-before: page; page-break-before: always;"></div><h1 id="mobile"><a class="header" href="#mobile">Mobile</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="simulator"><a class="header" href="#simulator">Simulator</a></h1>
<h2 id="ios-simulator"><a class="header" href="#ios-simulator">iOS simulator</a></h2>
<ul>
<li>Follow the instructions outlined here to download and setup your iOS Mobile Simulator 
<ul>
<li><a href="https://trailhead.salesforce.com/content/learn/projects/set-up-your-salesforce-mobile-developer-tools-for-lightning-web-components/install-salesforce-mobile-app-simulator-for-ios">Configure Your iOS Mobile Simulator</a></li>
</ul>
</li>
</ul>
<h2 id="demo---salesforce-login-using-openid-connect-google"><a class="header" href="#demo---salesforce-login-using-openid-connect-google">Demo - Salesforce Login using OpenID Connect (Google)</a></h2>
<p><img src="mobile/img/mobile-app-openIdConnect.webm.gif" alt="Login using OpenID connect" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="reports-and-dashboards"><a class="header" href="#reports-and-dashboards">Reports and Dashboards</a></h1>
<h2 id="topics-25"><a class="header" href="#topics-25">Topics</a></h2>
<ul>
<li><a href="rd/rd.html#uc">Use Case covered</a></li>
<li><a href="rd/rd.html#view">View the reports in the org</a></li>
<li>Getting the snapshot of the reports in the org
<ul>
<li><a href="rd/rd.html#opt1">Option-1</a></li>
<li><a href="rd/rd.html#opt2">Option-2</a></li>
</ul>
</li>
</ul>
<hr />
<p><a name='usecase'></a></p>
<h2 id="use-case-6"><a class="header" href="#use-case-6">Use Case</a></h2>
<ul>
<li>
<ol>
<li>Get the snapshot of the reports (in public folder) in your org on a regular frequency (say weekly or daily)</li>
</ol>
</li>
<li>
<ol start="2">
<li>You can store the snapshot in your version control <code>reports-snapshots</code> so that you can retrieve it from the  version control as needed.</li>
</ol>
</li>
</ul>
<p><a name='view'></a></p>
<h2 id="view-the-reports-in-the-org"><a class="header" href="#view-the-reports-in-the-org">View the reports in the org</a></h2>
<ul>
<li>Requires <a href="https://mohan-chinnappan-n.github.io/dx/plugins.html#/1">mohanc plugin</a></li>
</ul>
<pre><code>cat reports.soql
</code></pre>
<pre><code class="language-sql">SELECT Id,Name,DeveloperName, Foldername
 FROM report
</code></pre>
<pre><code> 
sfdx mohanc:data:query  -q reports.soql -u mohan.chinnappan.n.sel@gmail.com | \
pbcopy;\
open &quot;https://mohan-chinnappan-n5.github.io/viz/datatable/dt.html?c=csv&quot;

</code></pre>
<pre><code>For Linux you need (alias for pbcopy)
alias pbcopy='xsel --clipboard --input'
alias pbpaste='xsel --clipboard --output'

For Windows use clip in place of pbcopy
</code></pre>
<p><img src="rd/img/reports-1.png" alt="Reports" /></p>
<p><a name='opt1'></a></p>
<h2 id="getting-the-snapshot-of-the-reports-in-the-org"><a class="header" href="#getting-the-snapshot-of-the-reports-in-the-org">Getting the snapshot of the reports in the org</a></h2>
<h2 id="option-1"><a class="header" href="#option-1">Option-1</a></h2>
<ul>
<li>Requires 
<ul>
<li><a href="https://stedolan.github.io/jq/">jq</a></li>
<li><a href="https://nodejs.org/en/">Nodejs</a></li>
</ul>
</li>
</ul>
<pre><code> 
sfdx force:data:query:soql  -f reports.soql --json -u mohan.chinnappan.n.sel@gmail.com  | \
    jq -e '.result.records'  &gt;input.json ;\
    node gen_report_packagexml.mjs &gt; report_package.xml; \
    sfdx force:mdapi:retrieve  -r . -k report_package.xml -u mohan.chinnappan.n.sel@gmail.com ;\
    jar tvf unpackaged.zip
</code></pre>
<pre><code>Retrieving v56.0 metadata from mohan.chinnappan.n.sel@gmail.com using the v57.0 SOAP API
Retrieve ID: 09S4x00000Eyq1vEAB
Retrieving metadata from mohan.chinnappan.n.sel@gmail.com... done
Wrote retrieve zip to /private/tmp/reports/unpackaged.zip
  2814 Wed Feb 22 11:01:18 EST 2023 unpackaged/reports/unfiled$public/flow_screen_prebuilt_report.report
   259 Wed Feb 22 11:01:18 EST 2023 unpackaged/package.xml
</code></pre>
<p><a name='opt2'></a></p>
<h2 id="option-2-using-mohanc-pluigin"><a class="header" href="#option-2-using-mohanc-pluigin">Option-2 using mohanc pluigin</a></h2>
<ul>
<li>Requires 
<ul>
<li><a href="https://mohan-chinnappan-n.github.io/dx/plugins.html#/1">mohanc plugin</a></li>
<li><a href="https://nodejs.org/en/">Nodejs</a></li>
</ul>
</li>
</ul>
<pre><code>sfdx mohanc:data:query  -q reports.soql -u mohan.chinnappan.n.sel@gmail.com -f json &gt;input.json ;\
node gen_report_packagexml.mjs &gt; report_package.xml; \
sfdx force:mdapi:retrieve  -r . -k report_package.xml -u mohan.chinnappan.n.sel@gmail.com ; \
jar tvf unpackaged.zip 
</code></pre>
<pre><code>Retrieving v56.0 metadata from mohan.chinnappan.n.sel@gmail.com using the v57.0 SOAP API
Retrieve ID: 09S4x00000EypzkEAB
Retrieving metadata from mohan.chinnappan.n.sel@gmail.com... done
Wrote retrieve zip to /private/tmp/reports/unpackaged.zip
  2814 Wed Feb 22 10:20:56 EST 2023 unpackaged/reports/unfiled$public/flow_screen_prebuilt_report.report
   259 Wed Feb 22 10:20:56 EST 2023 unpackaged/package.xml

</code></pre>
<h3 id="scripts-used"><a class="header" href="#scripts-used">Scripts used</a></h3>
<pre><code>cat gen_report_packagexml.mjs
</code></pre>
<pre><code class="language-js">// mchinnappan
// TODO: add error/exception handling as needed
import * as fs from 'fs';
let pkg = 
`&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;Package xmlns=&quot;http://soap.sforce.com/2006/04/metadata&quot;&gt;
  &lt;version&gt;56.0&lt;/version&gt;
`
const input = JSON.parse(fs.readFileSync('input.json', 'utf-8'));
pkg += '&lt;types&gt;\n';
pkg += '\t&lt;name&gt;Report&lt;/name&gt;\n';

for (const record of input){
  let {DeveloperName, FolderName} = record;
    pkg += `\t&lt;members&gt;${FolderName}/${DeveloperName}&lt;/members&gt;\n`;
}
pkg += '\n&lt;/types&gt;\n&lt;/Package&gt;';
console.log(pkg);
</code></pre>
<pre><code>cat reports.soql
</code></pre>
<pre><code class="language-sql">SELECT Id,Name,DeveloperName, Foldername
 FROM report
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="custom-labels"><a class="header" href="#custom-labels">Custom Labels</a></h1>
<h2 id="topics-26"><a class="header" href="#topics-26">Topics</a></h2>
<ul>
<li><a href="customLabels/cl.html#dup1">Validate and find duplicate fullNames</a></li>
<li><a href="customLabels/cl.html#dup2">Find the duplicate label values</a></li>
<li><a href="customLabels/cl.html#htmlview">HTML view of the Custom Labels file</a></li>
</ul>
<hr />
<p><a name='dup1'></a></p>
<h2 id="use-case-7"><a class="header" href="#use-case-7">Use case</a></h2>
<ul>
<li>
<p>validate the CustomLabels.labels-meta.xml </p>
</li>
<li>
<p>find any duplicate labels </p>
</li>
<li>
<p>fix this issues and commit back to the version control</p>
</li>
<li>
<p>Requires </p>
<ul>
<li><a href="https://mohan-chinnappan-n.github.io/dx/plugins.html#/1">mohanc plugin</a></li>
<li><a href="https://nodejs.org/en/">Nodejs</a></li>
</ul>
</li>
</ul>
<h2 id="steps-7"><a class="header" href="#steps-7">Steps</a></h2>
<ol>
<li>
<ul>
<li>Validate the  CustomLabels.labels-meta.xml using</li>
</ul>
</li>
</ol>
<pre><code>sfdx mohanc:xml:validate -p  src/sales/channel-fundamentals/main/default/labels/ -i
</code></pre>
<p>and fix any missing or invalid tags</p>
<ol start="2">
<li>Find the duplicate labels</li>
</ol>
<pre><code>sfdx mohanc:xml:xml2json  -i CustomLabels.labels-meta.xml  ; \
 sfdx mohanc:data:jq -f  '.CustomLabels.labels[].fullName' -i CustomLabels.labels-meta.xml.json | sort | node dup.mjs

</code></pre>
<pre><code>Label1 2
Label2 2
...
</code></pre>
<h2 id="scripts-used-1"><a class="header" href="#scripts-used-1">Scripts used</a></h2>
<pre><code>cat dup.mjs
</code></pre>
<pre><code class="language-js">
//-------------------------------
// feb-2023 mchinnappan
// read the given file from the stdin and emit duplicate items
// cat input.txt | node dup.mjs
//-------------------------------

import readline from &quot;readline&quot;;

const items = {};
const rl = readline.createInterface({
  input: process.stdin,
  output: process.stdout,
  terminal: false,
});

rl.on(&quot;line&quot;, (line) =&gt; {
  const item = line.replace(/&quot;/g, &quot;&quot;); //remove quotes
  if (items[item]) ++items[item];
  else items[item] = 1;
  if (items[item] !== 1) {
    console.log(item, items[item]);
  }
});

rl.once(&quot;close&quot;, () =&gt; {
  //console.log(items);
});
</code></pre>
<p><a name='dup2'></a></p>
<h2 id="use-case-8"><a class="header" href="#use-case-8">Use case</a></h2>
<ul>
<li>Find out duplicate values (same value with different fullName)</li>
<li>This will list out label values list in the sorted order</li>
<li>Work with teams to make sure you reuse the label values</li>
</ul>
<h3 id="option-1---csv-viewer"><a class="header" href="#option-1---csv-viewer">Option-1 - csv viewer</a></h3>
<pre><code> sfdx mohanc:xml:xml2json  -i CustomLabels.labels-meta.xml  ; \
 sfdx mohanc:data:jq -f  '.CustomLabels.labels[].value' -i CustomLabels.labels-meta.xml.json | sort &gt; labelValues.csv; open labelValues.csv 
</code></pre>
<h3 id="option-2---datatable"><a class="header" href="#option-2---datatable">Option-2 - datatable</a></h3>
<pre><code>sfdx mohanc:xml:xml2json  -i CustomLabels.labels-meta.xml  ; \
 sfdx mohanc:data:jq -f  '.CustomLabels.labels[].value' -i CustomLabels.labels-meta.xml.json | sort   | pbcopy ; open &quot;https://mohan-chinnappan-n5.github.io/viz/datatable/dt.html?c=csv&quot;

</code></pre>
<h3 id="list-of-duplicates-label-values"><a class="header" href="#list-of-duplicates-label-values">List of duplicates label values</a></h3>
<pre><code>Account
Account
Accounts Assigned to
Action
Actions
Active Account Plan
Active
Active;Completed
Activities
Activity Category
Activity
Activity
Activity
</code></pre>
<p><a name='htmlview'></a></p>
<h2 id="html-view-of-the-custom-labels-file"><a class="header" href="#html-view-of-the-custom-labels-file">HTML view of the Custom Labels file</a></h2>
<pre><code>bat CustomLabels.labels
───────┬───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
       │ File: CustomLabels.labels
───────┼───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
   1   │ &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
   2   │ &lt;CustomLabels xmlns=&quot;http://soap.sforce.com/2006/04/metadata&quot;&gt;
   3   │     &lt;labels&gt;
   4   │         &lt;fullName&gt;Greeting&lt;/fullName&gt;
   5   │         &lt;language&gt;en_US&lt;/language&gt;
   6   │         &lt;protected&gt;true&lt;/protected&gt;
   7   │         &lt;shortDescription&gt;Greeting&lt;/shortDescription&gt;
   8   │         &lt;value&gt;Hello World From LWC&lt;/value&gt;
   9   │     &lt;/labels&gt;
  10   │ &lt;/CustomLabels&gt;
───────┴──────────────────────

</code></pre>
<pre><code>sfdx mohanc:xml:transform -i CustomLabels.labels -m customlabel
</code></pre>
<p><img src="customLabels/img/custom-label-1.png" alt="custom label html" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="508---accessibility"><a class="header" href="#508---accessibility">508 - Accessibility</a></h1>
<h2 id="mobile-accessibility-checklist"><a class="header" href="#mobile-accessibility-checklist">Mobile accessibility checklist</a></h2>
<h3 id="color-contrast"><a class="header" href="#color-contrast">Color contrast</a></h3>
<ul>
<li>must comply with <a href="https://www.w3.org/TR/WCAG/#contrast-minimum">WCAG 2.1 AA level requirements</a>:</li>
<li>Contrast ratio of <strong>4.5:1</strong> for normal text (less than 18 point or 14 point bold.)</li>
<li>Contrast ratio of <strong>3:1</strong> for large text (at least 18 point or 14 point bold.)</li>
<li>Information conveyed via color must be also available by other means too (underlined text for links, etc.)</li>
</ul>
<h3 id="visibility"><a class="header" href="#visibility">Visibility</a></h3>
<ul>
<li>Content hiding techniques such as zero opacity, z-index order and off-screen placement <strong>must not be used exclusively</strong> to handle visibility.</li>
<li>Everything other than the <strong>currently visible screen must be truly invisible</strong> (especially relevant for single page apps with multiple cards):</li>
<li>Use the <strong>hidden attribute</strong> or visibility or display style properties.</li>
<li>Unless absolutely unavoidable, aria-hidden attribute should not be used.</li>
</ul>
<h3 id="text-equivalents"><a class="header" href="#text-equivalents">Text Equivalents</a></h3>
<ul>
<li>Text equivalent must be provided for <strong>every non-strictly presentational non-text element</strong> within the app. </li>
<li>Use alt and title where appropriated </li>
</ul>
<pre><code class="language-html">&lt;td&gt;
&lt;input type=&quot;text&quot; aria-label=&quot;quantity of mangos&quot;&gt;
&lt;/td&gt;
</code></pre>
<ul>
<li>
<p>If the above attributes are not applicable, use appropriate ARIA States and Properties such as <strong>aria-label, aria-labelledby, or aria-describedby</strong>.</p>
</li>
<li>
<p>Images of text must be avoided. <a href="https://www.w3.org/WAI/WCAG21/Understanding/images-of-text.html">Images of Text (Level AA)</a></p>
</li>
<li>
<p>All form controls must have labels (<label> elements) for the benefit of screen reader users. Example:</p>
</li>
</ul>
<pre><code class="language-html">&lt;form&gt;
  &lt;div class=&quot;form-group&quot;&gt;
    &lt;label for=&quot;exampleInputEmail1&quot;&gt;Email address&lt;/label&gt;
    &lt;input type=&quot;email&quot; class=&quot;form-control&quot; id=&quot;exampleInputEmail1&quot; aria-describedby=&quot;emailHelp&quot; placeholder=&quot;Enter email&quot;&gt;
    &lt;small id=&quot;emailHelp&quot; class=&quot;form-text text-muted&quot;&gt;We'll never share your email with anyone else.&lt;/small&gt;
  &lt;/div&gt;
  &lt;div class=&quot;form-group&quot;&gt;
    &lt;label for=&quot;exampleInputPassword1&quot;&gt;Password&lt;/label&gt;
    &lt;input type=&quot;password&quot; class=&quot;form-control&quot; id=&quot;exampleInputPassword1&quot; placeholder=&quot;Password&quot;&gt;
  &lt;/div&gt;
  &lt;div class=&quot;form-check&quot;&gt;
    &lt;input type=&quot;checkbox&quot; class=&quot;form-check-input&quot; id=&quot;exampleCheck1&quot;&gt;
    &lt;label class=&quot;form-check-label&quot; for=&quot;exampleCheck1&quot;&gt;Check me out&lt;/label&gt;
  &lt;/div&gt;
  &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Submit&lt;/button&gt;
&lt;/form&gt;
</code></pre>
<h3 id="handling-state"><a class="header" href="#handling-state">Handling state</a></h3>
<ul>
<li>Content should not be restricted to a single orientation, such as:
<ul>
<li>portrait </li>
<li>landscape
unless essential. <a href="https://www.w3.org/WAI/WCAG21/Understanding/orientation.html">Orientation (Level AA)</a></li>
</ul>
</li>
</ul>
<h3 id="general-guidelines"><a class="header" href="#general-guidelines">General guidelines</a></h3>
<ul>
<li>An app title must be provided.</li>
<li>Headings must not break hierarchical structure </li>
</ul>
<pre><code class="language-html">
&lt;h1&gt;Top level heading&lt;/h1&gt;
&lt;h2&gt;Secondary heading&lt;/h2&gt;
&lt;h2&gt;Another secondary heading&lt;/h2&gt;
&lt;h3&gt;Low level heading&lt;/h3&gt;

</code></pre>
<ul>
<li>For touch events, at least one of the following must be true:
<ul>
<li>The down-event should not be used to trigger any action</li>
<li>The action is triggered on the up event and an option to abort the action before its completion is available or an option to undo the action after its completion</li>
<li>The up-event will <strong>undo</strong> any action that was triggered on a down event</li>
<li>It is essential to trigger the action on the down event. For example, playing a game or a piano application.</li>
</ul>
</li>
</ul>
<h2 id="references-27"><a class="header" href="#references-27">References</a></h2>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/Accessibility/Mobile_accessibility_checklist#focus">MDN: Mobile accessibility checklist</a></li>
<li><a href="https://www.tpgi.com/using-the-html-title-attribute-updated/">Using the HTML title attribute – updated March 2020</a></li>
<li><a href="https://www.w3.org/TR/wai-aria-1.1/#state_prop_def">6.6 Definitions of States and Properties (all aria-* attributes)</a></li>
<li><a href="https://www.bbc.co.uk/accessibility/forproducts/guides/mobile/target-touch-size">Target touch size</a></li>
</ul>
<h2 id="tools-2"><a class="header" href="#tools-2">Tools</a></h2>
<ul>
<li>Firefox Accessibility Inspector</li>
</ul>
<iframe width="920" height="460" src="https://www.youtube.com/embed/7mqqgIxX_NU" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<ul>
<li><a href="https://chrome.google.com/webstore/detail/axe-devtools-web-accessib/lhdoppojpmngadmnindnejefpokejbdd">axe DevTools - Web Accessibility Testing</a></li>
<li><a href="https://www.ssa.gov/accessibility/andi/help/install.html">Accessibility Testing Tool - ANDI</a></li>
</ul>
<h2 id="kural--install"><a class="header" href="#kural--install">Kural  Install</a></h2>
<pre><code># linux and mac
sudo npm i -g kural
# windows
npm i -g kural

</code></pre>
<h2 id="chrome-driver-1"><a class="header" href="#chrome-driver-1">Chrome Driver</a></h2>
<ul>
<li>Download the <a href="https://raw.githubusercontent.com/mohan-chinnappan-n/kural-docs/master/browser/chromedriver">Chrome Driver file</a> and put this in your PATH</li>
</ul>
<pre><code>$ cat 508_sfdc.json
</code></pre>
<pre><code class="language-json">{
            &quot;testName&quot;: &quot;508 - sfdc&quot;,
            &quot;name&quot;: &quot;login&quot;,
            &quot;url&quot;: &quot;https://login.salesforce.com&quot;,
            &quot;port&quot;: 8041,
            &quot;soMo&quot;: 50,
            &quot;headless&quot;: false,
            &quot;reportFilename&quot;: &quot;sfdc_lh.html&quot;,

           &quot;viewport&quot;: { &quot;width&quot;: 1516, &quot;height&quot;: 699 } ,
           &quot;onlyCategories&quot;: [&quot;accessibility&quot;, &quot;best-practices&quot;, &quot;performance&quot;, &quot;pwa&quot;, &quot;seo&quot; ],

           &quot;form&quot;: [
                {
                    &quot;locator&quot;: &quot;#username&quot;,
                    &quot;value&quot;: &quot;mohan.chinnappan.n.sel@gmail.com&quot;,
                    &quot;action&quot;: &quot;sendKeys&quot;
                },
                {
                    &quot;locator&quot;: &quot;#password&quot;,
                    &quot;value&quot;: &quot;PWD&quot;,
                    &quot;action&quot;: &quot;sendKeys&quot;
                },
                {
                    &quot;locator&quot;: &quot;#Login&quot;
                }
           ]
}

</code></pre>
<pre><code>
$ cat 508.json
</code></pre>
<pre><code class="language-json">{
  &quot;description&quot;: &quot;Running 508 checks on Salesforce org page&quot;,
  &quot;retURL&quot; : &quot;lightning/o/Account/list&quot;,
  &quot;headless&quot;: false,

  &quot;port&quot;: 8041,
  &quot;slowMo&quot;: 50,


  &quot;closeBrowser&quot;: true,
 &quot;reportFilename&quot;: &quot;sfdc_lh.html&quot;,

  &quot;viewPort&quot;: { &quot;width&quot;: 2040, &quot;height&quot;: 699 },

  &quot;onlyCategories&quot;: [&quot;accessibility&quot;]

}
</code></pre>
<h3 id="run-508-demo"><a class="header" href="#run-508-demo">Run 508 Demo</a></h3>
<p><a href="https://raw.githubusercontent.com/mohan-chinnappan-n/kural-docs/master/img/508-1.webm.gif"><img src="https://raw.githubusercontent.com/mohan-chinnappan-n/kural-docs/master/img/508-1.webm.gif" alt="Run 508 Demo" /></a></p>
<h3 id="run-508-demo-2"><a class="header" href="#run-508-demo-2">Run 508 Demo-2</a></h3>
<p><a href="https://raw.githubusercontent.com/mohan-chinnappan-n/kural-docs/master/img/508-2.webm.gif"><img src="https://raw.githubusercontent.com/mohan-chinnappan-n/kural-docs/master/img/508-2.webm.gif" alt="Run 508 Demo-2" /></a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="process-automation"><a class="header" href="#process-automation">Process Automation</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="flow-1"><a class="header" href="#flow-1">Flow</a></h1>
<h2 id="how-to-delete-obsolete-flow-versions"><a class="header" href="#how-to-delete-obsolete-flow-versions">How to delete Obsolete Flow versions?</a></h2>
<h3 id="soql-used"><a class="header" href="#soql-used">SOQL used</a></h3>
<pre><code class="language-sql">
SELECT Id, Status, Definition.DeveloperName, VersionNumber
FROM Flow 
 WHERE Definition.NamespacePrefix = null 
       AND Status = 'Obsolete' 
ORDER BY Definition.DeveloperName, VersionNumber
</code></pre>
<h3 id="download-the-script-from-here"><a class="header" href="#download-the-script-from-here">Download the script from <a href="https://github.com/mohan-chinnappan-n/shell-scripts/blob/master/pkg/build_destructiveChanges_pkg_for_obsolete_flows.sh">here</a></a></h3>
<pre><code>bash build_destructiveChanges_pkg_for_obsolete_flows.sh -u username@email.com

</code></pre>
<pre><code>--- username: username@email.com ---
--- Getting the SOQL query  ---
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100   195  100   195    0     0   2336      0 --:--:-- --:--:-- --:--:--  2532
--- Running the query to get the JSON file  ---
--- Forming destructiveChanges.xml ---
--- Completed writing destructiveChanges.xml --

</code></pre>
<h2 id="deploy-command"><a class="header" href="#deploy-command">Deploy command</a></h2>
<pre><code>sfdx force:source:deploy -u username -x destructiveChanges/package.xml  --predestructivechanges destructiveChanges/destructiveChanges.xml  -c --verbose --loglevel TRACE 


</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="great-folks"><a class="header" href="#great-folks">Great Folks</a></h1>
<img src='img/penguin-computer.png' width="400"/>
<h2 id="ken-thompson---father-of-unix"><a class="header" href="#ken-thompson---father-of-unix">Ken Thompson - Father of Unix</a></h2>
<iframe width="960" height="520" src="https://www.youtube.com/embed/fL2QwyxcJ5s" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<h2 id="dennis-ritchie---co-creator-of-unix-author-of-c-language"><a class="header" href="#dennis-ritchie---co-creator-of-unix-author-of-c-language">Dennis Ritchie - Co-creator of Unix, author of C language</a></h2>
<iframe width="960" height="520" src="https://www.youtube.com/embed/umF6SNYaJNw" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<h2 id="mozart---original-gpt-generative-pre-trained-transformer"><a class="header" href="#mozart---original-gpt-generative-pre-trained-transformer">Mozart - original GPT (Generative Pre-trained Transformer)</a></h2>
<iframe width="960" height="520" src="https://www.youtube.com/embed/9jlQiHHMlkA" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<hr />
<iframe width="960" height="520" src="https://www.youtube.com/embed/dJ0AkP_BFhs" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<hr />
<pre><code>Written down the music already finished in his head!!! Page after page of it...
As it he was taking dictation...
And the music finished, no music has ever finished...

Here again it was the very own voice of God!


- He is very proud of his work!!!
</code></pre>
<iframe width="960" height="520" src="https://www.youtube.com/embed/th_ro9CiASc" title="YouTube video player" frameborder="0" 
allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
---
<h2 id="live-composing-by-maestro-ilaiyaraaja-another-original-gpt"><a class="header" href="#live-composing-by-maestro-ilaiyaraaja-another-original-gpt">Live Composing by Maestro Ilaiyaraaja (another original GPT)</a></h2>
<iframe width="960" height="520" src="https://www.youtube.com/embed/U_g2KdKJvIU" title="YouTube video player" frameborder="0"
allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<div style="break-before: page; page-break-before: always;"></div><h1 id="editor-tips"><a class="header" href="#editor-tips">Editor tips</a></h1>
<h2 id="vi-or-nvim"><a class="header" href="#vi-or-nvim">vi or nvim</a></h2>
<h2 id="from-a-python-dictionary-from-the-given-list-of-words-in-the-file"><a class="header" href="#from-a-python-dictionary-from-the-given-list-of-words-in-the-file">From a python dictionary from the given list of words in the file</a></h2>
<ul>
<li>Select the lines and run:</li>
</ul>
<pre><code>'&lt;,'&gt;s/^\(\w\+\)/&quot;\1&quot;:&quot;\1&quot;,/g
</code></pre>
<p>These lines in the file :</p>
<pre><code>objects
pages
</code></pre>
<p>will converted into:</p>
<pre><code> &quot;objects&quot;:&quot;objects&quot;,
 &quot;pages&quot;:&quot;pages
</code></pre>
<h2 id="multiline-comments-in-vim"><a class="header" href="#multiline-comments-in-vim">Multiline comments in vim</a></h2>
<ul>
<li>Press <code>Ctrl-v</code> to enter visual block mode.</li>
<li>Use the arrow keys to select the three lines you want to comment out.</li>
<li>Press <code>Shift-I</code> to enter insert mode at the beginning of the selected lines.</li>
<li>Type <code># </code> (or your comment identifier) and then press Esc.</li>
</ul>
<h2 id="multiline-comments-in-vscode"><a class="header" href="#multiline-comments-in-vscode">Multiline comments in VSCode</a></h2>
<pre><code># select multi-lines to be commented out

shift + option + A
</code></pre>
<h2 id="delete-empty-lines"><a class="header" href="#delete-empty-lines">Delete empty lines</a></h2>
<pre><code>:g/^$/d
</code></pre>
<ul>
<li>The <code>:g</code> command allows you to perform an action on all lines that match a pattern.</li>
<li><code>/^$/</code> is a regular expression that matches empty lines. The <code>^</code> and <code>$</code> characters anchor the expression to the beginning and end of the line, respectively.</li>
<li>The <code>d</code> command deletes the selected lines.</li>
</ul>
<h2 id="selecting-non-empty-lines-and-deleting-others"><a class="header" href="#selecting-non-empty-lines-and-deleting-others">Selecting non-empty lines and deleting others</a></h2>
<pre><code>%v/\S/d
</code></pre>
<ul>
<li>The <code>%</code> character represents the entire file.</li>
<li>The <code>v</code> command selects all lines that <strong>do not match a pattern</strong>.</li>
<li><code>/\S/</code> is a regular expression that matches all lines that contain at least one non-whitespace character. In other words, it selects all non-empty lines.</li>
<li>The <code>d</code> command deletes the selected lines.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="bash-tips"><a class="header" href="#bash-tips">Bash tips</a></h1>
<h2 id="delete-all-other-files-except-given-file-pattern"><a class="header" href="#delete-all-other-files-except-given-file-pattern">Delete all other files except given file pattern</a></h2>
<pre><code class="language-bash">find . ! -name '*.py'  -type f -exec rm -f {} +

</code></pre>
<h2 id="list-files-of-pattern---2-and--copy-and-delete-them"><a class="header" href="#list-files-of-pattern---2-and--copy-and-delete-them">list files of pattern  '* 2.<em>' and '</em> copy.*' and delete them</a></h2>
<pre><code class="language-bash">## go to top folder and run the following command

find . -name '* 2.*'  2&gt;&amp;1 | tee /tmp/2_dup_files.txt

find . -name '* copy.*'  2&gt;&amp;1 | tee /tmp/copy_dup_files.txt


# to delete these files, uncomment the next lines

# cat /tmp/2_dup_files.txt    | sed 's/\(.*\)/&quot;\1&quot;/g' | xargs rm -f 
# cat /tmp/copy_dup_files.txt | sed 's/\(.*\)/&quot;\1&quot;/g' | xargs rm -f 

</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="language-design"><a class="header" href="#language-design">Language Design</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="apex"><a class="header" href="#apex">Apex</a></h1>
<p>Apex is a strongly typed, object-oriented programming language that allows developers to execute flow and transaction control statements on Salesforce servers in conjunction with calls to the API. Using <strong>syntax that looks like Java</strong> and <strong>acts like database stored procedures</strong>, Apex enables developers to add business logic to most system events, including button clicks, related record updates, and Visualforce pages. Apex code can be initiated by Web service requests and from triggers on objects.</p>
<p><img src="https://developer.salesforce.com/docs/resources/img/en-us/242.0?doc_id=dev_guides%2Fapex%2Fimages%2FAC_Elements.png&amp;folder=apexcode" alt="Apex Syntax" /></p>
<p><img src="https://developer.salesforce.com/docs/resources/img/en-us/242.0?doc_id=dev_guides%2Fapex%2Fimages%2Fapex_architecture.png&amp;folder=apexcode" alt="How Apex Works" /></p>
<p>When a developer writes and saves Apex code to the platform, the platform application server first <strong>compiles the code into an abstract set of instructions</strong> that can be understood by the <strong>Apex runtime interpreter</strong>, and then saves those instructions <strong>as metadata</strong>.</p>
<p>When an end user triggers the execution of Apex, the platform application server retrieves the <strong>compiled instructions from the metadata</strong> and sends them through the <strong>runtime interpreter</strong> before returning the result. The end user observes no differences in execution time from standard platform requests.</p>
<h3 id="apex-can-be-used-to"><a class="header" href="#apex-can-be-used-to">Apex can be used to:</a></h3>
<ul>
<li>Create Web services.</li>
<li>Create email services.</li>
<li>Perform complex validation over multiple objects.</li>
<li>Create complex business processes that are not supported by workflow.</li>
<li>Create custom transactional logic (logic that occurs over the entire transaction, not just with a single record or object).</li>
<li>Attach custom logic to another operation, such as saving a record, so that it occurs whenever the operation is executed, regardless of whether it originates in the user interface, a Visualforce page, or from SOAP API.</li>
</ul>
<h3 id="apex-cannot-be-used-to"><a class="header" href="#apex-cannot-be-used-to">Apex cannot be used to:</a></h3>
<ul>
<li>Render elements in the user interface other than error messages</li>
<li>Change standard functionality
<ul>
<li>Apex will prevent this functionality from happening, or add additional functionality</li>
</ul>
</li>
<li>Create temporary files</li>
<li>Spawn threads</li>
</ul>
<h3 id="writing-tests"><a class="header" href="#writing-tests">Writing tests</a></h3>
<p>Testing is the key to successful long-term development and is a critical component of the development process.
We strongly recommend that you use a <strong>test-driven development process</strong>, that is, test development that occurs at the same time as code development.</p>
<p>Apex supports the creation and execution of <strong>unit tests</strong>. </p>
<ul>
<li>Unit tests are class methods that verify whether a <strong>particular piece of code is working properly</strong>. </li>
<li>Unit test methods take no arguments, <strong>commit no data to the database</strong>, and send no emails. 
<ul>
<li>Such methods are flagged with the <code>@IsTest</code> annotation in the method definition.</li>
<li>Unit test methods must be defined in test classes, that is, <strong>classes annotated with @IsTest</strong>.</li>
</ul>
</li>
<li>Unit tests must cover <strong>at least 75%</strong> of your Apex code, and all of those tests must complete successfully.</li>
</ul>
<table><thead><tr><th>Notes</th></tr></thead><tbody>
<tr><td>When deploying Apex to a production organization, <strong>each unit test</strong> in your organization namespace is executed by default.</td></tr>
<tr><td>Calls to ```System.debug`` aren’t counted as part of Apex code coverage.</td></tr>
<tr><td>Test methods and test classes aren’t counted as part of Apex code coverage.</td></tr>
<tr><td>While at least 75% of your Apex code must be covered by tests, <strong>don’t focus on the percentage of code that is covered</strong>. Instead, make sure that <strong>every use case of your application is covered</strong>, including <strong>positive and negative cases</strong>, as well as <strong>bulk and single records</strong>. This approach ensures that 75% or more of your code is covered by unit tests.</td></tr>
</tbody></table>
<hr />
<ul>
<li>Example</li>
</ul>
<pre><code class="language-java"> public static void updateOlderAccounts() {
        // Get the 2 oldest accounts and change their description to 'Old Account'
        Account[] oldAccounts = [SELECT Id, Description FROM Account ORDER BY CreatedDate ASC LIMIT 2];
        // loop through them and update the Description field
        for (Account acct : oldAccounts) {
            acct.Description = 'Old Account';
        }
        // save the change you made
        update oldAccounts;
  }
  // run it 
  updateOlderAccounts();
      
</code></pre>
<h2 id="demo-18"><a class="header" href="#demo-18">Demo</a></h2>
<ul>
<li>Run the query to find the old accounts</li>
</ul>
<pre><code>cat oldAccounts.soql 
</code></pre>
<pre><code class="language-sql">SELECT Id, Description FROM Account ORDER BY CreatedDate ASC LIMIT 2

</code></pre>
<pre><code class="language-bash">
sfdx mohanc:data:query  -u mohan.chinnappan.n.sel2@gmail.com -q oldAccounts.soql -f json      

</code></pre>
<pre><code class="language-json">[
    {
        &quot;attributes&quot;: {
            &quot;type&quot;: &quot;Account&quot;,
            &quot;url&quot;: &quot;/services/data/v57.0/sobjects/Account/0018W000024fLocQAE&quot;
        },
        &quot;Id&quot;: &quot;0018W000024fLocQAE&quot;,
        &quot;Description&quot;: &quot;Genomics company engaged in mapping and sequencing of the human genome and developing gene-based drugs&quot;
    },
    {
        &quot;attributes&quot;: {
            &quot;type&quot;: &quot;Account&quot;,
            &quot;url&quot;: &quot;/services/data/v57.0/sobjects/Account/0018W000024fLoaQAE&quot;
        },
        &quot;Id&quot;: &quot;0018W000024fLoaQAE&quot;,
        &quot;Description&quot;: &quot;TODO&quot;
    }
]
</code></pre>
<pre><code class="language-bash">
cat UpdateOlderAccounts.cls 

</code></pre>
<pre><code class="language-java">    public static void updateOlderAccounts() {
        // Get the 2 oldest accounts and change their description to 'Old Account'
        Account[] oldAccounts = [SELECT Id, Description FROM Account ORDER BY CreatedDate ASC LIMIT 2];
        // loop through them and update the Description field
        for (Account acct : oldAccounts) {
            acct.Description = 'Old Account';
        }
        // save the change you made
        update oldAccounts;
    }

    // run it
    updateOlderAccounts();

</code></pre>
<ul>
<li>Execute </li>
</ul>
<pre><code>sfdx mohanc:tooling:execute -u mohan.chinnappan.n.sel2@gmail.com  -a UpdateOlderAccounts.cls    
</code></pre>
<pre><code>apexCode:     public static void updateOlderAccounts() {
        // Get the 2 oldest accounts and change their description to 'Old Account'
        Account[] oldAccounts = [SELECT Id, Description FROM Account ORDER BY CreatedDate ASC LIMIT 2];
        // loop through them and update the Description field
        for (Account acct : oldAccounts) {
            acct.Description = 'Old Account';
        }
        // save the change you made
        update oldAccounts;
    }
    // run it
    updateOlderAccounts();

compiled?: true
executed?: true
{
  line: -1,
  column: -1,
  compiled: true,
  success: true,
  compileProblem: null,
  exceptionStackTrace: null,
  exceptionMessage: null
}
</code></pre>
<ul>
<li>Check the results after execution </li>
</ul>
<pre><code class="language-bash">
sfdx mohanc:data:query  -u mohan.chinnappan.n.sel2@gmail.com -q oldAccounts.soql -f json    

</code></pre>
<pre><code class="language-json">[
    {
        &quot;attributes&quot;: {
            &quot;type&quot;: &quot;Account&quot;,
            &quot;url&quot;: &quot;/services/data/v57.0/sobjects/Account/0018W000024fLocQAE&quot;
        },
        &quot;Id&quot;: &quot;0018W000024fLocQAE&quot;,
        &quot;Description&quot;: &quot;Old Account&quot;
    },
    {
        &quot;attributes&quot;: {
            &quot;type&quot;: &quot;Account&quot;,
            &quot;url&quot;: &quot;/services/data/v57.0/sobjects/Account/0018W000024fLoaQAE&quot;
        },
        &quot;Id&quot;: &quot;0018W000024fLoaQAE&quot;,
        &quot;Description&quot;: &quot;Old Account&quot;
    }
]

</code></pre>
<hr />
<ul>
<li><a href="https://developer.salesforce.com/docs/atlas.en-us.apexcode.meta/apexcode/apex_intro.htm">Apex Developer Guide</a></li>
<li><a href="https://trailhead.salesforce.com/content/learn/projects/quickstart-apex">Apex Quick Start</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="grammar"><a class="header" href="#grammar">Grammar</a></h1>
<h2 id="grammar-for-antlr"><a class="header" href="#grammar-for-antlr">Grammar for ANTLR</a></h2>
<ul>
<li><a href="https://github.com/antlr/grammars-v4/blob/master/apex/apex.g4">apex.g4</a></li>
</ul>
<pre><code class="language-g4">/*
 [The &quot;BSD licence&quot;]
 Copyright (c) 2013 Terence Parr, Sam Harwell
 All rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions
 are met:
 1. Redistributions of source code must retain the above copyright
    notice, this list of conditions and the following disclaimer.
 2. Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the
    documentation and/or other materials provided with the distribution.
 3. The name of the author may not be used to endorse or promote products
    derived from this software without specific prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR
 IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
 OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT,
 INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
 NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
 THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/

/**
 *  An Apexcode grammar derived from Java 1.7 grammar for ANTLR v4.
 *  Uses ANTLR v4's left-recursive expression notation.
 *
 *  @maintainer: Andrey Gavrikov
 *
 *  You can test with
 *
 *  $ antlr4 apex.g4
 *  $ javac *.java
 *  $ grun apex compilationUnit *.cls
 */
grammar apex;

// starting point for parsing a apexcode file
compilationUnit
    :   packageDeclaration? importDeclaration* typeDeclaration* EOF
    ;

packageDeclaration
    :   annotation* PACKAGE qualifiedName ';'
    ;

importDeclaration
    :   IMPORT STATIC? qualifiedName ('.' '*')? ';'
    ;

typeDeclaration
    :   classOrInterfaceModifier* classDeclaration
    |   classOrInterfaceModifier* enumDeclaration
    |   classOrInterfaceModifier* interfaceDeclaration
    |   classOrInterfaceModifier* annotationTypeDeclaration
    |   ';'
    ;

modifier
    :   classOrInterfaceModifier
    |   (   NATIVE
        |   SYNCHRONIZED
        |   TRANSIENT
        )
    ;

classOrInterfaceModifier
    :   annotation       // class or interface
    |   (   PUBLIC     // class or interface
        |   PROTECTED  // class or interface
        |   PRIVATE    // class or interface
        |   STATIC     // class or interface
        |   ABSTRACT   // class or interface
        |   FINAL      // class only -- does not apply to interfaces
        |   GLOBAL     // class or interface
        |   WEBSERVICE // class only -- does not apply to interfaces
        |   OVERRIDE   // method only
        |   VIRTUAL    // method only
        |   TESTMETHOD    // method only
		|	APEX_WITH_SHARING // class only
		|	APEX_WITHOUT_SHARING //class only
        )
    ;

variableModifier
    :   FINAL
    |   annotation
    ;

classDeclaration
    :   CLASS Identifier typeParameters?
        (EXTENDS type_)?
        (IMPLEMENTS typeList)?
        classBody
    ;

typeParameters
    :   '&lt;' typeParameter (',' typeParameter)* '&gt;'
    ;

typeParameter
    :   Identifier (EXTENDS typeBound)?
    ;

typeBound
    :   type_ ('&amp;' type_)*
    ;

enumDeclaration
    :   ENUM Identifier (IMPLEMENTS typeList)?
        '{' enumConstants? ','? enumBodyDeclarations? '}'
    ;

enumConstants
    :   enumConstant (',' enumConstant)*
    ;

enumConstant
    :   annotation* Identifier arguments? classBody?
    ;

enumBodyDeclarations
    :   ';' classBodyDeclaration*
    ;

interfaceDeclaration
    :   INTERFACE Identifier typeParameters? (EXTENDS typeList)? interfaceBody
    ;

typeList
    :   type_ (',' type_)*
    ;

classBody
    :   '{' classBodyDeclaration* '}'
    ;

interfaceBody
    :   '{' interfaceBodyDeclaration* '}'
    ;

classBodyDeclaration
    :   ';'
    |   STATIC? block
    |   modifier* memberDeclaration
    ;

memberDeclaration
    :   methodDeclaration
    |   genericMethodDeclaration
    |   fieldDeclaration
    |   constructorDeclaration
    |   genericConstructorDeclaration
    |   interfaceDeclaration
    |   annotationTypeDeclaration
    |   classDeclaration
    |   enumDeclaration
    |   propertyDeclaration
    ;

/* We use rule this even for void methods which cannot have [] after parameters.
   This simplifies grammar and we can consider void to be a type, which
   renders the [] matching as a context-sensitive issue or a semantic check
   for invalid return type after parsing.
 */
methodDeclaration
    :   OVERRIDE? (type_|VOID) Identifier formalParameters ('[' ']')*
        (THROWS qualifiedNameList)?
        (   methodBody
        |   ';'
        )
    ;

genericMethodDeclaration
    :   typeParameters methodDeclaration
    ;

constructorDeclaration
    :   Identifier formalParameters (THROWS qualifiedNameList)?
        constructorBody
    ;

genericConstructorDeclaration
    :   typeParameters constructorDeclaration
    ;

fieldDeclaration
    :   type_ variableDeclarators ';'
    ;

propertyDeclaration
    :   type_ variableDeclarators propertyBodyDeclaration
    ;

propertyBodyDeclaration
    :   '{' propertyBlock propertyBlock? '}'
    ;

interfaceBodyDeclaration
    :   modifier* interfaceMemberDeclaration
    |   ';'
    ;

interfaceMemberDeclaration
    :   constDeclaration
    |   interfaceMethodDeclaration
    |   genericInterfaceMethodDeclaration
    |   interfaceDeclaration
    |   annotationTypeDeclaration
    |   classDeclaration
    |   enumDeclaration
    ;

constDeclaration
    :   type_ constantDeclarator (',' constantDeclarator)* ';'
    ;

constantDeclarator
    :   Identifier ('[' ']')* '=' variableInitializer
    ;

// see matching of [] comment in methodDeclaratorRest
interfaceMethodDeclaration
    :   (type_|VOID) Identifier formalParameters ('[' ']')*
        (THROWS qualifiedNameList)?
        ';'
    ;

genericInterfaceMethodDeclaration
    :   typeParameters interfaceMethodDeclaration
    ;

variableDeclarators
    :   variableDeclarator (',' variableDeclarator)*
    ;

variableDeclarator
    :   variableDeclaratorId ('=' variableInitializer)?
    ;

variableDeclaratorId
    :   Identifier ('[' ']')*
    ;

variableInitializer
    :   arrayInitializer
    |   expression
    ;

arrayInitializer
    :   '{' (variableInitializer (',' variableInitializer)* (',')? )? '}'
    ;

enumConstantName
    :   Identifier
    ;

type_
    :   classOrInterfaceType ('[' ']')*
    |   primitiveType ('[' ']')*
    ;

classOrInterfaceType
    :   Identifier typeArguments? ('.' Identifier typeArguments? )*
    |   SET typeArguments // 'set &lt;' has to be defined explisitly, otherwise it clashes with SET of property setter
    ;

primitiveType
    :   CHAR
    |   BYTE
    |   SHORT
    |   INT
    |   FLOAT
    ;

typeArguments
    :   '&lt;' typeArgument (',' typeArgument)* '&gt;'
    ;

typeArgument
    :   type_
    |   '?' ((EXTENDS | SUPER) type_)?
    ;

qualifiedNameList
    :   qualifiedName (',' qualifiedName)*
    ;

formalParameters
    :   '(' formalParameterList? ')'
    ;

formalParameterList
    :   formalParameter (',' formalParameter)* (',' lastFormalParameter)?
    |   lastFormalParameter
    ;

formalParameter
    :   variableModifier* type_ variableDeclaratorId
    ;

lastFormalParameter
    :   variableModifier* type_ '...' variableDeclaratorId
    ;

methodBody
    :   block
    ;

constructorBody
    :   block
    ;

qualifiedName
    :   Identifier ('.' Identifier)*
    ;

literal
    :   IntegerLiteral
    |   FloatingPointLiteral
    |   CharacterLiteral
    |   StringLiteral
    |   BooleanLiteral
    |   NullLiteral
    ;

// ANNOTATIONS

annotation
    :   '@' annotationName ( '(' ( elementValuePairs | elementValue )? ')' )?
    ;

annotationName : qualifiedName ;

elementValuePairs
    :   elementValuePair (','? elementValuePair)*
    ;

elementValuePair
    :   Identifier '=' elementValue
    ;

elementValue
    :   expression
    |   annotation
    |   elementValueArrayInitializer
    ;

elementValueArrayInitializer
    :   '{' (elementValue (',' elementValue)*)? (',')? '}'
    ;

annotationTypeDeclaration
    :   '@' INTERFACE Identifier annotationTypeBody
    ;

annotationTypeBody
    :   '{' (annotationTypeElementDeclaration)* '}'
    ;

annotationTypeElementDeclaration
    :   modifier* annotationTypeElementRest
    |   ';' // this is not allowed by the grammar, but apparently allowed by the actual compiler
    ;

annotationTypeElementRest
    :   type_ annotationMethodOrConstantRest ';'
    |   classDeclaration ';'?
    |   interfaceDeclaration ';'?
    |   enumDeclaration ';'?
    |   annotationTypeDeclaration ';'?
    ;

annotationMethodOrConstantRest
    :   annotationMethodRest
    |   annotationConstantRest
    ;

annotationMethodRest
    :   Identifier '(' ')' defaultValue?
    ;

annotationConstantRest
    :   variableDeclarators
    ;

defaultValue
    :   DEFAULT elementValue
    ;

// STATEMENTS / BLOCKS

block
    :   '{' blockStatement* '}'
    ;

blockStatement
    :   localVariableDeclarationStatement
    |   statement
    |   typeDeclaration
    ;

localVariableDeclarationStatement
    :    localVariableDeclaration ';'
    ;

localVariableDeclaration
    :   variableModifier* type_ variableDeclarators
    ;

statement
    :   block
    |   IF parExpression statement (ELSE statement)?
    |   FOR '(' forControl ')' statement
    |   WHILE parExpression statement
    |   DO statement WHILE parExpression ';'
    |   RUNAS '(' expression ')' statement
    |   TRY block (catchClause+ finallyBlock? | finallyBlock)
    |   TRY resourceSpecification block catchClause* finallyBlock?
    |   RETURN expression? ';'
    |   THROW expression ';'
    |   BREAK Identifier? ';'
    |   CONTINUE Identifier? ';'
    |   ';'
    |   statementExpression ';'
    |   Identifier ':' statement
    |   apexDbExpression ';'
    ;

propertyBlock
	:	modifier* (getter | setter)
	;

getter
 : GET (';' | methodBody)
 ;

setter
 : SET (';' | methodBody)
 ;


catchClause
    :   CATCH '(' variableModifier* catchType Identifier ')' block
    ;

catchType
    :   qualifiedName ('|' qualifiedName)*
    ;

finallyBlock
    :   FINALLY block
    ;

resourceSpecification
    :   '(' resources ';'? ')'
    ;

resources
    :   resource (';' resource)*
    ;

resource
    :   variableModifier* classOrInterfaceType variableDeclaratorId '=' expression
    ;

forControl
    :   enhancedForControl
    |   forInit? ';' expression? ';' forUpdate?
    ;

forInit
    :   localVariableDeclaration
    |   expressionList
    ;

enhancedForControl
    :   variableModifier* type_ variableDeclaratorId ':' expression
    ;

forUpdate
    :   expressionList
    ;

// EXPRESSIONS

parExpression
    :   '(' expression ')'
    ;

expressionList
    :   expression (',' expression)*
    ;

statementExpression
    :   expression
    ;

constantExpression
    :   expression
    ;

apexDbUpsertExpression
    :   DB_UPSERT expression (expression)*
    ;

apexDbExpression
	:   (DB_INSERT | DB_UPDATE | DB_DELETE | DB_UNDELETE) expression
    |   apexDbUpsertExpression
	;

expression
    :   primary
    |   expression '.' GET '(' expressionList? ')'
    |   expression '.' SET '(' expressionList? ')'
    |   expression '?'? '.' Identifier
    |   expression '.' THIS
    |   expression '.' NEW
    |   expression '.'
        (   DB_INSERT
        |   DB_UPSERT
        |   DB_UPDATE
        |   DB_DELETE
        |   DB_UNDELETE
        )
    |   expression '.' SUPER superSuffix
    |   expression '.' explicitGenericInvocation
    |   expression '[' expression ']'
    |   expression '(' expressionList? ')'
    |   NEW creator
    |   '(' type_ ')' expression
    |   expression ('++' | '--')
    |   ('+'|'-'|'++'|'--') expression
    |   ('~'|'!') expression
    |   expression ('*'|'/'|'%') expression
    |   expression ('+'|'-') expression
    |   expression ('&lt;' '&lt;' | '&gt;' '&gt;' '&gt;' | '&gt;' '&gt;') expression
    |   expression ('&lt;=' | '&gt;=' | '&gt;' | '&lt;') expression
    |   expression INSTANCEOF type_
    |   expression ('==' | '!=' | '&lt;&gt;') expression
    |   expression '&amp;' expression
    |   expression '^' expression
    |   expression '|' expression
    |   expression '&amp;&amp;' expression
    |   expression '||' expression
    |   expression '?' expression ':' expression
    |   &lt;assoc=right&gt; expression
        (   '='
        |   '+='
        |   '-='
        |   '*='
        |   '/='
        |   '&amp;='
        |   '|='
        |   '^='
        |   '&gt;&gt;='
        |   '&gt;&gt;&gt;='
        |   '&lt;&lt;='
        |   '%='
        )
        expression
    ;

primary
    :   '(' expression ')'
    |   THIS
    |   SUPER
    |   literal
    |   Identifier
    |   type_ '.' CLASS
    |   VOID '.' CLASS
    |   nonWildcardTypeArguments (explicitGenericInvocationSuffix | THIS arguments)
    |   SoqlLiteral
    ;

creator
    :   nonWildcardTypeArguments createdName classCreatorRest
    |   createdName (arrayCreatorRest | classCreatorRest | mapCreatorRest | setCreatorRest)
    ;

createdName
    :   Identifier typeArgumentsOrDiamond? ('.' Identifier typeArgumentsOrDiamond?)*
    |   primitiveType
    |   SET typeArgumentsOrDiamond // 'set &lt;' has to be defined explisitly, otherwise it clashes with SET of property setter
    ;

innerCreator
    :   Identifier nonWildcardTypeArgumentsOrDiamond? classCreatorRest
    ;

arrayCreatorRest
    :   '['
        (   ']' ('[' ']')* arrayInitializer
        |   expression ']' ('[' expression ']')* ('[' ']')*
        )
    ;

mapCreatorRest
    :   '{'
        (   '}'
        | ( Identifier | expression ) '=&gt;' ( literal | expression ) (',' (Identifier | expression) '=&gt;' ( literal | expression ) )* '}'
        )
    ;

setCreatorRest
	:   '{'
        (   '}'
        | ( literal | expression ) (',' ( literal | expression ))* '}'
        )
	;

classCreatorRest
    :   arguments classBody?
    ;

explicitGenericInvocation
    :   nonWildcardTypeArguments explicitGenericInvocationSuffix
    ;

nonWildcardTypeArguments
    :   '&lt;' typeList '&gt;'
    ;

typeArgumentsOrDiamond
    :   '&lt;' '&gt;'
    |   typeArguments
    ;

nonWildcardTypeArgumentsOrDiamond
    :   '&lt;' '&gt;'
    |   nonWildcardTypeArguments
    ;

superSuffix
    :   arguments
    |   '.' Identifier arguments?
    ;

explicitGenericInvocationSuffix
    :   SUPER superSuffix
    |   Identifier arguments
    ;

arguments
    :   '(' expressionList? ')'
    ;

// Apex - SOQL literal

SoqlLiteral
    : '[' WS* SELECT (SelectRestNoInnerBrackets | SelectRestAllowingInnerBrackets)*? ']'
	;

fragment SelectRestAllowingInnerBrackets
	:  '[' ~']' .*? ']'
	|	~'[' .*?
	;

fragment SelectRestNoInnerBrackets
	:  ~'['
	;
// LEXER

// ?3.9 Keywords

OVERRIDE      : O V E R R I D E;
VIRTUAL       : V I R T U A L;
SET           : S E T;
GET           : G E T;
ABSTRACT      : A B S T R A C T;
BREAK         : B R E A K;
BYTE          : B Y T E;
CATCH         : C A T C H;
CHAR          : C H A R;
CLASS         : C L A S S;
CONST         : C O N S T;
CONTINUE      : C O N T I N U E;
DEFAULT       : D E F A U L T;
DO            : D O;
ELSE          : E L S E;
ENUM          : E N U M;
EXTENDS       : E X T E N D S;
FINAL         : F I N A L;
FINALLY       : F I N A L L Y;
FLOAT         : F L O A T;
FOR           : F O R;
IF            : I F;
GOTO          : G O T O;
IMPLEMENTS    : I M P L E M E N T S;
IMPORT        : I M P O R T;
INSTANCEOF    : I N S T A N C E O F;
INT           : I N T;
INTERFACE     : I N T E R F A C E;
NATIVE        : N A T I V E;
NEW           : N E W;
PACKAGE       : P A C K A G E;
PRIVATE       : P R I V A T E;
PROTECTED     : P R O T E C T E D;
PUBLIC        : P U B L I C;
RETURN        : R E T U R N;
SHORT         : S H O R T;
STATIC        : S T A T I C;

SUPER         : S U P E R;
SYNCHRONIZED  : S Y N C H R O N I Z E D;
THIS          : T H I S;
THROW         : T H R O W;
THROWS        : T H R O W S;
TRANSIENT     : T R A N S I E N T;
TRY           : T R Y;
VOID          : V O I D;
VOLATILE      : V O L A T I L E;
WHILE         : W H I L E;

// Apexcode specific
GLOBAL	      : G L O B A L;
WEBSERVICE    : W E B S E R V I C E;
APEX_WITH_SHARING :    W I T H SPACE S H A R I N G;
APEX_WITHOUT_SHARING : W I T H O U T SPACE S H A R I N G;
SELECT        : S E L E C T;
DB_INSERT     : I N S E R T;
DB_UPSERT     : U P S E R T;
DB_UPDATE     : U P D A T E;
DB_DELETE     : D E L E T E;
DB_UNDELETE   : U N D E L E T E;
TESTMETHOD   : T E S T M E T H O D;
RUNAS        : S Y S T E M DOT R U N A S;


// ?3.10.1 Integer Literals

IntegerLiteral
    :   DecimalIntegerLiteral
    |   HexIntegerLiteral
    |   OctalIntegerLiteral
    |   BinaryIntegerLiteral
    ;

fragment
DecimalIntegerLiteral
    :   DecimalNumeral IntegerTypeSuffix?
    ;

fragment
HexIntegerLiteral
    :   HexNumeral IntegerTypeSuffix?
    ;

fragment
OctalIntegerLiteral
    :   OctalNumeral IntegerTypeSuffix?
    ;

fragment
BinaryIntegerLiteral
    :   BinaryNumeral IntegerTypeSuffix?
    ;

fragment
IntegerTypeSuffix
    :   [lL]
    ;

fragment
DecimalNumeral
    :   '0' Digit?
    |   NonZeroDigit (Digits? | Underscores Digits)
    ;

fragment
Digits
    :   Digit (DigitOrUnderscore* Digit)?
    ;

fragment
Digit
    :   '0'
    |   NonZeroDigit
    ;

fragment
NonZeroDigit
    :   [1-9]
    ;

fragment
DigitOrUnderscore
    :   Digit
    |   '_'
    ;

fragment
Underscores
    :   '_'+
    ;

fragment
HexNumeral
    :   '0' [xX] HexDigits
    ;

fragment
HexDigits
    :   HexDigit (HexDigitOrUnderscore* HexDigit)?
    ;

fragment
HexDigit
    :   [0-9a-fA-F]
    ;

fragment
HexDigitOrUnderscore
    :   HexDigit
    |   '_'
    ;

fragment
OctalNumeral
    :   '0' Underscores? OctalDigits
    ;

fragment
OctalDigits
    :   OctalDigit (OctalDigitOrUnderscore* OctalDigit)?
    ;

fragment
OctalDigit
    :   [0-7]
    ;

fragment
OctalDigitOrUnderscore
    :   OctalDigit
    |   '_'
    ;

fragment
BinaryNumeral
    :   '0' [bB] BinaryDigits
    ;

fragment
BinaryDigits
    :   BinaryDigit (BinaryDigitOrUnderscore* BinaryDigit)?
    ;

fragment
BinaryDigit
    :   [01]
    ;

fragment
BinaryDigitOrUnderscore
    :   BinaryDigit
    |   '_'
    ;

// ?3.10.2 Floating-Point Literals

FloatingPointLiteral
    :   DecimalFloatingPointLiteral
    |   HexadecimalFloatingPointLiteral
    ;

fragment
DecimalFloatingPointLiteral
    :   Digits '.' Digits? ExponentPart? FloatTypeSuffix?
    |   '.' Digits ExponentPart? FloatTypeSuffix?
    |   Digits ExponentPart FloatTypeSuffix?
    |   Digits FloatTypeSuffix
    ;

fragment
ExponentPart
    :   ExponentIndicator SignedInteger
    ;

fragment
ExponentIndicator
    :   [eE]
    ;

fragment
SignedInteger
    :   Sign? Digits
    ;

fragment
Sign
    :   [+-]
    ;

fragment
FloatTypeSuffix
    :   [fFdD]
    ;

fragment
HexadecimalFloatingPointLiteral
    :   HexSignificand BinaryExponent FloatTypeSuffix?
    ;

fragment
HexSignificand
    :   HexNumeral '.'?
    |   '0' [xX] HexDigits? '.' HexDigits
    ;

fragment
BinaryExponent
    :   BinaryExponentIndicator SignedInteger
    ;

fragment
BinaryExponentIndicator
    :   [pP]
    ;

// ?3.10.3 Boolean Literals

BooleanLiteral
    :   'true'
    |   'false'
    ;

// ?3.10.4 Character Literals

CharacterLiteral
    :   QUOTE SingleCharacter QUOTE
    |   QUOTE EscapeSequence QUOTE
    ;

fragment
SingleCharacter
    :   ~['\\]
    ;

// ?3.10.5 String Literals

StringLiteral
    :   QUOTE StringCharacters? QUOTE
    ;

fragment
StringCharacters
    :   StringCharacter+
    ;

fragment
StringCharacter
    :   ~['\\]
    |   EscapeSequence
    ;

// ?3.10.6 Escape Sequences for Character and String Literals

fragment
EscapeSequence
    :   '\\' [btnfr&quot;'\\]
    |   OctalEscape
    |   UnicodeEscape
    ;

fragment
OctalEscape
    :   '\\' OctalDigit
    |   '\\' OctalDigit OctalDigit
    |   '\\' ZeroToThree OctalDigit OctalDigit
    ;

fragment
UnicodeEscape
    :   '\\' 'u' HexDigit HexDigit HexDigit HexDigit
    ;

fragment
ZeroToThree
    :   [0-3]
    ;

// ?3.10.7 The Null Literal

NullLiteral :   N U L L;


// ?3.11 Separators

LPAREN          : '(';
RPAREN          : ')';
LBRACE          : '{';
RBRACE          : '}';
LBRACK          : '[';
RBRACK          : ']';
SEMI            : ';';
COMMA           : ',';
DOT             : '.';

// ?3.12 Operators

ASSIGN          : '=';
GT              : '&gt;';
LT              : '&lt;';
BANG            : '!';
TILDE           : '~';
QUESTION        : '?';
COLON           : ':';
EQUAL           : '==';
LE              : '&lt;=';
GE              : '&gt;=';
NOTEQUAL        : '!=';
AND             : '&amp;&amp;';
OR              : '||';
INC             : '++';
DEC             : '--';
ADD             : '+';
SUB             : '-';
MUL             : '*';
DIV             : '/';
BITAND          : '&amp;';
BITOR           : '|';
CARET           : '^';
MOD             : '%';

ADD_ASSIGN      : '+=';
SUB_ASSIGN      : '-=';
MUL_ASSIGN      : '*=';
DIV_ASSIGN      : '/=';
AND_ASSIGN      : '&amp;=';
OR_ASSIGN       : '|=';
XOR_ASSIGN      : '^=';
MOD_ASSIGN      : '%=';
LSHIFT_ASSIGN   : '&lt;&lt;=';
RSHIFT_ASSIGN   : '&gt;&gt;=';
URSHIFT_ASSIGN  : '&gt;&gt;&gt;=';
LAMBDA_LIKE     : '=&gt;';


// ?3.8 Identifiers (must appear after all keywords in the grammar)

Identifier
    :   JavaLetter JavaLetterOrDigit*
    ;

fragment
JavaLetter
    :   [a-zA-Z$_] // these are the &quot;java letters&quot; below 0xFF
    |   // covers all characters above 0xFF which are not a surrogate
        ~[\u0000-\u00FF\uD800-\uDBFF]
        {Character.isJavaIdentifierStart(_input.LA(-1))}?
    |   // covers UTF-16 surrogate pairs encodings for U+10000 to U+10FFFF
        [\uD800-\uDBFF] [\uDC00-\uDFFF]
        {Character.isJavaIdentifierStart(Character.toCodePoint((char)_input.LA(-2), (char)_input.LA(-1)))}?
    ;

fragment
JavaLetterOrDigit
    :   [a-zA-Z0-9$_] // these are the &quot;java letters or digits&quot; below 0xFF
    |   // covers all characters above 0xFF which are not a surrogate
        ~[\u0000-\u00FF\uD800-\uDBFF]
        {Character.isJavaIdentifierPart(_input.LA(-1))}?
    |   // covers UTF-16 surrogate pairs encodings for U+10000 to U+10FFFF
        [\uD800-\uDBFF] [\uDC00-\uDFFF]
        {Character.isJavaIdentifierPart(Character.toCodePoint((char)_input.LA(-2), (char)_input.LA(-1)))}?
    ;

//
// Additional symbols not defined in the lexical specification
//

AT : '@';
ELLIPSIS : '...';

//
// Whitespace and comments
//

WS  :  [ \t\r\n\u000C]+ -&gt; skip
    ;

APEXDOC_COMMENT
    :   '/**' [\r\n] .*? '*/' -&gt; skip
    ;

APEXDOC_COMMENT_START
    :   '/**' -&gt; skip
    ;

COMMENT
    :   '/*' .*? '*/' -&gt; skip
    ;

COMMENT_START
    :   '/*' -&gt; skip
    ;

LINE_COMMENT
    :   '//' ~[\r\n]* -&gt; skip
    ;

//
// Unexpected token for non recognized elements
//

QUOTE	:	'\'' -&gt; skip;

// characters

fragment A : [aA];
fragment B : [bB];
fragment C : [cC];
fragment D : [dD];
fragment E : [eE];
fragment F : [fF];
fragment G : [gG];
fragment H : [hH];
fragment I : [iI];
fragment J : [jJ];
fragment K : [kK];
fragment L : [lL];
fragment M : [mM];
fragment N : [nN];
fragment O : [oO];
fragment P : [pP];
fragment Q : [qQ];
fragment R : [rR];
fragment S : [sS];
fragment T : [tT];
fragment U : [uU];
fragment V : [vV];
fragment W : [wW];
fragment X : [xX];
fragment Y : [yY];
fragment Z : [zZ];
fragment SPACE : ' ';
</code></pre>
<pre><code>antlr4 apex.g4 

</code></pre>
<pre><code>ls -l
</code></pre>
<pre><code>total 1264
-rw-r--r--  1 mchinnappan  staff   23489 May  5 03:57 apex.g4
-rw-r--r--  1 mchinnappan  staff   51171 May  5 03:57 apex.interp
-rw-r--r--  1 mchinnappan  staff    1751 May  5 03:57 apex.tokens
-rw-r--r--  1 mchinnappan  staff   38466 May  5 03:57 apexBaseListener.java
-rw-r--r--  1 mchinnappan  staff   49689 May  5 03:57 apexLexer.interp
-rw-r--r--  1 mchinnappan  staff   78432 May  5 03:57 apexLexer.java
-rw-r--r--  1 mchinnappan  staff    1751 May  5 03:57 apexLexer.tokens
-rw-r--r--  1 mchinnappan  staff   39428 May  5 03:57 apexListener.java
-rw-r--r--  1 mchinnappan  staff  341615 May  5 03:57 apexParser.java
</code></pre>
<pre><code>
cat AccountCleanup.cls 
</code></pre>
<pre><code class="language-java">public class AccountCleanup {   
    public static void updateAccounts() {
            Account[] accounts = [SELECT Id, Description FROM Account WHERE Id ='0018W000024fLoaQAE'];
            // loop through them and update the Description field
            for (Account acct : accounts) {
                acct.Description = 'TODO';
            }
            // save the change you made
            update accounts;

    }
}
</code></pre>
<pre><code class="language-bash">
antlr4-parse apex.g4 compilationUnit -gui 


public class AccountCleanup {   
    public static void updateAccounts() {
            Account[] accounts = [SELECT Id, Description FROM Account WHERE Id ='0018W000024fLoaQAE'];
            // loop through them and update the Description field
            for (Account acct : accounts) {
                acct.Description = 'TODO';
            }
            // save the change you made
            update accounts;

    }
}
^D
</code></pre>
<p><img src="language-design/img/parse-tree-1.png" alt="Parse Tree" /></p>
<p><img src="language-design/img/antlr4_parse_tree_1.svg" alt="Parse Tree2" /></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script type="text/javascript">
            var socket = new WebSocket("ws://localhost:3000/__livereload");
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>



        <script type="text/javascript">
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript" src="mermaid.min.js"></script>
        <script type="text/javascript" src="mermaid-init.js"></script>

        <script type="text/javascript">
        window.addEventListener('load', function() {
            MathJax.Hub.Register.StartupHook('End', function() {
                window.setTimeout(window.print, 100);
            });
        });
        </script>

    </body>
</html>
