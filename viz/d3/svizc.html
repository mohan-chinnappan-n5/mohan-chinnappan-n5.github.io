<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Viz</title>
    <link rel="stylesheet" href="https://mohan-chinnappan-n5.github.io/viz/d3/css/app.css?v=4">
</head>

<body>

    <div id="container">
        <svg id="lang"></svg>
    </div>


    <script type="module">

        const langs = [
            {
                "language": "Rust",
                "value": 86.73
            },
            {
                "language": "Kotlin",
                "value": 63.29
            },
            {
                "language": "Python",
                "value": 67.34
            },
            {
                "language": "TypeScript",
                "value": 73.46
            },
            {
                "language": "Go",
                "value": 64.58
            },
            {
                "language": "Swift",
                "value": 62.88
            },
            {
                "language": "JavaScript",
                "value": 61.46
            },
            {
                "language": "Dart",
                "value": 62.16
            },
            {
                "language": "LISP",
                "value": 57.19
            },
            {
                "language": "C",
                "value": 39.68
            },
            {
                "language": "C++",
                "value": 48.39
            },
            {
                "language": "Objective-C",
                "value": 23.44
            },
            {
                "language": "Erlang",
                "value": 39.68
            },
            {
                "language": "C#",
                "value": 63.39
            },
            {
                "language": "F#",
                "value": 60.96
            },
            {
                "language": "Clojure",
                "value": 75.23
            },
            {
                "language": "Scala",
                "value": 50.3
            },
            {
                "language": "Ruby",
                "value": 49.99
            },
            {
                "language": "Java",
                "value": 45.75
            },
            {
                "language": "Bash",
                "value": 57.89
            },
            {
                "language": "SQL",
                "value": 64.25
            }
        ];



        let params = (new URL(document.location)).searchParams;
        let c = params.get('c');
        let input = langs;
        if (c !== null) await navigator.clipboard.readText().then((clipText) => {
            input = JSON.parse(clipText);  
        });

        let x = params.get('x');
        let y = params.get('y');
        let d = params.get('d');

        if (d !== null) {
            input = await D3Util.getData(d);
        }


        import { D3Util } from "https://mohan-chinnappan-n5.github.io/viz/d3/js/D3Util.js";
        // bar chart


        D3Util.barChart(
            "#lang",
            input,
            x,
            y
             
        );


    </script>