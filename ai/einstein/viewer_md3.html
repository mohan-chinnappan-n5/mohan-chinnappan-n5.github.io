<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Doc Viewer</title> <!-- Default title -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
/* General styles */
body {
    font-family: 'Arial', sans-serif;
    line-height: 1.6;
    background-color: #f9fafb;
    color: #333;
    margin: 0;
    padding: 20px;
}

/* Headings */
 h2, h3, h4, h5, h6 {
    font-family: 'Arial', sans-serif;
    color: #2d3748;
    margin-top: 0;
    margin-bottom: 10px;
    font-weight: 600;
}



h2 {
    font-size: 2rem;
}

h3 {
    font-size: 1.75rem;
}

h4 {
    font-size: 1.5rem;
}

h5 {
    font-size: 1.25rem;
}

h6 {
    font-size: 1rem;
    font-weight: normal;
}

/* Paragraph */
p {
    margin: 10px 0;
    font-size: 1.1rem;
    line-height: 1.7;
}

/* Lists */
ul, ol {
    margin-left: 20px;
}

ul li, ol li {
    margin: 5px 0;
}

/* Blockquotes */
blockquote {
    border-left: 4px solid #d1d5db;
    padding-left: 20px;
    margin-left: 0;
    font-style: italic;
    color: #6b7280;
    background-color: #f9fafb;
}

/* Code blocks */
pre {
    background-color: #1e293b;
    color: #f9fafb;
    padding: 15px;
    border-radius: 5px;
    font-family: 'Courier New', Courier, monospace;
    overflow-x: auto;
}

code {
    background-color: #f3f4f6;
    padding: 2px 4px;
    border-radius: 4px;
    font-family: 'Courier New', Courier, monospace;
    font-size: 0.95rem;
}

/* Links */
a {
    color: #3b82f6;
    text-decoration: none;
}

a:hover {
    text-decoration: underline;
}

/* Images */
img {
    max-width: 100%;
    height: auto;
    display: block;
    margin: 10px 0;
}

/* Tables */
table {
    width: 100%;
    border-collapse: collapse;
    margin: 20px 0;
}

th, td {
    padding: 10px;
    text-align: left;
    border: 1px solid #e5e7eb;
}

th {
    background-color: #f3f4f6;
    font-weight: bold;
}

/* Horizontal rule */
hr {
    border: 0;
    border-top: 1px solid #e5e7eb;
    margin: 20px 0;
}

/* Block for sections */
section {
    padding: 20px;
    background-color: #fff;
    border-radius: 8px;
    margin-bottom: 20px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

section h2 {
    margin-top: 0;
}

/* List for references */
ul.references {
    list-style: none;
    padding: 0;
    margin-top: 10px;
}

ul.references li {
    font-size: 0.95rem;
    color: #6b7280;
}

ul.references li a {
    color: #3b82f6;
}

ul.references li a:hover {
    text-decoration: underline;
}
  </style>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script> <!-- To parse Markdown -->
 <link rel="icon" type="image/x-icon" href="https://mohan-chinnappan-n5.github.io/dfv/img/mc_favIcon.ico">

</head>
<body class="bg-gray-100 text-gray-900">
  <!-- Navbar -->
  <nav class="bg-blue-600 text-white sticky py-4 shadow-md">
    <div class="max-w-6xl mx-auto flex justify-between items-center px-4">
      <span id="navbar-title" class="text-xl font-bold">Loading...</span> <!-- Navbar title dynamically set -->
    </div>
  </nav>

  <div class="max-w-4xl mx-auto p-6">
    <!-- Header Section -->
    <header class="mb-6">
      <h1 id="page-title" class="text-4xl font-bold text-center mb-4">Loading...</h1> <!-- Default text for loading -->
    </header>

    <!-- Content Section -->
    <div id="markdown-content" class="markdown-body bg-white shadow-md rounded-lg p-6"></div>
    
    <!-- Footer Section -->
    <footer class="mt-8 text-center bg-blue-600 py-4">
      <p class="text-sm text-yellow-200">MCDocs v1.02 </p>
    </footer>
  </div>

  <script>
    // Function to get the value of a query parameter
    function getQueryParam(param) {
      const urlParams = new URLSearchParams(window.location.search);
      return urlParams.get(param);
    }

    // Function to set the page title and navbar title dynamically
    function setPageTitle() {
      const titleParam = getQueryParam('title');
      const pageTitle = titleParam || 'Default Title'; // Fallback to 'Default Title' if title is not provided
      document.title = pageTitle;
      document.getElementById('page-title').textContent = pageTitle;
      document.getElementById('navbar-title').textContent = pageTitle; // Set navbar title
    }

    // Function to fetch and display markdown content
    async function loadMarkdownFromUrl(url) {
      try {
        const response = await fetch(url);
        if (response.ok) {
          const markdown = await response.text();
          // Use the marked library to convert markdown to HTML
          let htmlContent = marked.parse(markdown);
          // Insert <div> with padding and <hr> after each <h1>, <h2>, <h3>, <h4>, <h5>, and <h6> tag
          htmlContent = htmlContent.replace(/(<h[1-6][^>]*>.*?<\/h[1-6]>)/g, '$1<div class="hr-padding"><hr></div>');
          document.getElementById('markdown-content').innerHTML = htmlContent;
        } else {
          document.getElementById('markdown-content').innerHTML = '<p class="text-red-600">Error loading markdown file.</p>';
        }
      } catch (error) {
        document.getElementById('markdown-content').innerHTML = '<p class="text-red-600">Error fetching markdown file.</p>';
      }
    }

    // Set the page title and navbar title based on URL parameter
    setPageTitle();

    // Get the markdown URL from the query parameter "data"
    const markdownUrl = getQueryParam('data');
    if (markdownUrl) {
      loadMarkdownFromUrl(markdownUrl);
    } else {
      document.getElementById('markdown-content').innerHTML = '<p class="text-gray-600">No markdown file provided. Please provide a "data" URL parameter.</p>';
    }
  </script>
</body>
</html>
